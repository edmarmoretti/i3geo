$i = function(id){return document.getElementById(id);}
/* Copyright (c) 2006, Yahoo! Inc. All rights reserved.Code licensed under the BSD License: http://developer.yahoo.net/yui/license.txt Version: 0.11.4*/ if(typeof YAHOO=="undefined"){YAHOO={};}YAHOO.namespace=function(ns){if(!ns||!ns.length){return null;}var _2=ns.split(".");var _3=YAHOO;for(var i=(_2[0]=="YAHOO")?1:0;i<_2.length;++i){_3[_2[i]]=_3[_2[i]]||{};_3=_3[_2[i]];}return _3;};YAHOO.log=function(_5,_6,_7){var l=YAHOO.widget.Logger;if(l&&l.log){return l.log(_5,_6,_7);}else{return false;}};YAHOO.extend=function(_9,_10){var f=function(){};f.prototype=_10.prototype;_9.prototype=new f();_9.prototype.constructor=_9;_9.superclass=_10.prototype;if(_10.prototype.constructor==Object.prototype.constructor){_10.prototype.constructor=_10;}};YAHOO.namespace("util");YAHOO.namespace("widget");YAHOO.namespace("example");
/* Copyright (c) 2006, Yahoo! Inc. All rights reserved. Code licensed under the BSD License:http://developer.yahoo.net/yui/license.txt Version: 0.11.4*/ YAHOO.util.CustomEvent=function(_1,_2,_3){this.type=_1;this.scope=_2||window;this.silent=_3;this.subscribers=[];if(!this.silent){}};YAHOO.util.CustomEvent.prototype={subscribe:function(fn,_5,_6){this.subscribers.push(new YAHOO.util.Subscriber(fn,_5,_6));},unsubscribe:function(fn,_7){var _8=false;for(var i=0,len=this.subscribers.length;i<len;++i){var s=this.subscribers[i];if(s&&s.contains(fn,_7)){this._delete(i);_8=true;}}return _8;},fire:function(){var len=this.subscribers.length;if(!len&&this.silent){return;}var _12=[];for(var i=0;i<arguments.length;++i){_12.push(arguments[i]);}if(!this.silent){}for(i=0;i<len;++i){var s=this.subscribers[i];if(s){if(!this.silent){}var _13=(s.override)?s.obj:this.scope;s.fn.call(_13,this.type,_12,s.obj);}}},unsubscribeAll:function(){for(var i=0,len=this.subscribers.length;i<len;++i){this._delete(len-1-i);}},_delete:function(_14){var s=this.subscribers[_14];if(s){delete s.fn;delete s.obj;}this.subscribers.splice(_14,1);},toString:function(){return "CustomEvent: "+"'"+this.type+"', "+"scope: "+this.scope;}};YAHOO.util.Subscriber=function(fn,obj,_16){this.fn=fn;this.obj=obj||null;this.override=(_16);};YAHOO.util.Subscriber.prototype.contains=function(fn,obj){return (this.fn==fn&&this.obj==obj);};YAHOO.util.Subscriber.prototype.toString=function(){return "Subscriber { obj: "+(this.obj||"")+", override: "+(this.override||"no")+" }";};if(!YAHOO.util.Event){YAHOO.util.Event=function(){var _17=false;var _18=[];var _19=[];var _20=[];var _21=[];var _22=[];var _23=0;var _24=[];var _25=[];var _26=0;return {POLL_RETRYS:200,POLL_INTERVAL:50,EL:0,TYPE:1,FN:2,WFN:3,SCOPE:3,ADJ_SCOPE:4,isSafari:(/Safari|Konqueror|KHTML/gi).test(navigator.userAgent),isIE:(!this.isSafari&&!navigator.userAgent.match(/opera/gi)&&navigator.userAgent.match(/msie/gi)),addDelayedListener:function(el,_28,fn,_29,_30){_19[_19.length]=[el,_28,fn,_29,_30];if(_17){_23=this.POLL_RETRYS;this.startTimeout(0);}},startTimeout:function(_31){var i=(_31||_31===0)?_31:this.POLL_INTERVAL;var _32=this;var _33=function(){_32._tryPreloadAttach();};this.timeout=setTimeout(_33,i);},onAvailable:function(_34,_35,_36,_37){_24.push({id:_34,fn:_35,obj:_36,override:_37});_23=this.POLL_RETRYS;this.startTimeout(0);},addListener:function(el,_38,fn,_39,_40){if(!fn||!fn.call){return false;}if(this._isValidCollection(el)){var ok=true;for(var i=0,len=el.length;i<len;++i){ok=(this.on(el[i],_38,fn,_39,_40)&&ok);}return ok;}else{if(typeof el=="string"){var oEl=this.getEl(el);if(_17&&oEl){el=oEl;}else{this.addDelayedListener(el,_38,fn,_39,_40);return true;}}}if(!el){return false;}if("unload"==_38&&_39!==this){_20[_20.length]=[el,_38,fn,_39,_40];return true;}var _43=(_40)?_39:el;var _44=function(e){return fn.call(_43,YAHOO.util.Event.getEvent(e),_39);};var li=[el,_38,fn,_44,_43];var _47=_18.length;_18[_47]=li;if(this.useLegacyEvent(el,_38)){var _48=this.getLegacyIndex(el,_38);if(_48==-1||el!=_21[_48][0]){_48=_21.length;_25[el.id+_38]=_48;_21[_48]=[el,_38,el["on"+_38]];_22[_48]=[];el["on"+_38]=function(e){YAHOO.util.Event.fireLegacyEvent(YAHOO.util.Event.getEvent(e),_48);};}_22[_48].push(li);}else{if(el.addEventListener){el.addEventListener(_38,_44,false);}else{if(el.attachEvent){el.attachEvent("on"+_38,_44);}}}return true;},fireLegacyEvent:function(e,_49){var ok=true;var le=_22[_49];for(var i=0,len=le.length;i<len;++i){var li=le[i];if(li&&li[this.WFN]){var _51=li[this.ADJ_SCOPE];var ret=li[this.WFN].call(_51,e);ok=(ok&&ret);}}return ok;},getLegacyIndex:function(el,_53){var key=this.generateId(el)+_53;if(typeof _25[key]=="undefined"){return -1;}else{return _25[key];}},useLegacyEvent:function(el,_55){if(!el.addEventListener&&!el.attachEvent){return true;}else{if(this.isSafari){if("click"==_55||"dblclick"==_55){return true;}}}return false;},removeListener:function(el,_56,fn,_57){if(!fn||!fn.call){return false;}var i,len;if(typeof el=="string"){el=this.getEl(el);}else{if(this._isValidCollection(el)){var ok=true;for(i=0,len=el.length;i<len;++i){ok=(this.removeListener(el[i],_56,fn)&&ok);}return ok;}}if("unload"==_56){for(i=0,len=_20.length;i<len;i++){var li=_20[i];if(li&&li[0]==el&&li[1]==_56&&li[2]==fn){_20.splice(i,1);return true;}}return false;}var _58=null;if("undefined"==typeof _57){_57=this._getCacheIndex(el,_56,fn);}if(_57>=0){_58=_18[_57];}if(!el||!_58){return false;}if(this.useLegacyEvent(el,_56)){var _59=this.getLegacyIndex(el,_56);var _60=_22[_59];if(_60){for(i=0,len=_60.length;i<len;++i){li=_60[i];if(li&&li[this.EL]==el&&li[this.TYPE]==_56&&li[this.FN]==fn){_60.splice(i,1);}}}}else{if(el.removeEventListener){el.removeEventListener(_56,_58[this.WFN],false);}else{if(el.detachEvent){el.detachEvent("on"+_56,_58[this.WFN]);}}}delete _18[_57][this.WFN];delete _18[_57][this.FN];_18.splice(_57,1);return true;},getTarget:function(ev,_62){var t=ev.target||ev.srcElement;return this.resolveTextNode(t);},resolveTextNode:function(_64){if(_64&&_64.nodeName&&"#TEXT"==_64.nodeName.toUpperCase()){return _64.parentNode;}else{return _64;}},getPageX:function(ev){var x=ev.pageX;if(!x&&0!==x){x=ev.clientX||0;if(this.isIE){x+=this._getScrollLeft();}}return x;},getPageY:function(ev){var y=ev.pageY;if(!y&&0!==y){y=ev.clientY||0;if(this.isIE){y+=this._getScrollTop();}}return y;},getXY:function(ev){return [this.getPageX(ev),this.getPageY(ev)];},getRelatedTarget:function(ev){var t=ev.relatedTarget;if(!t){if(ev.type=="mouseout"){t=ev.toElement;}else{if(ev.type=="mouseover"){t=ev.fromElement;}}}return this.resolveTextNode(t);},getTime:function(ev){if(!ev.time){var t=new Date().getTime();try{ev.time=t;}catch(e){return t;}}return ev.time;},stopEvent:function(ev){this.stopPropagation(ev);this.preventDefault(ev);},stopPropagation:function(ev){if(ev.stopPropagation){ev.stopPropagation();}else{ev.cancelBubble=true;}},preventDefault:function(ev){if(ev.preventDefault){ev.preventDefault();}else{ev.returnValue=false;}},getEvent:function(e){var ev=e||window.event;if(!ev){var c=this.getEvent.caller;while(c){ev=c.arguments[0];if(ev&&Event==ev.constructor){break;}c=c.caller;}}return ev;},getCharCode:function(ev){return ev.charCode||((ev.type=="keypress")?ev.keyCode:0);},_getCacheIndex:function(el,_68,fn){for(var i=0,len=_18.length;i<len;++i){var li=_18[i];if(li&&li[this.FN]==fn&&li[this.EL]==el&&li[this.TYPE]==_68){return i;}}return -1;},generateId:function(el){var id=el.id;if(!id){id="yuievtautoid-"+_26;++_26;el.id=id;}return id;},_isValidCollection:function(o){return (o&&o.length&&typeof o!="string"&&!o.tagName&&!o.alert&&typeof o[0]!="undefined");},elCache:{},getEl:function(id){return document.getElementById(id);},clearCache:function(){},_load:function(e){_17=true;var EU=YAHOO.util.Event;EU._simpleRemove(window,"load",EU._load);},_tryPreloadAttach:function(){if(this.locked){return false;}this.locked=true;var _72=!_17;if(!_72){_72=(_23>0);}var _73=[];for(var i=0,len=_19.length;i<len;++i){var d=_19[i];if(d){var el=this.getEl(d[this.EL]);if(el){this.on(el,d[this.TYPE],d[this.FN],d[this.SCOPE],d[this.ADJ_SCOPE]);delete _19[i];}else{_73.push(d);}}}_19=_73;var _75=[];for(i=0,len=_24.length;i<len;++i){var _76=_24[i];if(_76){el=this.getEl(_76.id);if(el){var _77=(_76.override)?_76.obj:el;_76.fn.call(_77,_76.obj);delete _24[i];}else{_75.push(_76);}}}_23=(_73.length===0&&_75.length===0)?0:_23-1;if(_72){this.startTimeout();}this.locked=false;return true;},purgeElement:function(el,_78,_79){var _80=this.getListeners(el,_79);if(_80){for(var i=0,len=_80.length;i<len;++i){var l=_80[i];this.removeListener(el,l.type,l.fn);}}if(_78&&el&&el.childNodes){for(i=0,len=el.childNodes.length;i<len;++i){this.purgeElement(el.childNodes[i],_78,_79);}}},getListeners:function(el,_82){var _83=[];if(_18&&_18.length>0){for(var i=0,len=_18.length;i<len;++i){var l=_18[i];if(l&&l[this.EL]===el&&(!_82||_82===l[this.TYPE])){_83.push({type:l[this.TYPE],fn:l[this.FN],obj:l[this.SCOPE],adjust:l[this.ADJ_SCOPE],index:i});}}}return (_83.length)?_83:null;},_unload:function(e){var EU=YAHOO.util.Event;for(var i=0,len=_20.length;i<len;++i){var l=_20[i];if(l){var _84=(l[EU.ADJ_SCOPE])?l[EU.SCOPE]:window;l[EU.FN].call(_84,EU.getEvent(e),l[EU.SCOPE]);delete _20[i];l=null;}}if(_18&&_18.length>0){var j=_18.length;while(j){var _86=j-1;l=_18[_86];if(l){EU.removeListener(l[EU.EL],l[EU.TYPE],l[EU.FN],_86);}l=null;j=j-1;}EU.clearCache();}for(i=0,len=_21.length;i<len;++i){delete _21[i][0];delete _21[i];}EU._simpleRemove(window,"unload",EU._unload);},_getScrollLeft:function(){return this._getScroll()[1];},_getScrollTop:function(){return this._getScroll()[0];},_getScroll:function(){var dd=document.documentElement,db=document.body;if(dd&&(dd.scrollTop||dd.scrollLeft)){return [dd.scrollTop,dd.scrollLeft];}else{if(db){return [db.scrollTop,db.scrollLeft];}else{return [0,0];}}},_simpleAdd:function(el,_88,fn,_89){if(el.addEventListener){el.addEventListener(_88,fn,(_89));}else{if(el.attachEvent){el.attachEvent("on"+_88,fn);}}},_simpleRemove:function(el,_90,fn,_91){if(el.removeEventListener){el.removeEventListener(_90,fn,(_91));}else{if(el.detachEvent){el.detachEvent("on"+_90,fn);}}}};}();YAHOO.util.Event.on=YAHOO.util.Event.addListener;if(document&&document.body){YAHOO.util.Event._load();}else{YAHOO.util.Event._simpleAdd(window,"load",YAHOO.util.Event._load);}YAHOO.util.Event._simpleAdd(window,"unload",YAHOO.util.Event._unload);YAHOO.util.Event._tryPreloadAttach();}
/* Copyright (c) 2006, Yahoo! Inc. All rights reserved.  Code licensed under the BSD License: http://developer.yahoo.net/yui/license.txt Version: 0.11.3 */ YAHOO.util.Dom=function(){var ua=navigator.userAgent.toLowerCase();var isOpera=(ua.indexOf('opera')>-1);var isSafari=(ua.indexOf('safari')>-1);var isIE=(window.ActiveXObject);var id_counter=0;var util=YAHOO.util;var property_cache={};var toCamel=function(property){var convert=function(prop){var test=/(-[a-z])/i.exec(prop);return prop.replace(RegExp.$1,RegExp.$1.substr(1).toUpperCase());};while(property.indexOf('-')>-1){property=convert(property);}return property;};var toHyphen=function(property){if(property.indexOf('-')>-1){return property;}var converted='';for(var i=0,len=property.length;i<len;++i){if(property.charAt(i)==property.charAt(i).toUpperCase()){converted=converted+'-'+property.charAt(i).toLowerCase();}else{converted=converted+property.charAt(i);}}return converted;};var cacheConvertedProperties=function(property){property_cache[property]={camel:toCamel(property),hyphen:toHyphen(property)};};return{get:function(el){if(!el){return null;}if(typeof el!='string'&&!(el instanceof Array)){return el;}if(typeof el=='string'){return document.getElementById(el);}else{var collection=[];for(var i=0,len=el.length;i<len;++i){collection[collection.length]=util.Dom.get(el[i]);}return collection;}return null;},getStyle:function(el,property){var f=function(el){var value=null;var dv=document.defaultView;if(!property_cache[property]){cacheConvertedProperties(property);}var camel=property_cache[property]['camel'];var hyphen=property_cache[property]['hyphen'];if(property=='opacity'&&el.filters){value=1;try{value=el.filters.item('DXImageTransform.Microsoft.Alpha').opacity/100;}catch(e){try{value=el.filters.item('alpha').opacity/100;}catch(e){}}}else if(el.style[camel]){value=el.style[camel];}else if(isIE&&el.currentStyle&&el.currentStyle[camel]){value=el.currentStyle[camel];}else if(dv&&dv.getComputedStyle){var computed=dv.getComputedStyle(el,'');if(computed&&computed.getPropertyValue(hyphen)){value=computed.getPropertyValue(hyphen);}}return value;};return util.Dom.batch(el,f,util.Dom,true);},setStyle:function(el,property,val){if(!property_cache[property]){cacheConvertedProperties(property);}var camel=property_cache[property]['camel'];var f=function(el){switch(property){case'opacity':if(isIE&&typeof el.style.filter=='string'){el.style.filter='alpha(opacity='+val*100+')';if(!el.currentStyle||!el.currentStyle.hasLayout){el.style.zoom=1;}}else{el.style.opacity=val;el.style['-moz-opacity']=val;el.style['-khtml-opacity']=val;}break;default:el.style[camel]=val;}};util.Dom.batch(el,f,util.Dom,true);},getXY:function(el){var f=function(el){if(el.offsetParent===null||this.getStyle(el,'display')=='none'){return false;}var parentNode=null;var pos=[];var box;if(el.getBoundingClientRect){box=el.getBoundingClientRect();var doc=document;if(!this.inDocument(el)&&parent.document!=document){doc=parent.document;if(!this.isAncestor(doc.documentElement,el)){return false;}}var scrollTop=Math.max(doc.documentElement.scrollTop,doc.body.scrollTop);var scrollLeft=Math.max(doc.documentElement.scrollLeft,doc.body.scrollLeft);return[box.left+scrollLeft,box.top+scrollTop];}else{pos=[el.offsetLeft,el.offsetTop];parentNode=el.offsetParent;if(parentNode!=el){while(parentNode){pos[0]+=parentNode.offsetLeft;pos[1]+=parentNode.offsetTop;parentNode=parentNode.offsetParent;}}if(isSafari&&this.getStyle(el,'position')=='absolute'){pos[0]-=document.body.offsetLeft;pos[1]-=document.body.offsetTop;}}if(el.parentNode){parentNode=el.parentNode;}else{parentNode=null;}while(parentNode&&parentNode.tagName.toUpperCase()!='BODY'&&parentNode.tagName.toUpperCase()!='HTML'){if(util.Dom.getStyle(parentNode,'display')!='inline'){pos[0]-=parentNode.scrollLeft;pos[1]-=parentNode.scrollTop;}if(parentNode.parentNode){parentNode=parentNode.parentNode;}else{parentNode=null;}}return pos;};return util.Dom.batch(el,f,util.Dom,true);},getX:function(el){var f=function(el){return util.Dom.getXY(el)[0];};return util.Dom.batch(el,f,util.Dom,true);},getY:function(el){var f=function(el){return util.Dom.getXY(el)[1];};return util.Dom.batch(el,f,util.Dom,true);},setXY:function(el,pos,noRetry){var f=function(el){var style_pos=this.getStyle(el,'position');if(style_pos=='static'){this.setStyle(el,'position','relative');style_pos='relative';}var pageXY=this.getXY(el);if(pageXY===false){return false;}var delta=[parseInt(this.getStyle(el,'left'),10),parseInt(this.getStyle(el,'top'),10)];if(isNaN(delta[0])){delta[0]=(style_pos=='relative')?0:el.offsetLeft;}if(isNaN(delta[1])){delta[1]=(style_pos=='relative')?0:el.offsetTop;}if(pos[0]!==null){el.style.left=pos[0]-pageXY[0]+delta[0]+'px';}if(pos[1]!==null){el.style.top=pos[1]-pageXY[1]+delta[1]+'px';}var newXY=this.getXY(el);if(!noRetry&&(newXY[0]!=pos[0]||newXY[1]!=pos[1])){this.setXY(el,pos,true);}};util.Dom.batch(el,f,util.Dom,true);},setX:function(el,x){util.Dom.setXY(el,[x,null]);},setY:function(el,y){util.Dom.setXY(el,[null,y]);},getRegion:function(el){var f=function(el){var region=new YAHOO.util.Region.getRegion(el);return region;};return util.Dom.batch(el,f,util.Dom,true);},getClientWidth:function(){return util.Dom.getViewportWidth();},getClientHeight:function(){return util.Dom.getViewportHeight();},getElementsByClassName:function(className,tag,root){var method=function(el){return util.Dom.hasClass(el,className)};return util.Dom.getElementsBy(method,tag,root);},hasClass:function(el,className){var re=new RegExp('(?:^|\\s+)'+className+'(?:\\s+|$)');var f=function(el){return re.test(el['className']);};return util.Dom.batch(el,f,util.Dom,true);},addClass:function(el,className){var f=function(el){if(this.hasClass(el,className)){return;}el['className']=[el['className'],className].join(' ');};util.Dom.batch(el,f,util.Dom,true);},removeClass:function(el,className){var re=new RegExp('(?:^|\\s+)'+className+'(?:\\s+|$)','g');var f=function(el){if(!this.hasClass(el,className)){return;}var c=el['className'];el['className']=c.replace(re,' ');if(this.hasClass(el,className)){this.removeClass(el,className);}};util.Dom.batch(el,f,util.Dom,true);},replaceClass:function(el,oldClassName,newClassName){if(oldClassName===newClassName){return false;};var re=new RegExp('(?:^|\\s+)'+oldClassName+'(?:\\s+|$)','g');var f=function(el){if(!this.hasClass(el,oldClassName)){this.addClass(el,newClassName);return;}el['className']=el['className'].replace(re,' '+newClassName+' ');if(this.hasClass(el,oldClassName)){this.replaceClass(el,oldClassName,newClassName);}};util.Dom.batch(el,f,util.Dom,true);},generateId:function(el,prefix){prefix=prefix||'yui-gen';el=el||{};var f=function(el){if(el){el=util.Dom.get(el);}else{el={};}if(!el.id){el.id=prefix+id_counter++;}return el.id;};return util.Dom.batch(el,f,util.Dom,true);},isAncestor:function(haystack,needle){haystack=util.Dom.get(haystack);if(!haystack||!needle){return false;}var f=function(needle){if(haystack.contains&&!isSafari){return haystack.contains(needle);}else if(haystack.compareDocumentPosition){return!!(haystack.compareDocumentPosition(needle)&16);}else{var parent=needle.parentNode;while(parent){if(parent==haystack){return true;}else if(!parent.tagName||parent.tagName.toUpperCase()=='HTML'){return false;}parent=parent.parentNode;}return false;}};return util.Dom.batch(needle,f,util.Dom,true);},inDocument:function(el){var f=function(el){return this.isAncestor(document.documentElement,el);};return util.Dom.batch(el,f,util.Dom,true);},getElementsBy:function(method,tag,root){tag=tag||'*';root=util.Dom.get(root)||document;var nodes=[];var elements=root.getElementsByTagName(tag);if(!elements.length&&(tag=='*'&&root.all)){elements=root.all;}for(var i=0,len=elements.length;i<len;++i){if(method(elements[i])){nodes[nodes.length]=elements[i];}}return nodes;},batch:function(el,method,o,override){var id=el;el=util.Dom.get(el);var scope=(override)?o:window;if(!el||el.tagName||!el.length){if(!el){return false;}return method.call(scope,el,o);}var collection=[];for(var i=0,len=el.length;i<len;++i){if(!el[i]){id=id[i];}collection[collection.length]=method.call(scope,el[i],o);}return collection;},getDocumentHeight:function(){var scrollHeight=-1,windowHeight=-1,bodyHeight=-1;var marginTop=parseInt(util.Dom.getStyle(document.body,'marginTop'),10);var marginBottom=parseInt(util.Dom.getStyle(document.body,'marginBottom'),10);var mode=document.compatMode;if((mode||isIE)&&!isOpera){switch(mode){case'CSS1Compat':scrollHeight=((window.innerHeight&&window.scrollMaxY)?window.innerHeight+window.scrollMaxY:-1);windowHeight=[document.documentElement.clientHeight,self.innerHeight||-1].sort(function(a,b){return(a-b);})[1];bodyHeight=document.body.offsetHeight+marginTop+marginBottom;break;default:scrollHeight=document.body.scrollHeight;bodyHeight=document.body.clientHeight;}}else{scrollHeight=document.documentElement.scrollHeight;windowHeight=self.innerHeight;bodyHeight=document.documentElement.clientHeight;}var h=[scrollHeight,windowHeight,bodyHeight].sort(function(a,b){return(a-b);});return h[2];},getDocumentWidth:function(){var docWidth=-1,bodyWidth=-1,winWidth=-1;var marginRight=parseInt(util.Dom.getStyle(document.body,'marginRight'),10);var marginLeft=parseInt(util.Dom.getStyle(document.body,'marginLeft'),10);var mode=document.compatMode;if(mode||isIE){switch(mode){case'CSS1Compat':docWidth=document.documentElement.clientWidth;bodyWidth=document.body.offsetWidth+marginLeft+marginRight;break;default:bodyWidth=document.body.clientWidth;docWidth=document.body.scrollWidth;break;}}else{docWidth=document.documentElement.clientWidth;bodyWidth=document.body.offsetWidth+marginLeft+marginRight;}var w=Math.max(docWidth,bodyWidth);return w;},getViewportHeight:function(){var height=-1;var mode=document.compatMode;if((mode||isIE)&&!isOpera){switch(mode){case'CSS1Compat':height=document.documentElement.clientHeight;break;default:height=document.body.clientHeight;}}else{height=self.innerHeight;}return height;},getViewportWidth:function(){var width=-1;var mode=document.compatMode;if(mode||isIE){switch(mode){case'CSS1Compat':width=document.documentElement.clientWidth;break;default:width=document.body.clientWidth;}}else{width=self.innerWidth;}return width;}};}();YAHOO.util.Region=function(t,r,b,l){this.top=t;this[1]=t;this.right=r;this.bottom=b;this.left=l;this[0]=l;};YAHOO.util.Region.prototype.contains=function(region){return(region.left>=this.left&&region.right<=this.right&&region.top>=this.top&&region.bottom<=this.bottom);};YAHOO.util.Region.prototype.getArea=function(){return((this.bottom-this.top)*(this.right-this.left));};YAHOO.util.Region.prototype.intersect=function(region){var t=Math.max(this.top,region.top);var r=Math.min(this.right,region.right);var b=Math.min(this.bottom,region.bottom);var l=Math.max(this.left,region.left);if(b>=t&&r>=l){return new YAHOO.util.Region(t,r,b,l);}else{return null;}};YAHOO.util.Region.prototype.union=function(region){var t=Math.min(this.top,region.top);var r=Math.max(this.right,region.right);var b=Math.max(this.bottom,region.bottom);var l=Math.min(this.left,region.left);return new YAHOO.util.Region(t,r,b,l);};YAHOO.util.Region.prototype.toString=function(){return("Region {"+"top: "+this.top+", right: "+this.right+", bottom: "+this.bottom+", left: "+this.left+"}");};YAHOO.util.Region.getRegion=function(el){var p=YAHOO.util.Dom.getXY(el);var t=p[1];var r=p[0]+el.offsetWidth;var b=p[1]+el.offsetHeight;var l=p[0];return new YAHOO.util.Region(t,r,b,l);};YAHOO.util.Point=function(x,y){if(x instanceof Array){y=x[1];x=x[0];}this.x=this.right=this.left=this[0]=x;this.y=this.top=this.bottom=this[1]=y;};YAHOO.util.Point.prototype=new YAHOO.util.Region();
/* Copyright (c) 2006, Yahoo! Inc. All rights reserved. Code licensed under the BSD License: http://developer.yahoo.net/yui/license.txt Version: 0.11.4 */
YAHOO.util.Config=function(owner){if(owner){this.init(owner);}};YAHOO.util.Config.prototype={owner:null,configChangedEvent:null,queueInProgress:false,addProperty:function(key,propertyObject){},getConfig:function(){},getProperty:function(key){},resetProperty:function(key){},setProperty:function(key,value,silent){},queueProperty:function(key,value){},refireEvent:function(key){},applyConfig:function(userConfig,init){},refresh:function(){},fireQueue:function(){},subscribeToConfigEvent:function(key,handler,obj,override){},unsubscribeFromConfigEvent:function(key,handler,obj){},checkBoolean:function(val){if(typeof val=='boolean'){return true;}else{return false;}},checkNumber:function(val){if(isNaN(val)){return false;}else{return true;}}};YAHOO.util.Config.prototype.init=function(owner){this.owner=owner;this.configChangedEvent=new YAHOO.util.CustomEvent("configChanged");this.queueInProgress=false;var config={};var initialConfig={};var eventQueue=[];var fireEvent=function(key,value){key=key.toLowerCase();var property=config[key];if(typeof property!='undefined'&&property.event){property.event.fire(value);}};this.addProperty=function(key,propertyObject){key=key.toLowerCase();config[key]=propertyObject;propertyObject.event=new YAHOO.util.CustomEvent(key);propertyObject.key=key;if(propertyObject.handler){propertyObject.event.subscribe(propertyObject.handler,this.owner,true);}
this.setProperty(key,propertyObject.value,true);if(!propertyObject.suppressEvent){this.queueProperty(key,propertyObject.value);}};this.getConfig=function(){var cfg={};for(var prop in config){var property=config[prop];if(typeof property!='undefined'&&property.event){cfg[prop]=property.value;}}
return cfg;};this.getProperty=function(key){key=key.toLowerCase();var property=config[key];if(typeof property!='undefined'&&property.event){return property.value;}else{return undefined;}};this.resetProperty=function(key){key=key.toLowerCase();var property=config[key];if(typeof property!='undefined'&&property.event){this.setProperty(key,initialConfig[key].value);}else{return undefined;}};this.setProperty=function(key,value,silent){key=key.toLowerCase();if(this.queueInProgress&&!silent){this.queueProperty(key,value);return true;}else{var property=config[key];if(typeof property!='undefined'&&property.event){if(property.validator&&!property.validator(value)){return false;}else{property.value=value;if(!silent){fireEvent(key,value);this.configChangedEvent.fire([key,value]);}
return true;}}else{return false;}}};this.queueProperty=function(key,value){key=key.toLowerCase();var property=config[key];if(typeof property!='undefined'&&property.event){if(typeof value!='undefined'&&property.validator&&!property.validator(value)){return false;}else{if(typeof value!='undefined'){property.value=value;}else{value=property.value;}
var foundDuplicate=false;for(var i=0;i<eventQueue.length;i++){var queueItem=eventQueue[i];if(queueItem){var queueItemKey=queueItem[0];var queueItemValue=queueItem[1];if(queueItemKey.toLowerCase()==key){eventQueue[i]=null;eventQueue.push([key,(typeof value!='undefined'?value:queueItemValue)]);foundDuplicate=true;break;}}}
if(!foundDuplicate&&typeof value!='undefined'){eventQueue.push([key,value]);}}
if(property.supercedes){for(var s=0;s<property.supercedes.length;s++){var supercedesCheck=property.supercedes[s];for(var q=0;q<eventQueue.length;q++){var queueItemCheck=eventQueue[q];if(queueItemCheck){var queueItemCheckKey=queueItemCheck[0];var queueItemCheckValue=queueItemCheck[1];if(queueItemCheckKey.toLowerCase()==supercedesCheck.toLowerCase()){eventQueue.push([queueItemCheckKey,queueItemCheckValue]);eventQueue[q]=null;break;}}}}}
return true;}else{return false;}};this.refireEvent=function(key){key=key.toLowerCase();var property=config[key];if(typeof property!='undefined'&&property.event&&typeof property.value!='undefined'){if(this.queueInProgress){this.queueProperty(key);}else{fireEvent(key,property.value);}}};this.applyConfig=function(userConfig,init){if(init){initialConfig=userConfig;}
for(var prop in userConfig){this.queueProperty(prop,userConfig[prop]);}};this.refresh=function(){for(var prop in config){this.refireEvent(prop);}};this.fireQueue=function(){this.queueInProgress=true;for(var i=0;i<eventQueue.length;i++){var queueItem=eventQueue[i];if(queueItem){var key=queueItem[0];var value=queueItem[1];var property=config[key];property.value=value;fireEvent(key,value);}}
this.queueInProgress=false;eventQueue=[];};this.subscribeToConfigEvent=function(key,handler,obj,override){key=key.toLowerCase();var property=config[key];if(typeof property!='undefined'&&property.event){if(!YAHOO.util.Config.alreadySubscribed(property.event,handler,obj)){property.event.subscribe(handler,obj,override);}
return true;}else{return false;}};this.unsubscribeFromConfigEvent=function(key,handler,obj){key=key.toLowerCase();var property=config[key];if(typeof property!='undefined'&&property.event){return property.event.unsubscribe(handler,obj);}else{return false;}};this.toString=function(){var output="Config";if(this.owner){output+=" ["+this.owner.toString()+"]";}
return output;};this.outputEventQueue=function(){var output="";for(var q=0;q<eventQueue.length;q++){var queueItem=eventQueue[q];if(queueItem){output+=queueItem[0]+"="+queueItem[1]+", ";}}
return output;};};YAHOO.util.Config.alreadySubscribed=function(evt,fn,obj){for(var e=0;e<evt.subscribers.length;e++){var subsc=evt.subscribers[e];if(subsc&&subsc.obj==obj&&subsc.fn==fn){return true;}}
return false;};YAHOO.widget.Module=function(el,userConfig){if(el){this.init(el,userConfig);}};YAHOO.widget.Module.IMG_ROOT="http://us.i1.yimg.com/us.yimg.com/i/";YAHOO.widget.Module.IMG_ROOT_SSL="https://a248.e.akamai.net/sec.yimg.com/i/";YAHOO.widget.Module.CSS_MODULE="module";YAHOO.widget.Module.CSS_HEADER="hd";YAHOO.widget.Module.CSS_BODY="bd";YAHOO.widget.Module.CSS_FOOTER="ft";YAHOO.widget.Module.RESIZE_MONITOR_SECURE_URL="javascript:false";YAHOO.widget.Module.prototype={constructor:YAHOO.widget.Module,element:null,header:null,body:null,footer:null,id:null,childNodesInDOM:null,imageRoot:YAHOO.widget.Module.IMG_ROOT,beforeInitEvent:null,initEvent:null,appendEvent:null,beforeRenderEvent:null,renderEvent:null,changeHeaderEvent:null,changeBodyEvent:null,changeFooterEvent:null,changeContentEvent:null,destroyEvent:null,beforeShowEvent:null,showEvent:null,beforeHideEvent:null,hideEvent:null,initEvents:function(){this.beforeInitEvent=new YAHOO.util.CustomEvent("beforeInit");this.initEvent=new YAHOO.util.CustomEvent("init");this.appendEvent=new YAHOO.util.CustomEvent("append");this.beforeRenderEvent=new YAHOO.util.CustomEvent("beforeRender");this.renderEvent=new YAHOO.util.CustomEvent("render");this.changeHeaderEvent=new YAHOO.util.CustomEvent("changeHeader");this.changeBodyEvent=new YAHOO.util.CustomEvent("changeBody");this.changeFooterEvent=new YAHOO.util.CustomEvent("changeFooter");this.changeContentEvent=new YAHOO.util.CustomEvent("changeContent");this.destroyEvent=new YAHOO.util.CustomEvent("destroy");this.beforeShowEvent=new YAHOO.util.CustomEvent("beforeShow");this.showEvent=new YAHOO.util.CustomEvent("show");this.beforeHideEvent=new YAHOO.util.CustomEvent("beforeHide");this.hideEvent=new YAHOO.util.CustomEvent("hide");},platform:function(){var ua=navigator.userAgent.toLowerCase();if(ua.indexOf("windows")!=-1||ua.indexOf("win32")!=-1){return"windows";}else if(ua.indexOf("macintosh")!=-1){return"mac";}else{return false;}}(),browser:function(){var ua=navigator.userAgent.toLowerCase();if(ua.indexOf('opera')!=-1){return'opera';}else if(ua.indexOf('msie 7')!=-1){return'ie7';}else if(ua.indexOf('msie')!=-1){return'ie';}else if(ua.indexOf('safari')!=-1){return'safari';}else if(ua.indexOf('gecko')!=-1){return'gecko';}else{return false;}}(),isSecure:function(){if(window.location.href.toLowerCase().indexOf("https")===0){return true;}else{return false;}}(),initDefaultConfig:function(){this.cfg.addProperty("visible",{value:true,handler:this.configVisible,validator:this.cfg.checkBoolean});this.cfg.addProperty("effect",{suppressEvent:true,supercedes:["visible"]});this.cfg.addProperty("monitorresize",{value:true,handler:this.configMonitorResize});},init:function(el,userConfig){this.initEvents();this.beforeInitEvent.fire(YAHOO.widget.Module);this.cfg=new YAHOO.util.Config(this);if(this.isSecure){this.imageRoot=YAHOO.widget.Module.IMG_ROOT_SSL;}
if(typeof el=="string"){var elId=el;el=document.getElementById(el);if(!el){el=document.createElement("DIV");el.id=elId;}}
this.element=el;if(el.id){this.id=el.id;}
var childNodes=this.element.childNodes;if(childNodes){for(var i=0;i<childNodes.length;i++){var child=childNodes[i];switch(child.className){case YAHOO.widget.Module.CSS_HEADER:this.header=child;break;case YAHOO.widget.Module.CSS_BODY:this.body=child;break;case YAHOO.widget.Module.CSS_FOOTER:this.footer=child;break;}}}
this.initDefaultConfig();YAHOO.util.Dom.addClass(this.element,YAHOO.widget.Module.CSS_MODULE);if(userConfig){this.cfg.applyConfig(userConfig,true);}
if(!YAHOO.util.Config.alreadySubscribed(this.renderEvent,this.cfg.fireQueue,this.cfg)){this.renderEvent.subscribe(this.cfg.fireQueue,this.cfg,true);}
this.initEvent.fire(YAHOO.widget.Module);},initResizeMonitor:function(){if(this.browser!="opera"){var resizeMonitor=document.getElementById("_yuiResizeMonitor");if(!resizeMonitor){resizeMonitor=document.createElement("iframe");var bIE=(this.browser.indexOf("ie")===0);if(this.isSecure&&YAHOO.widget.Module.RESIZE_MONITOR_SECURE_URL&&bIE){resizeMonitor.src=YAHOO.widget.Module.RESIZE_MONITOR_SECURE_URL;}
resizeMonitor.id="_yuiResizeMonitor";resizeMonitor.style.visibility="hidden";document.body.appendChild(resizeMonitor);resizeMonitor.style.width="10em";resizeMonitor.style.height="10em";resizeMonitor.style.position="absolute";var nLeft=-1*resizeMonitor.offsetWidth,nTop=-1*resizeMonitor.offsetHeight;resizeMonitor.style.top=nTop+"px";resizeMonitor.style.left=nLeft+"px";resizeMonitor.style.borderStyle="none";resizeMonitor.style.borderWidth="0";YAHOO.util.Dom.setStyle(resizeMonitor,"opacity","0");resizeMonitor.style.visibility="visible";if(!bIE){var doc=resizeMonitor.contentWindow.document;doc.open();doc.close();}}
if(resizeMonitor&&resizeMonitor.contentWindow){this.resizeMonitor=resizeMonitor;YAHOO.util.Event.addListener(this.resizeMonitor.contentWindow,"resize",this.onDomResize,this,true);}}},onDomResize:function(e,obj){var nLeft=-1*this.resizeMonitor.offsetWidth,nTop=-1*this.resizeMonitor.offsetHeight;this.resizeMonitor.style.top=nTop+"px";this.resizeMonitor.style.left=nLeft+"px";},setHeader:function(headerContent){if(!this.header){this.header=document.createElement("DIV");this.header.className=YAHOO.widget.Module.CSS_HEADER;}
if(typeof headerContent=="string"){this.header.innerHTML=headerContent;}else{this.header.innerHTML="";this.header.appendChild(headerContent);}
this.changeHeaderEvent.fire(headerContent);this.changeContentEvent.fire();},appendToHeader:function(element){if(!this.header){this.header=document.createElement("DIV");this.header.className=YAHOO.widget.Module.CSS_HEADER;}
this.header.appendChild(element);this.changeHeaderEvent.fire(element);this.changeContentEvent.fire();},setBody:function(bodyContent){if(!this.body){this.body=document.createElement("DIV");this.body.className=YAHOO.widget.Module.CSS_BODY;}
if(typeof bodyContent=="string")
{this.body.innerHTML=bodyContent;}else{this.body.innerHTML="";this.body.appendChild(bodyContent);}
this.changeBodyEvent.fire(bodyContent);this.changeContentEvent.fire();},appendToBody:function(element){if(!this.body){this.body=document.createElement("DIV");this.body.className=YAHOO.widget.Module.CSS_BODY;}
this.body.appendChild(element);this.changeBodyEvent.fire(element);this.changeContentEvent.fire();},setFooter:function(footerContent){if(!this.footer){this.footer=document.createElement("DIV");this.footer.className=YAHOO.widget.Module.CSS_FOOTER;}
if(typeof footerContent=="string"){this.footer.innerHTML=footerContent;}else{this.footer.innerHTML="";this.footer.appendChild(footerContent);}
this.changeFooterEvent.fire(footerContent);this.changeContentEvent.fire();},appendToFooter:function(element){if(!this.footer){this.footer=document.createElement("DIV");this.footer.className=YAHOO.widget.Module.CSS_FOOTER;}
this.footer.appendChild(element);this.changeFooterEvent.fire(element);this.changeContentEvent.fire();},render:function(appendToNode,moduleElement){this.beforeRenderEvent.fire();if(!moduleElement){moduleElement=this.element;}
var me=this;var appendTo=function(element){if(typeof element=="string"){element=document.getElementById(element);}
if(element){element.appendChild(me.element);me.appendEvent.fire();}};if(appendToNode){appendTo(appendToNode);}else{if(!YAHOO.util.Dom.inDocument(this.element)){return false;}}
if(this.header&&!YAHOO.util.Dom.inDocument(this.header)){var firstChild=moduleElement.firstChild;if(firstChild){moduleElement.insertBefore(this.header,firstChild);}else{moduleElement.appendChild(this.header);}}
if(this.body&&!YAHOO.util.Dom.inDocument(this.body)){if(this.footer&&YAHOO.util.Dom.isAncestor(this.moduleElement,this.footer)){moduleElement.insertBefore(this.body,this.footer);}else{moduleElement.appendChild(this.body);}}
if(this.footer&&!YAHOO.util.Dom.inDocument(this.footer)){moduleElement.appendChild(this.footer);}
this.renderEvent.fire();return true;},destroy:function(){if(this.element){var parent=this.element.parentNode;}
if(parent){parent.removeChild(this.element);}
this.element=null;this.header=null;this.body=null;this.footer=null;this.destroyEvent.fire();},show:function(){this.cfg.setProperty("visible",true);},hide:function(){this.cfg.setProperty("visible",false);},configVisible:function(type,args,obj){var visible=args[0];if(visible){this.beforeShowEvent.fire();YAHOO.util.Dom.setStyle(this.element,"display","block");this.showEvent.fire();}else{this.beforeHideEvent.fire();YAHOO.util.Dom.setStyle(this.element,"display","none");this.hideEvent.fire();}},configMonitorResize:function(type,args,obj){var monitor=args[0];if(monitor){this.initResizeMonitor();}else{YAHOO.util.Event.removeListener(this.resizeMonitor,"resize",this.onDomResize);this.resizeMonitor=null;}}};YAHOO.widget.Module.prototype.toString=function(){return"Module "+this.id;};YAHOO.widget.Overlay=function(el,userConfig){YAHOO.widget.Overlay.superclass.constructor.call(this,el,userConfig);};YAHOO.extend(YAHOO.widget.Overlay,YAHOO.widget.Module);YAHOO.widget.Overlay.IFRAME_SRC="promo/m/irs/blank.gif";YAHOO.widget.Overlay.TOP_LEFT="tl";YAHOO.widget.Overlay.TOP_RIGHT="tr";YAHOO.widget.Overlay.BOTTOM_LEFT="bl";YAHOO.widget.Overlay.BOTTOM_RIGHT="br";YAHOO.widget.Overlay.CSS_OVERLAY="overlay";YAHOO.widget.Overlay.prototype.beforeMoveEvent=null;YAHOO.widget.Overlay.prototype.moveEvent=null;YAHOO.widget.Overlay.prototype.init=function(el,userConfig){YAHOO.widget.Overlay.superclass.init.call(this,el);this.beforeInitEvent.fire(YAHOO.widget.Overlay);YAHOO.util.Dom.addClass(this.element,YAHOO.widget.Overlay.CSS_OVERLAY);if(userConfig){this.cfg.applyConfig(userConfig,true);}
if(this.platform=="mac"&&this.browser=="gecko"){if(!YAHOO.util.Config.alreadySubscribed(this.showEvent,this.showMacGeckoScrollbars,this)){this.showEvent.subscribe(this.showMacGeckoScrollbars,this,true);}
if(!YAHOO.util.Config.alreadySubscribed(this.hideEvent,this.hideMacGeckoScrollbars,this)){this.hideEvent.subscribe(this.hideMacGeckoScrollbars,this,true);}}
this.initEvent.fire(YAHOO.widget.Overlay);};YAHOO.widget.Overlay.prototype.initEvents=function(){YAHOO.widget.Overlay.superclass.initEvents.call(this);this.beforeMoveEvent=new YAHOO.util.CustomEvent("beforeMove",this);this.moveEvent=new YAHOO.util.CustomEvent("move",this);};YAHOO.widget.Overlay.prototype.initDefaultConfig=function(){YAHOO.widget.Overlay.superclass.initDefaultConfig.call(this);this.cfg.addProperty("x",{handler:this.configX,validator:this.cfg.checkNumber,suppressEvent:true,supercedes:["iframe"]});this.cfg.addProperty("y",{handler:this.configY,validator:this.cfg.checkNumber,suppressEvent:true,supercedes:["iframe"]});this.cfg.addProperty("xy",{handler:this.configXY,suppressEvent:true,supercedes:["iframe"]});this.cfg.addProperty("context",{handler:this.configContext,suppressEvent:true,supercedes:["iframe"]});this.cfg.addProperty("fixedcenter",{value:false,handler:this.configFixedCenter,validator:this.cfg.checkBoolean,supercedes:["iframe","visible"]});this.cfg.addProperty("width",{handler:this.configWidth,suppressEvent:true,supercedes:["iframe"]});this.cfg.addProperty("height",{handler:this.configHeight,suppressEvent:true,supercedes:["iframe"]});this.cfg.addProperty("zIndex",{value:null,handler:this.configzIndex});this.cfg.addProperty("constraintoviewport",{value:false,handler:this.configConstrainToViewport,validator:this.cfg.checkBoolean,supercedes:["iframe","x","y","xy"]});this.cfg.addProperty("iframe",{value:(this.browser=="ie"?true:false),handler:this.configIframe,validator:this.cfg.checkBoolean,supercedes:["zIndex"]});};YAHOO.widget.Overlay.prototype.moveTo=function(x,y){this.cfg.setProperty("xy",[x,y]);};YAHOO.widget.Overlay.prototype.hideMacGeckoScrollbars=function(){YAHOO.util.Dom.removeClass(this.element,"show-scrollbars");YAHOO.util.Dom.addClass(this.element,"hide-scrollbars");};YAHOO.widget.Overlay.prototype.showMacGeckoScrollbars=function(){YAHOO.util.Dom.removeClass(this.element,"hide-scrollbars");YAHOO.util.Dom.addClass(this.element,"show-scrollbars");};YAHOO.widget.Overlay.prototype.configVisible=function(type,args,obj){var visible=args[0];var currentVis=YAHOO.util.Dom.getStyle(this.element,"visibility");var effect=this.cfg.getProperty("effect");var effectInstances=[];if(effect){if(effect instanceof Array){for(var i=0;i<effect.length;i++){var eff=effect[i];effectInstances[effectInstances.length]=eff.effect(this,eff.duration);}}else{effectInstances[effectInstances.length]=effect.effect(this,effect.duration);}}
var isMacGecko=(this.platform=="mac"&&this.browser=="gecko");if(visible){if(isMacGecko){this.showMacGeckoScrollbars();}
if(effect){if(visible){if(currentVis!="visible"){this.beforeShowEvent.fire();for(var j=0;j<effectInstances.length;j++){var e=effectInstances[j];if(j===0&&!YAHOO.util.Config.alreadySubscribed(e.animateInCompleteEvent,this.showEvent.fire,this.showEvent)){e.animateInCompleteEvent.subscribe(this.showEvent.fire,this.showEvent,true);}
e.animateIn();}}}}else{if(currentVis!="visible"){this.beforeShowEvent.fire();YAHOO.util.Dom.setStyle(this.element,"visibility","visible");this.cfg.refireEvent("iframe");this.showEvent.fire();}}}else{if(isMacGecko){this.hideMacGeckoScrollbars();}
if(effect){if(currentVis=="visible"){this.beforeHideEvent.fire();for(var k=0;k<effectInstances.length;k++){var h=effectInstances[k];if(k===0&&!YAHOO.util.Config.alreadySubscribed(h.animateOutCompleteEvent,this.hideEvent.fire,this.hideEvent)){h.animateOutCompleteEvent.subscribe(this.hideEvent.fire,this.hideEvent,true);}
h.animateOut();}}}else{if(currentVis=="visible"){this.beforeHideEvent.fire();YAHOO.util.Dom.setStyle(this.element,"visibility","hidden");this.cfg.refireEvent("iframe");this.hideEvent.fire();}}}};YAHOO.widget.Overlay.prototype.doCenterOnDOMEvent=function(){if(this.cfg.getProperty("visible")){this.center();}};YAHOO.widget.Overlay.prototype.configFixedCenter=function(type,args,obj){var val=args[0];if(val){this.center();if(!YAHOO.util.Config.alreadySubscribed(this.beforeShowEvent,this.center,this)){this.beforeShowEvent.subscribe(this.center,this,true);}
if(!YAHOO.util.Config.alreadySubscribed(YAHOO.widget.Overlay.windowResizeEvent,this.doCenterOnDOMEvent,this)){YAHOO.widget.Overlay.windowResizeEvent.subscribe(this.doCenterOnDOMEvent,this,true);}
if(!YAHOO.util.Config.alreadySubscribed(YAHOO.widget.Overlay.windowScrollEvent,this.doCenterOnDOMEvent,this)){YAHOO.widget.Overlay.windowScrollEvent.subscribe(this.doCenterOnDOMEvent,this,true);}}else{YAHOO.widget.Overlay.windowResizeEvent.unsubscribe(this.doCenterOnDOMEvent,this);YAHOO.widget.Overlay.windowScrollEvent.unsubscribe(this.doCenterOnDOMEvent,this);}};YAHOO.widget.Overlay.prototype.configHeight=function(type,args,obj){var height=args[0];var el=this.element;YAHOO.util.Dom.setStyle(el,"height",height);this.cfg.refireEvent("iframe");};YAHOO.widget.Overlay.prototype.configWidth=function(type,args,obj){var width=args[0];var el=this.element;YAHOO.util.Dom.setStyle(el,"width",width);this.cfg.refireEvent("iframe");};YAHOO.widget.Overlay.prototype.configzIndex=function(type,args,obj){var zIndex=args[0];var el=this.element;if(!zIndex){zIndex=YAHOO.util.Dom.getStyle(el,"zIndex");if(!zIndex||isNaN(zIndex)){zIndex=0;}}
if(this.iframe){if(zIndex<=0){zIndex=1;}
YAHOO.util.Dom.setStyle(this.iframe,"zIndex",(zIndex-1));}
YAHOO.util.Dom.setStyle(el,"zIndex",zIndex);this.cfg.setProperty("zIndex",zIndex,true);};YAHOO.widget.Overlay.prototype.configXY=function(type,args,obj){var pos=args[0];var x=pos[0];var y=pos[1];this.cfg.setProperty("x",x);this.cfg.setProperty("y",y);this.beforeMoveEvent.fire([x,y]);x=this.cfg.getProperty("x");y=this.cfg.getProperty("y");this.cfg.refireEvent("iframe");this.moveEvent.fire([x,y]);};YAHOO.widget.Overlay.prototype.configX=function(type,args,obj){var x=args[0];var y=this.cfg.getProperty("y");this.cfg.setProperty("x",x,true);this.cfg.setProperty("y",y,true);this.beforeMoveEvent.fire([x,y]);x=this.cfg.getProperty("x");y=this.cfg.getProperty("y");YAHOO.util.Dom.setX(this.element,x,true);this.cfg.setProperty("xy",[x,y],true);this.cfg.refireEvent("iframe");this.moveEvent.fire([x,y]);};YAHOO.widget.Overlay.prototype.configY=function(type,args,obj){var x=this.cfg.getProperty("x");var y=args[0];this.cfg.setProperty("x",x,true);this.cfg.setProperty("y",y,true);this.beforeMoveEvent.fire([x,y]);x=this.cfg.getProperty("x");y=this.cfg.getProperty("y");YAHOO.util.Dom.setY(this.element,y,true);this.cfg.setProperty("xy",[x,y],true);this.cfg.refireEvent("iframe");this.moveEvent.fire([x,y]);};YAHOO.widget.Overlay.prototype.showIframe=function(){if(this.iframe){this.iframe.style.display="block";}}
YAHOO.widget.Overlay.prototype.hideIframe=function(){if(this.iframe){this.iframe.style.display="none";}}
YAHOO.widget.Overlay.prototype.configIframe=function(type,args,obj){var val=args[0];if(val){if(!YAHOO.util.Config.alreadySubscribed(this.showEvent,this.showIframe,this)){this.showEvent.subscribe(this.showIframe,this,true);}
if(!YAHOO.util.Config.alreadySubscribed(this.hideEvent,this.hideIframe,this)){this.hideEvent.subscribe(this.hideIframe,this,true);}
var x=this.cfg.getProperty("x");var y=this.cfg.getProperty("y");if(!x||!y){this.syncPosition();x=this.cfg.getProperty("x");y=this.cfg.getProperty("y");}
if(!isNaN(x)&&!isNaN(y)){if(!this.iframe){this.iframe=document.createElement("iframe");if(this.isSecure){this.iframe.src=this.imageRoot+YAHOO.widget.Overlay.IFRAME_SRC;}
var parent=this.element.parentNode;if(parent){parent.appendChild(this.iframe);}else{document.body.appendChild(this.iframe);}
YAHOO.util.Dom.setStyle(this.iframe,"position","absolute");YAHOO.util.Dom.setStyle(this.iframe,"border","none");YAHOO.util.Dom.setStyle(this.iframe,"margin","0");YAHOO.util.Dom.setStyle(this.iframe,"padding","0");YAHOO.util.Dom.setStyle(this.iframe,"opacity","0");if(this.cfg.getProperty("visible")){this.showIframe();}else{this.hideIframe();}}
var iframeDisplay=YAHOO.util.Dom.getStyle(this.iframe,"display");if(iframeDisplay=="none"){this.iframe.style.display="block";}
YAHOO.util.Dom.setXY(this.iframe,[x,y]);var width=this.element.clientWidth;var height=this.element.clientHeight;YAHOO.util.Dom.setStyle(this.iframe,"width",(width+2)+"px");YAHOO.util.Dom.setStyle(this.iframe,"height",(height+2)+"px");if(iframeDisplay=="none"){this.iframe.style.display="none";}}}else{if(this.iframe){this.iframe.style.display="none";}
this.showEvent.unsubscribe(this.showIframe,this);this.hideEvent.unsubscribe(this.hideIframe,this);}};YAHOO.widget.Overlay.prototype.configConstrainToViewport=function(type,args,obj){var val=args[0];if(val){if(!YAHOO.util.Config.alreadySubscribed(this.beforeMoveEvent,this.enforceConstraints,this)){this.beforeMoveEvent.subscribe(this.enforceConstraints,this,true);}}else{this.beforeMoveEvent.unsubscribe(this.enforceConstraints,this);}};YAHOO.widget.Overlay.prototype.configContext=function(type,args,obj){var contextArgs=args[0];if(contextArgs){var contextEl=contextArgs[0];var elementMagnetCorner=contextArgs[1];var contextMagnetCorner=contextArgs[2];if(contextEl){if(typeof contextEl=="string"){this.cfg.setProperty("context",[document.getElementById(contextEl),elementMagnetCorner,contextMagnetCorner],true);}
if(elementMagnetCorner&&contextMagnetCorner){this.align(elementMagnetCorner,contextMagnetCorner);}}}};YAHOO.widget.Overlay.prototype.align=function(elementAlign,contextAlign){var contextArgs=this.cfg.getProperty("context");if(contextArgs){var context=contextArgs[0];var element=this.element;var me=this;if(!elementAlign){elementAlign=contextArgs[1];}
if(!contextAlign){contextAlign=contextArgs[2];}
if(element&&context){var elementRegion=YAHOO.util.Dom.getRegion(element);var contextRegion=YAHOO.util.Dom.getRegion(context);var doAlign=function(v,h){switch(elementAlign){case YAHOO.widget.Overlay.TOP_LEFT:me.moveTo(h,v);break;case YAHOO.widget.Overlay.TOP_RIGHT:me.moveTo(h-element.offsetWidth,v);break;case YAHOO.widget.Overlay.BOTTOM_LEFT:me.moveTo(h,v-element.offsetHeight);break;case YAHOO.widget.Overlay.BOTTOM_RIGHT:me.moveTo(h-element.offsetWidth,v-element.offsetHeight);break;}};switch(contextAlign){case YAHOO.widget.Overlay.TOP_LEFT:doAlign(contextRegion.top,contextRegion.left);break;case YAHOO.widget.Overlay.TOP_RIGHT:doAlign(contextRegion.top,contextRegion.right);break;case YAHOO.widget.Overlay.BOTTOM_LEFT:doAlign(contextRegion.bottom,contextRegion.left);break;case YAHOO.widget.Overlay.BOTTOM_RIGHT:doAlign(contextRegion.bottom,contextRegion.right);break;}}}};YAHOO.widget.Overlay.prototype.enforceConstraints=function(type,args,obj){var pos=args[0];var x=pos[0];var y=pos[1];var offsetHeight=this.element.offsetHeight;var offsetWidth=this.element.offsetWidth;var viewPortWidth=YAHOO.util.Dom.getViewportWidth();var viewPortHeight=YAHOO.util.Dom.getViewportHeight();var scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;var scrollY=document.documentElement.scrollTop||document.body.scrollTop;var topConstraint=scrollY+10;var leftConstraint=scrollX+10;var bottomConstraint=scrollY+viewPortHeight-offsetHeight-10;var rightConstraint=scrollX+viewPortWidth-offsetWidth-10;if(x<leftConstraint){x=leftConstraint;}else if(x>rightConstraint){x=rightConstraint;}
if(y<topConstraint){y=topConstraint;}else if(y>bottomConstraint){y=bottomConstraint;}
this.cfg.setProperty("x",x,true);this.cfg.setProperty("y",y,true);this.cfg.setProperty("xy",[x,y],true);};YAHOO.widget.Overlay.prototype.center=function(){var scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;var scrollY=document.documentElement.scrollTop||document.body.scrollTop;var viewPortWidth=YAHOO.util.Dom.getClientWidth();var viewPortHeight=YAHOO.util.Dom.getClientHeight();var elementWidth=this.element.offsetWidth;var elementHeight=this.element.offsetHeight;var x=(viewPortWidth/2)-(elementWidth/2)+scrollX;var y=(viewPortHeight/2)-(elementHeight/2)+scrollY;this.element.style.left=parseInt(x,10)+"px";this.element.style.top=parseInt(y,10)+"px";this.syncPosition();this.cfg.refireEvent("iframe");};YAHOO.widget.Overlay.prototype.syncPosition=function(){var pos=YAHOO.util.Dom.getXY(this.element);this.cfg.setProperty("x",pos[0],true);this.cfg.setProperty("y",pos[1],true);this.cfg.setProperty("xy",pos,true);};YAHOO.widget.Overlay.prototype.onDomResize=function(e,obj){YAHOO.widget.Overlay.superclass.onDomResize.call(this,e,obj);this.cfg.refireEvent("iframe");};YAHOO.widget.Overlay.prototype.destroy=function(){if(this.iframe){this.iframe.parentNode.removeChild(this.iframe);}
this.iframe=null;YAHOO.widget.Overlay.superclass.destroy.call(this);};YAHOO.widget.Overlay.prototype.toString=function(){return"Overlay "+this.id;};YAHOO.widget.Overlay.windowScrollEvent=new YAHOO.util.CustomEvent("windowScroll");YAHOO.widget.Overlay.windowResizeEvent=new YAHOO.util.CustomEvent("windowResize");YAHOO.widget.Overlay.windowScrollHandler=function(e){YAHOO.widget.Overlay.windowScrollEvent.fire();};YAHOO.widget.Overlay.windowResizeHandler=function(e){YAHOO.widget.Overlay.windowResizeEvent.fire();};YAHOO.widget.Overlay._initialized=null;if(YAHOO.widget.Overlay._initialized===null){YAHOO.util.Event.addListener(window,"scroll",YAHOO.widget.Overlay.windowScrollHandler);YAHOO.util.Event.addListener(window,"resize",YAHOO.widget.Overlay.windowResizeHandler);YAHOO.widget.Overlay._initialized=true;}
YAHOO.widget.OverlayManager=function(userConfig){this.init(userConfig);};YAHOO.widget.OverlayManager.CSS_FOCUSED="focused";YAHOO.widget.OverlayManager.prototype={constructor:YAHOO.widget.OverlayManager,overlays:null,initDefaultConfig:function(){this.cfg.addProperty("overlays",{suppressEvent:true});this.cfg.addProperty("focusevent",{value:"mousedown"});},getActive:function(){},focus:function(overlay){},remove:function(overlay){},blurAll:function(){},init:function(userConfig){this.cfg=new YAHOO.util.Config(this);this.initDefaultConfig();if(userConfig){this.cfg.applyConfig(userConfig,true);}
this.cfg.fireQueue();var activeOverlay=null;this.getActive=function(){return activeOverlay;};this.focus=function(overlay){var o=this.find(overlay);if(o){this.blurAll();activeOverlay=o;YAHOO.util.Dom.addClass(activeOverlay.element,YAHOO.widget.OverlayManager.CSS_FOCUSED);this.overlays.sort(this.compareZIndexDesc);var topZIndex=YAHOO.util.Dom.getStyle(this.overlays[0].element,"zIndex");if(!isNaN(topZIndex)&&this.overlays[0]!=overlay){activeOverlay.cfg.setProperty("zIndex",(parseInt(topZIndex,10)+2));}
this.overlays.sort(this.compareZIndexDesc);}};this.remove=function(overlay){var o=this.find(overlay);if(o){var originalZ=YAHOO.util.Dom.getStyle(o.element,"zIndex");o.cfg.setProperty("zIndex",-1000,true);this.overlays.sort(this.compareZIndexDesc);this.overlays=this.overlays.slice(0,this.overlays.length-1);o.cfg.setProperty("zIndex",originalZ,true);o.cfg.setProperty("manager",null);o.focusEvent=null;o.blurEvent=null;o.focus=null;o.blur=null;}};this.blurAll=function(){activeOverlay=null;for(var o=0;o<this.overlays.length;o++){YAHOO.util.Dom.removeClass(this.overlays[o].element,YAHOO.widget.OverlayManager.CSS_FOCUSED);}};var overlays=this.cfg.getProperty("overlays");if(!this.overlays){this.overlays=[];}
if(overlays){this.register(overlays);this.overlays.sort(this.compareZIndexDesc);}},register:function(overlay){if(overlay instanceof YAHOO.widget.Overlay){overlay.cfg.addProperty("manager",{value:this});overlay.focusEvent=new YAHOO.util.CustomEvent("focus");overlay.blurEvent=new YAHOO.util.CustomEvent("blur");var mgr=this;overlay.focus=function(){mgr.focus(this);this.focusEvent.fire();};overlay.blur=function(){mgr.blurAll();this.blurEvent.fire();};var focusOnDomEvent=function(e,obj){overlay.focus();};var focusevent=this.cfg.getProperty("focusevent");YAHOO.util.Event.addListener(overlay.element,focusevent,focusOnDomEvent,this,true);var zIndex=YAHOO.util.Dom.getStyle(overlay.element,"zIndex");if(!isNaN(zIndex)){overlay.cfg.setProperty("zIndex",parseInt(zIndex,10));}else{overlay.cfg.setProperty("zIndex",0);}
this.overlays.push(overlay);return true;}else if(overlay instanceof Array){var regcount=0;for(var i=0;i<overlay.length;i++){if(this.register(overlay[i])){regcount++;}}
if(regcount>0){return true;}}else{return false;}},find:function(overlay){if(overlay instanceof YAHOO.widget.Overlay){for(var o=0;o<this.overlays.length;o++){if(this.overlays[o]==overlay){return this.overlays[o];}}}else if(typeof overlay=="string"){for(var p=0;p<this.overlays.length;p++){if(this.overlays[p].id==overlay){return this.overlays[p];}}}
return null;},compareZIndexDesc:function(o1,o2){var zIndex1=o1.cfg.getProperty("zIndex");var zIndex2=o2.cfg.getProperty("zIndex");if(zIndex1>zIndex2){return-1;}else if(zIndex1<zIndex2){return 1;}else{return 0;}},showAll:function(){for(var o=0;o<this.overlays.length;o++){this.overlays[o].show();}},hideAll:function(){for(var o=0;o<this.overlays.length;o++){this.overlays[o].hide();}},toString:function(){return"OverlayManager";}};YAHOO.util.KeyListener=function(attachTo,keyData,handler,event){if(!event){event=YAHOO.util.KeyListener.KEYDOWN;}
var keyEvent=new YAHOO.util.CustomEvent("keyPressed");this.enabledEvent=new YAHOO.util.CustomEvent("enabled");this.disabledEvent=new YAHOO.util.CustomEvent("disabled");if(typeof attachTo=='string'){attachTo=document.getElementById(attachTo);}
if(typeof handler=='function'){keyEvent.subscribe(handler);}else{keyEvent.subscribe(handler.fn,handler.scope,handler.correctScope);}
function handleKeyPress(e,obj){var keyPressed=e.charCode||e.keyCode;if(!keyData.shift){keyData.shift=false;}
if(!keyData.alt){keyData.alt=false;}
if(!keyData.ctrl){keyData.ctrl=false;}
if(e.shiftKey==keyData.shift&&e.altKey==keyData.alt&&e.ctrlKey==keyData.ctrl){if(keyData.keys instanceof Array){for(var i=0;i<keyData.keys.length;i++){if(keyPressed==keyData.keys[i]){keyEvent.fire(keyPressed,e);break;}}}else{if(keyPressed==keyData.keys){keyEvent.fire(keyPressed,e);}}}}
this.enable=function(){if(!this.enabled){YAHOO.util.Event.addListener(attachTo,event,handleKeyPress);this.enabledEvent.fire(keyData);}
this.enabled=true;};this.disable=function(){if(this.enabled){YAHOO.util.Event.removeListener(attachTo,event,handleKeyPress);this.disabledEvent.fire(keyData);}
this.enabled=false;};this.toString=function(){return"KeyListener ["+keyData.keys+"] "+attachTo.tagName+(attachTo.id?"["+attachTo.id+"]":"");};};YAHOO.util.KeyListener.KEYDOWN="keydown";YAHOO.util.KeyListener.KEYUP="keyup";YAHOO.util.KeyListener.prototype.enabled=null;YAHOO.util.KeyListener.prototype.enable=function(){};YAHOO.util.KeyListener.prototype.disable=function(){};YAHOO.util.KeyListener.prototype.enabledEvent=null;YAHOO.util.KeyListener.prototype.disabledEvent=null;
/* Copyright (c) 2006, Yahoo! Inc. All rights reserved. Code licensed under the BSD License: http://developer.yahoo.com/yui/license.txt Version: 0.11.3 */
YAHOO.widget.MenuModule=function(_1,_2){YAHOO.widget.MenuModule.superclass.constructor.call(this,_1,_2);};YAHOO.extend(YAHOO.widget.MenuModule,YAHOO.widget.Overlay);YAHOO.widget.MenuModule._initEventHandlers=true;YAHOO.widget.MenuModule._menus={};YAHOO.widget.MenuModule._menuItems={};YAHOO.widget.MenuModule._onDOMEvent=function(_3){var _4=YAHOO.util.Dom;var _5=YAHOO.util.Event;var _6=_5.getTarget(_3);var _7;function getMenuRootElement(_8){var _9;switch(_8.tagName){case "DIV":_9=_8.parentNode;if(_4.hasClass(_8,"bd")&&_9&&_9.tagName=="DIV"){return _9;}else{return _8;}break;case "LI":_7=_8;default:_9=_8.parentNode;if(_9){return getMenuRootElement(_9);}break;}}var _a=getMenuRootElement(_6);if(_a&&_a.id){var _b;var _c=YAHOO.widget.MenuModule._menus[_a.id];if(_7){var _d=_7.getAttribute("yuiid");if(_d){_b=YAHOO.widget.MenuModule._menuItems[_d];}}if(_c){var _e={"click":"clickEvent","mousedown":"mouseDownEvent","mouseup":"mouseUpEvent","mouseover":"mouseOverEvent","mouseout":"mouseOutEvent","keydown":"keyDownEvent","keyup":"keyUpEvent","keypress":"keyPressEvent"};var _f=_e[_3.type];switch(_3.type){case "mouseover":if(!_c._bFiredMouseOverEvent&&(_6==_c.element||_4.isAncestor(_c.element,_6))){_c.mouseOverEvent.fire(_3);_c._bFiredMouseOverEvent=true;_c._bFiredMouseOutEvent=false;}if(_b&&!_b._bFiredMouseOverEvent&&(_6==_b.element||_4.isAncestor(_b.element,_6))&&!_b.cfg.getProperty("disabled")){_b.mouseOverEvent.fire(_3);_b._bFiredMouseOverEvent=true;_b._bFiredMouseOutEvent=false;}break;case "mouseout":var _10=_5.getRelatedTarget(_3);var _11=false;if(_b){var _12=_b.cfg.getProperty("submenu");if(_12&&(_10==_12.element||_4.isAncestor(_12.element,_10))){_11=true;}}if(_b&&!_b._bFiredMouseOutEvent&&((_10!=_b.element&&!_4.isAncestor(_b.element,_10))||_11)&&!_b.cfg.getProperty("disabled")){_b.mouseOutEvent.fire(_3);_b._bFiredMouseOutEvent=true;_b._bFiredMouseOverEvent=false;}if(!_c._bFiredMouseOutEvent&&((_10!=_c.element&&!_4.isAncestor(_c.element,_10))||_11)){_c.mouseOutEvent.fire(_3);_c._bFiredMouseOutEvent=true;_c._bFiredMouseOverEvent=false;}break;default:if(_b&&!_b.cfg.getProperty("disabled")){_b[_f].fire(_3);}_c[_f].fire(_3);break;}}}};YAHOO.widget.MenuModule.prototype.CSS_CLASS_NAME="yuimenu";YAHOO.widget.MenuModule.prototype.ITEM_TYPE=null;YAHOO.widget.MenuModule.prototype.GROUP_TITLE_TAG_NAME="H6";YAHOO.widget.MenuModule.prototype._bFiredMouseOverEvent=false;YAHOO.widget.MenuModule.prototype._bFiredMouseOutEvent=false;YAHOO.widget.MenuModule.prototype._aGroupTitleElements=null;YAHOO.widget.MenuModule.prototype._aItemGroups=null;YAHOO.widget.MenuModule.prototype._aListElements=null;YAHOO.widget.MenuModule.prototype._oEventUtil=YAHOO.util.Event;YAHOO.widget.MenuModule.prototype._oDom=YAHOO.util.Dom;YAHOO.widget.MenuModule.prototype.activeItem=null;YAHOO.widget.MenuModule.prototype.parent=null;YAHOO.widget.MenuModule.prototype.srcElement=null;YAHOO.widget.MenuModule.prototype.mouseOverEvent=null;YAHOO.widget.MenuModule.prototype.mouseOutEvent=null;YAHOO.widget.MenuModule.prototype.mouseDownEvent=null;YAHOO.widget.MenuModule.prototype.mouseUpEvent=null;YAHOO.widget.MenuModule.prototype.clickEvent=null;YAHOO.widget.MenuModule.prototype.keyPressEvent=null;YAHOO.widget.MenuModule.prototype.keyDownEvent=null;YAHOO.widget.MenuModule.prototype.keyUpEvent=null;YAHOO.widget.MenuModule.prototype.init=function(_13,_14){var Dom=this._oDom;var _16=this._oEventUtil;if(!this.ITEM_TYPE){this.ITEM_TYPE=YAHOO.widget.MenuModuleItem;}this._aItemGroups=[];this._aListElements=[];this._aGroupTitleElements=[];var _17;if(typeof _13=="string"){_17=document.getElementById(_13);}else{if(_13.tagName){_17=_13;}}if(_17){switch(_17.tagName){case "DIV":this.srcElement=_17;YAHOO.widget.MenuModule.superclass.init.call(this,_17);this.beforeInitEvent.fire(YAHOO.widget.MenuModule);var _18=this.body.firstChild;var i=0;do{switch(_18.tagName){case this.GROUP_TITLE_TAG_NAME:this._aGroupTitleElements[i]=_18;break;case "UL":this._aListElements[i]=_18;this._aItemGroups[i]=[];i++;break;}}while((_18=_18.nextSibling));if(this._aListElements[0]){Dom.addClass(this._aListElements[0],"first-of-type");}break;case "SELECT":this.srcElement=_17;var sId=Dom.generateId();YAHOO.widget.MenuModule.superclass.init.call(this,sId);this.beforeInitEvent.fire(YAHOO.widget.MenuModule);break;}}else{YAHOO.widget.MenuModule.superclass.init.call(this,_13);this.beforeInitEvent.fire(YAHOO.widget.MenuModule);}if(this.element){var oEl=this.element;var _1c=YAHOO.util.CustomEvent;Dom.addClass(oEl,this.CSS_CLASS_NAME);if(YAHOO.widget.MenuModule._initEventHandlers){var _1d=document;var _1e=YAHOO.widget.MenuModule._onDOMEvent;_16.addListener(_1d,"mouseover",_1e);_16.addListener(_1d,"mouseout",_1e);_16.addListener(_1d,"mousedown",_1e);_16.addListener(_1d,"mouseup",_1e);_16.addListener(_1d,"click",_1e);_16.addListener(_1d,"keydown",_1e);_16.addListener(_1d,"keyup",_1e);_16.addListener(_1d,"keypress",_1e);YAHOO.widget.MenuModule._initEventHandlers=false;}this.mouseOverEvent=new _1c("mouseOverEvent",this);this.mouseOutEvent=new _1c("mouseOutEvent",this);this.mouseDownEvent=new _1c("mouseDownEvent",this);this.mouseUpEvent=new _1c("mouseUpEvent",this);this.clickEvent=new _1c("clickEvent",this);this.keyPressEvent=new _1c("keyPressEvent",this);this.keyDownEvent=new _1c("keyDownEvent",this);this.keyUpEvent=new _1c("keyUpEvent",this);this.initEvent.subscribe(this._onInit,this,true);this.beforeRenderEvent.subscribe(this._onBeforeRender,this,true);this.renderEvent.subscribe(this._onRender,this,true);this.showEvent.subscribe(this._onShow,this,true);this.beforeHideEvent.subscribe(this._onBeforeHide,this,true);if(_14){this.cfg.applyConfig(_14,true);}this.cfg.queueProperty("visible",false);if(this.srcElement){this._initSubTree();}YAHOO.widget.MenuModule._menus[oEl.id]=this;}this.initEvent.fire(YAHOO.widget.MenuModule);};YAHOO.widget.MenuModule.prototype._initSubTree=function(){var _1f;switch(this.srcElement.tagName){case "DIV":if(this._aListElements.length>0){var i=this._aListElements.length-1;do{_1f=this._aListElements[i].firstChild;do{switch(_1f.tagName){case "LI":this.addItem(new this.ITEM_TYPE(_1f),i);break;}}while((_1f=_1f.nextSibling));}while(i--);}break;case "SELECT":_1f=this.srcElement.firstChild;do{switch(_1f.tagName){case "OPTGROUP":case "OPTION":this.addItem(new this.ITEM_TYPE(_1f));break;}}while((_1f=_1f.nextSibling));break;}};YAHOO.widget.MenuModule.prototype._getFirstEnabledItem=function(){var _21=this._aItemGroups.length;var _22;var _23;for(var i=0;i<_21;i++){_23=this._aItemGroups[i];if(_23){var _25=_23.length;for(var n=0;n<_25;n++){_22=_23[n];if(!_22.cfg.getProperty("disabled")&&_22.element.style.display!="none"){return _22;}_22=null;}}}};YAHOO.widget.MenuModule.prototype._checkPosition=function(_27){if(typeof _27=="string"){var _28=_27.toLowerCase();return ("dynamic,static".indexOf(_28)!=-1);}};YAHOO.widget.MenuModule.prototype._addItemToGroup=function(_29,_2a,_2b){var Dom=this._oDom;var _2d;if(_2a instanceof this.ITEM_TYPE){_2d=_2a;}else{if(typeof _2a=="string"){_2d=new this.ITEM_TYPE(_2a);}}if(_2d){var _2e=Dom.generateId();_2d.element.setAttribute("yuiid",_2e);YAHOO.widget.MenuModule._menuItems[_2e]=_2d;var _2f=typeof _29=="number"?_29:0;var _30=this._getItemGroup(_2f);var _31;if(!_30){_30=this._createItemGroup(_2f);}if(typeof _2b=="number"){var _32=(_2b>=_30.length);if(_30[_2b]){_30.splice(_2b,0,_2d);}else{_30[_2b]=_2d;}_31=_30[_2b];if(_31){if(_32&&(!_31.element.parentNode||_31.element.parentNode.nodeType==11)){this._aListElements[_2f].appendChild(_31.element);}else{function getNextItemSibling(_33,_34){return (_33[_34]||getNextItemSibling(_33,(_34+1)));}var _35=getNextItemSibling(_30,(_2b+1));if(_35&&(!_31.element.parentNode||_31.element.parentNode.nodeType==11)){this._aListElements[_2f].insertBefore(_31.element,_35.element);}}_31.parent=this;this._subscribeToItemEvents(_31);this._configureItemSubmenuModule(_31);this._updateItemProperties(_2f);return _31;}}else{var _36=_30.length;_30[_36]=_2d;_31=_30[_36];if(_31){if(!Dom.isAncestor(this._aListElements[_2f],_31.element)){this._aListElements[_2f].appendChild(_31.element);}_31.element.setAttribute("groupindex",_2f);_31.element.setAttribute("index",_36);_31.parent=this;_31.index=_36;_31.groupIndex=_2f;this._subscribeToItemEvents(_31);this._configureItemSubmenuModule(_31);if(_36===0){Dom.addClass(_31.element,"first-of-type");}return _31;}}}};YAHOO.widget.MenuModule.prototype._removeItemFromGroupByIndex=function(_37,_38){var _39=typeof _37=="number"?_37:0;var _3a=this._getItemGroup(_39);if(_3a){var _3b=_3a.splice(_38,1);var _3c=_3b[0];if(_3c){this._updateItemProperties(_39);if(_3a.length===0){var oUL=this._aListElements[_39];if(this.body&&oUL){this.body.removeChild(oUL);}this._aItemGroups.splice(_39,1);this._aListElements.splice(_39,1);oUL=this._aListElements[0];if(oUL){this._oDom.addClass(oUL,"first-of-type");}}return _3c;}}};YAHOO.widget.MenuModule.prototype._removeItemFromGroupByValue=function(_3e,_3f){var _40=this._getItemGroup(_3e);if(_40){var _41=_40.length;var _42=-1;if(_41>0){var i=_41-1;do{if(_40[i]==_3f){_42=i;break;}}while(i--);if(_42>-1){return this._removeItemFromGroupByIndex(_3e,_42);}}}};YAHOO.widget.MenuModule.prototype._updateItemProperties=function(_44){var _45=this._getItemGroup(_44);var _46=_45.length;if(_46>0){var Dom=this._oDom;var i=_46-1;var _49;var oLI;do{_49=_45[i];if(_49){oLI=_49.element;_49.index=i;_49.groupIndex=_44;oLI.setAttribute("groupindex",_44);oLI.setAttribute("index",i);Dom.removeClass(oLI,"first-of-type");}}while(i--);if(oLI){Dom.addClass(oLI,"first-of-type");}}};YAHOO.widget.MenuModule.prototype._createItemGroup=function(_4b){if(!this._aItemGroups[_4b]){this._aItemGroups[_4b]=[];var oUL=document.createElement("ul");this._aListElements[_4b]=oUL;return this._aItemGroups[_4b];}};YAHOO.widget.MenuModule.prototype._getItemGroup=function(_4d){var _4e=((typeof _4d=="number")?_4d:0);return this._aItemGroups[_4e];};YAHOO.widget.MenuModule.prototype._configureItemSubmenuModule=function(_4f){var _50=_4f.cfg.getProperty("submenu");if(_50){this.cfg.configChangedEvent.subscribe(this._onParentMenuModuleConfigChange,_50,true);this.renderEvent.subscribe(this._onParentMenuModuleRender,_50,true);_50.beforeShowEvent.subscribe(this._onSubmenuBeforeShow,_50,true);_50.showEvent.subscribe(this._onSubmenuShow,_50,true);_50.hideEvent.subscribe(this._onSubmenuHide,_50,true);}};YAHOO.widget.MenuModule.prototype._subscribeToItemEvents=function(_51){var _52=[this,_51];_51.focusEvent.subscribe(this._onItemFocus,_52);_51.blurEvent.subscribe(this._onItemBlur,_52);_51.cfg.configChangedEvent.subscribe(this._onItemConfigChange,_52);};YAHOO.widget.MenuModule.prototype._getOffsetWidth=function(){var _53=this.element.cloneNode(true);this._oDom.setStyle(_53,"width","");document.body.appendChild(_53);var _54=_53.offsetWidth;document.body.removeChild(_53);return _54;};YAHOO.widget.MenuModule.prototype._onInit=function(_55,_56,_57){var _58=(this.cfg.getProperty("position")=="static")?"static":"absolute";this._oDom.setStyle(this.element,"position",_58);};YAHOO.widget.MenuModule.prototype._onBeforeRender=function(_59,_5a,_5b){var Dom=this._oDom;var _5d=this.cfg;var oEl=this.element;var _5f=this._aListElements.length;if(_5d.getProperty("position")=="static"){_5d.queueProperty("iframe",false);_5d.queueProperty("visible",true);}if(_5f>0){var i=0;var _61=true;var oUL;var _63;do{oUL=this._aListElements[i];if(oUL){if(_61){Dom.addClass(oUL,"first-of-type");_61=false;}if(!Dom.isAncestor(oEl,oUL)){this.appendToBody(oUL);}_63=this._aGroupTitleElements[i];if(_63){if(!Dom.isAncestor(oEl,_63)){oUL.parentNode.insertBefore(_63,oUL);}Dom.addClass(oUL,"hastitle");}}i++;}while(i<_5f);}};YAHOO.widget.MenuModule.prototype._onRender=function(_64,_65,_66){if(this.cfg.getProperty("position")=="dynamic"){var _67=this.element.parentNode.tagName=="BODY"?this.element.offsetWidth:this._getOffsetWidth();this.cfg.setProperty("width",(_67+"px"));}};YAHOO.widget.MenuModule.prototype._onShow=function(_68,_69,_6a){this.setInitialFocus();};YAHOO.widget.MenuModule.prototype._onBeforeHide=function(_6b,_6c,_6d){var _6e=this.activeItem;if(_6e){_6e.blur();if(_6e.cfg.getProperty("selected")){_6e.cfg.setProperty("selected",false);}var _6f=_6e.cfg.getProperty("submenu");if(_6f&&_6f.cfg.getProperty("visible")){_6f.hide();}}};YAHOO.widget.MenuModule.prototype._onParentMenuModuleConfigChange=function(_70,_71,_72){var _73=_71[0][0];var _74=_71[0][1];switch(_73){case "iframe":case "constraintoviewport":_72.cfg.setProperty(_73,_74);break;}};YAHOO.widget.MenuModule.prototype._onParentMenuModuleRender=function(_75,_76,_77){var _78=_77.parent.parent;var _79={constraintoviewport:_78.cfg.getProperty("constraintoviewport"),xy:[0,0]};if(this.cfg.getProperty("position")==_78.cfg.getProperty("position")){_79.iframe=_78.cfg.getProperty("iframe");}_77.cfg.applyConfig(_79);if(this._oDom.inDocument(this.element)){this.render();}else{this.render(this.parent.element);}};YAHOO.widget.MenuModule.prototype._onSubmenuBeforeShow=function(_7a,_7b,_7c){var _7d=this.parent;var _7e=_7d.parent.cfg.getProperty("submenualignment");this.cfg.setProperty("context",[_7d.element,_7e[0],_7e[1]]);_7d.submenuIndicator.alt=_7d.EXPANDED_SUBMENU_INDICATOR_ALT_TEXT;};YAHOO.widget.MenuModule.prototype._onSubmenuShow=function(_7f,_80,_81){var _82=this.parent;_82.submenuIndicator.alt=_82.EXPANDED_SUBMENU_INDICATOR_ALT_TEXT;};YAHOO.widget.MenuModule.prototype._onSubmenuHide=function(_83,_84,_85){var _86=this.parent;if(_86.parent.cfg.getProperty("visible")){_86.cfg.setProperty("selected",false);_86.focus();}_86.submenuIndicator.alt=_86.COLLAPSED_SUBMENU_INDICATOR_ALT_TEXT;};YAHOO.widget.MenuModule.prototype._onItemFocus=function(_87,_88,_89){var me=_89[0];var _8b=_89[1];me.activeItem=_8b;};YAHOO.widget.MenuModule.prototype._onItemBlur=function(_8c,_8d,_8e){var me=_8e[0];var _90=_8e[1];var _91=_90.cfg.getProperty("submenu");if(!_91||(_91&&!_91.cfg.getProperty("visible"))){me.activeItem=null;}};YAHOO.widget.MenuModule.prototype._onItemConfigChange=function(_92,_93,_94){var me=_94[0];var _96=_93[0][0];var _97=_94[1];switch(_96){case "submenu":var _98=_93[0][1];if(_98){me._configureItemSubmenuModule(_97);}break;case "text":case "helptext":if(me.element.style.width){var _99=me._getOffsetWidth()+"px";me._oDom.setStyle(me.element,"width",_99);}break;}};YAHOO.widget.MenuModule.prototype.enforceConstraints=function(_9a,_9b,obj){var Dom=this._oDom;var _9e=this.cfg;var pos=_9b[0];var x=pos[0];var y=pos[1];var bod=document.getElementsByTagName("body")[0];var htm=document.getElementsByTagName("html")[0];var _a4=Dom.getStyle(bod,"overflow");var _a5=Dom.getStyle(htm,"overflow");var _a6=this.element.offsetHeight;var _a7=this.element.offsetWidth;var _a8=Dom.getClientWidth();var _a9=Dom.getClientHeight();var _aa=window.scrollX||document.body.scrollLeft;var _ab=window.scrollY||document.body.scrollTop;var _ac=_ab+10;var _ad=_aa+10;var _ae=_ab+_a9-_a6-10;var _af=_aa+_a8-_a7-10;var _b0=_9e.getProperty("context");var _b1=_b0?_b0[0]:null;if(x<10){x=_ad;}else{if((x+_a7)>_a8){if(_b1&&((x-_b1.offsetWidth)>_a7)){x=(x-(_b1.offsetWidth+_a7));}else{x=_af;}}}if(y<10){y=_ac;}else{if(y>_ae){if(_b1&&(y>_a6)){y=((y+_b1.offsetHeight)-_a6);}else{y=_ae;}}}_9e.setProperty("x",x,true);_9e.setProperty("y",y,true);};YAHOO.widget.MenuModule.prototype.configPosition=function(_b2,_b3,_b4){var _b5=_b3[0]=="static"?"static":"absolute";this._oDom.setStyle(this.element,"position",_b5);};YAHOO.widget.MenuModule.prototype.configIframe=function(_b6,_b7,_b8){if(this.cfg.getProperty("position")=="dynamic"){YAHOO.widget.MenuModule.superclass.configIframe.call(this,_b6,_b7,_b8);}};YAHOO.widget.MenuModule.prototype.toString=function(){return ("Menu "+this.id);};YAHOO.widget.MenuModule.prototype.setItemGroupTitle=function(_b9,_ba){if(typeof _b9=="string"&&_b9.length>0){var Dom=this._oDom;var _bc=typeof _ba=="number"?_ba:0;var _bd=this._aGroupTitleElements[_bc];if(_bd){_bd.innerHTML=_b9;}else{_bd=document.createElement(this.GROUP_TITLE_TAG_NAME);_bd.innerHTML=_b9;this._aGroupTitleElements[_bc]=_bd;}var i=this._aGroupTitleElements.length-1;var _bf;do{if(this._aGroupTitleElements[i]){Dom.removeClass(this._aGroupTitleElements[i],"first-of-type");_bf=i;}}while(i--);if(_bf!==null){Dom.addClass(this._aGroupTitleElements[_bf],"first-of-type");}}};YAHOO.widget.MenuModule.prototype.addItem=function(_c0,_c1){if(_c0){return this._addItemToGroup(_c1,_c0);}};YAHOO.widget.MenuModule.prototype.insertItem=function(_c2,_c3,_c4){if(_c2){return this._addItemToGroup(_c4,_c2,_c3);}};YAHOO.widget.MenuModule.prototype.removeItem=function(_c5,_c6){if(typeof _c5!="undefined"){var _c7;if(_c5 instanceof YAHOO.widget.MenuModuleItem){_c7=this._removeItemFromGroupByValue(_c6,_c5);}else{if(typeof _c5=="number"){_c7=this._removeItemFromGroupByIndex(_c6,_c5);}}if(_c7){_c7.destroy();return _c7;}}};YAHOO.widget.MenuModule.prototype.getItemGroups=function(){return this._aItemGroups;};YAHOO.widget.MenuModule.prototype.getItem=function(_c8,_c9){if(typeof _c8=="number"){var _ca=this._getItemGroup(_c9);if(_ca){return _ca[_c8];}}};YAHOO.widget.MenuModule.prototype.destroy=function(){this.mouseOverEvent.unsubscribeAll();this.mouseOutEvent.unsubscribeAll();this.mouseDownEvent.unsubscribeAll();this.mouseUpEvent.unsubscribeAll();this.clickEvent.unsubscribeAll();this.keyPressEvent.unsubscribeAll();this.keyDownEvent.unsubscribeAll();this.keyUpEvent.unsubscribeAll();var _cb=this._aItemGroups.length;var _cc;var _cd;var _ce;var i;var n;if(_cb>0){i=_cb-1;do{_cd=this._aItemGroups[i];if(_cd){_cc=_cd.length;if(_cc>0){n=_cc-1;do{_ce=this._aItemGroups[i][n];if(_ce){_ce.destroy();}}while(n--);}}}while(i--);}YAHOO.widget.MenuModule.superclass.destroy.call(this);};YAHOO.widget.MenuModule.prototype.setInitialFocus=function(){var _d1=this._getFirstEnabledItem();if(_d1){_d1.focus();}};YAHOO.widget.MenuModule.prototype.setInitialSelection=function(){var _d2=this._getFirstEnabledItem();if(_d2){_d2.cfg.setProperty("selected",true);}};YAHOO.widget.MenuModule.prototype.clearActiveItem=function(){if(this.activeItem){var _d3=this.activeItem.cfg;_d3.setProperty("selected",false);var _d4=_d3.getProperty("submenu");if(_d4){_d4.hide();}}};YAHOO.widget.MenuModule.prototype.initDefaultConfig=function(){YAHOO.widget.MenuModule.superclass.initDefaultConfig.call(this);var _d5=this.cfg;_d5.addProperty("position",{value:"dynamic",handler:this.configPosition,validator:this._checkPosition});_d5.addProperty("submenualignment",{value:["tl","tr"]});};YAHOO.widget.MenuModuleItem=function(_d6,_d7){if(_d6){this.init(_d6,_d7);}};YAHOO.widget.MenuModuleItem.prototype={SUBMENU_INDICATOR_IMAGE_PATH:"nt/ic/ut/alt1/menuarorght8_nrm_1.gif",SELECTED_SUBMENU_INDICATOR_IMAGE_PATH:"nt/ic/ut/alt1/menuarorght8_hov_1.gif",DISABLED_SUBMENU_INDICATOR_IMAGE_PATH:"nt/ic/ut/alt1/menuarorght8_dim_1.gif",COLLAPSED_SUBMENU_INDICATOR_ALT_TEXT:"Collapsed.  Click to expand.",EXPANDED_SUBMENU_INDICATOR_ALT_TEXT:"Expanded.  Click to collapse.",DISABLED_SUBMENU_INDICATOR_ALT_TEXT:"Disabled.",CSS_CLASS_NAME:"yuimenuitem",SUBMENU_TYPE:null,SUBMENU_ITEM_TYPE:null,IMG_ROOT:"../imagens/",IMG_ROOT_SSL:"https://a248.e.akamai.net/sec.yimg.com/i/",_oAnchor:null,_oText:null,_oHelpTextEM:null,_oSubmenu:null,_oDom:YAHOO.util.Dom,_bFiredMouseOverEvent:false,_bFiredMouseOutEvent:false,constructor:YAHOO.widget.MenuModuleItem,imageRoot:null,isSecure:YAHOO.widget.Module.prototype.isSecure,index:null,groupIndex:null,parent:null,element:null,srcElement:null,value:null,submenuIndicator:null,browser:YAHOO.widget.Module.prototype.browser,destroyEvent:null,mouseOverEvent:null,mouseOutEvent:null,mouseDownEvent:null,mouseUpEvent:null,clickEvent:null,keyPressEvent:null,keyDownEvent:null,keyUpEvent:null,focusEvent:null,blurEvent:null,init:function(_d8,_d9){this.imageRoot=(this.isSecure)?this.IMG_ROOT_SSL:this.IMG_ROOT;if(!this.SUBMENU_TYPE){this.SUBMENU_TYPE=YAHOO.widget.MenuModule;}if(!this.SUBMENU_ITEM_TYPE){this.SUBMENU_ITEM_TYPE=YAHOO.widget.MenuModuleItem;}this.cfg=new YAHOO.util.Config(this);this.initDefaultConfig();var _da=this.cfg;if(this._checkString(_d8)){this._createRootNodeStructure();_da.setProperty("text",_d8);}else{if(this._checkDOMNode(_d8)){switch(_d8.tagName){case "OPTION":this._createRootNodeStructure();_da.setProperty("text",_d8.text);this.srcElement=_d8;break;case "OPTGROUP":this._createRootNodeStructure();_da.setProperty("text",_d8.label);this.srcElement=_d8;this._initSubTree();break;case "LI":var _db=this._getFirstElement(_d8,"A");var _dc="#";var _dd=null;var _de=null;if(_db){_dc=_db.getAttribute("href");_dd=_db.getAttribute("target");if(_db.innerText){_de=_db.innerText;}else{var _df=_db.ownerDocument.createRange();_df.selectNodeContents(_db);_de=_df.toString();}}else{var _e0=_d8.firstChild;_de=_e0.nodeValue;_db=document.createElement("a");_db.setAttribute("href",_dc);_d8.replaceChild(_db,_e0);_db.appendChild(_e0);}this.srcElement=_d8;this.element=_d8;this._oAnchor=_db;var _e1=this._getFirstElement(_db);var _e2=false;var _e3=false;if(_e1){this._oText=_e1.firstChild;switch(_e1.tagName){case "EM":_e2=true;break;case "STRONG":_e3=true;break;}}else{this._oText=_db.firstChild;}_da.setProperty("text",_de,true);_da.setProperty("url",_dc,true);_da.setProperty("target",_dd,true);_da.setProperty("emphasis",_e2,true);_da.setProperty("strongemphasis",_e3,true);this._initSubTree();break;}}}if(this.element){this._oDom.addClass(this.element,this.CSS_CLASS_NAME);var _e4=YAHOO.util.CustomEvent;this.destroyEvent=new _e4("destroyEvent",this);this.mouseOverEvent=new _e4("mouseOverEvent",this);this.mouseOutEvent=new _e4("mouseOutEvent",this);this.mouseDownEvent=new _e4("mouseDownEvent",this);this.mouseUpEvent=new _e4("mouseUpEvent",this);this.clickEvent=new _e4("clickEvent",this);this.keyPressEvent=new _e4("keyPressEvent",this);this.keyDownEvent=new _e4("keyDownEvent",this);this.keyUpEvent=new _e4("keyUpEvent",this);this.focusEvent=new _e4("focusEvent",this);this.blurEvent=new _e4("blurEvent",this);this.clickEvent.subscribe(this._onMenuModuleItemClick,this,true);if(_d9){_da.applyConfig(_d9);}_da.fireQueue();}},_getFirstElement:function(_e5,_e6){var _e7;if(_e5.firstChild&&_e5.firstChild.nodeType==1){_e7=_e5.firstChild;}else{if(_e5.firstChild&&_e5.firstChild.nextSibling&&_e5.firstChild.nextSibling.nodeType==1){_e7=_e5.firstChild.nextSibling;}}if(_e6){return (_e7&&_e7.tagName==_e6)?_e7:false;}return _e7;},_checkString:function(_e8){return (typeof _e8=="string");},_checkDOMNode:function(_e9){return (_e9&&_e9.tagName);},_createRootNodeStructure:function(){this.element=document.createElement("li");this._oText=document.createTextNode("");this._oAnchor=document.createElement("a");this._oAnchor.appendChild(this._oText);this.cfg.refireEvent("url");this.element.appendChild(this._oAnchor);},_initSubTree:function(){var _ea=this.SUBMENU_TYPE;var _eb=this.SUBMENU_ITEM_TYPE;var _ec=this.srcElement;var _ed=this.cfg;if(_ec.childNodes.length>0){var _ee=_ec.firstChild;var _ef=[];do{switch(_ee.tagName){case "DIV":_ed.setProperty("submenu",(new _ea(_ee)));break;case "OPTION":_ef[_ef.length]=_ee;break;}}while((_ee=_ee.nextSibling));var _f0=_ef.length;if(_f0>0){_ed.setProperty("submenu",(new _ea(this._oDom.generateId())));for(var n=0;n<_f0;n++){this._oSubmenu.addItem((new _eb(_ef[n])));}}}},_onMenuModuleItemClick:function(_f2,_f3,_f4){var _f5=YAHOO.util.Event;var _f6=_f3[0];var _f7=_f5.getTarget(_f6);var _f8=this.cfg.getProperty("submenu");if(_f7==this.submenuIndicator&&_f8){if(_f8.cfg.getProperty("visible")){_f8.hide();}else{var _f9=this.parent.activeItem;if(_f9&&_f9!=this){this.parent.clearActiveItem();}this.parent.activeItem=this;this.cfg.setProperty("selected",true);_f8.show();}}else{var _fa=this.cfg.getProperty("url");var _fb=(_fa.substr((_fa.length-1),1)=="#");var _fc=this.cfg.getProperty("target");var _fd=(_fc&&_fc.length>0);if(_f7.tagName=="A"&&_fb&&!_fd){_f5.preventDefault(_f6);}if(_f7.tagName!="A"&&!_fb&&!_fd){document.location=_fa;}}},configText:function(_fe,_ff,_100){var _101=_ff[0];if(this._oText){this._oText.nodeValue=_101;}},configHelpText:function(_102,_103,_104){var me=this;var Dom=this._oDom;var _107=_103[0];var oEl=this.element;var _109=this.cfg;var _10a=[oEl,this._oAnchor];var oImg=this.submenuIndicator;function initHelpText(){Dom.addClass(_10a,"hashelptext");if(_109.getProperty("disabled")){_109.refireEvent("disabled");}if(_109.getProperty("selected")){_109.refireEvent("selected");}}function removeHelpText(){Dom.removeClass(_10a,"hashelptext");oEl.removeChild(me._oHelpTextEM);me._oHelpTextEM=null;}if(this._checkDOMNode(_107)){if(this._oHelpTextEM){this._oHelpTextEM.parentNode.replaceChild(_107,this._oHelpTextEM);}else{this._oHelpTextEM=_107;oEl.insertBefore(this._oHelpTextEM,oImg);}initHelpText();}else{if(this._checkString(_107)){if(_107.length===0){removeHelpText();}else{if(!this._oHelpTextEM){this._oHelpTextEM=document.createElement("em");oEl.insertBefore(this._oHelpTextEM,oImg);}this._oHelpTextEM.innerHTML=_107;initHelpText();}}else{if(!_107&&this._oHelpTextEM){removeHelpText();}}}},configURL:function(_10c,_10d,_10e){var sURL=_10d[0];if(!sURL){sURL="#";}this._oAnchor.setAttribute("href",sURL);},configTarget:function(_110,_111,_112){var _113=_111[0];var _114=this._oAnchor;if(_113&&_113.length>0){_114.setAttribute("target",_113);}else{_114.removeAttribute("target");}},configEmphasis:function(_115,_116,_117){var _118=_116[0];var _119=this._oAnchor;var _11a=this._oText;var _11b=this.cfg;var oEM;if(_118&&_11b.getProperty("strongemphasis")){_11b.setProperty("strongemphasis",false);}if(_119){if(_118){oEM=document.createElement("em");oEM.appendChild(_11a);_119.appendChild(oEM);}else{oEM=this._getFirstElement(_119,"EM");_119.removeChild(oEM);_119.appendChild(_11a);}}},configStrongEmphasis:function(_11d,_11e,_11f){var _120=_11e[0];var _121=this._oAnchor;var _122=this._oText;var _123=this.cfg;var _124;if(_120&&_123.getProperty("emphasis")){_123.setProperty("emphasis",false);}if(_121){if(_120){_124=document.createElement("strong");_124.appendChild(_122);_121.appendChild(_124);}else{_124=this._getFirstElement(_121,"STRONG");_121.removeChild(_124);_121.appendChild(_122);}}},configDisabled:function(_125,_126,_127){var _128=_126[0];var Dom=this._oDom;var _12a=this._oAnchor;var _12b=[this.element,_12a];var oEM=this._oHelpTextEM;var _12d=this.cfg;var oImg=this.submenuIndicator;var _12f;var _130;if(oEM){_12b[2]=oEM;}if(_128){if(_12d.getProperty("selected")){_12d.setProperty("selected",false);}_12a.removeAttribute("href");Dom.addClass(_12b,"disabled");_12f=this.DISABLED_SUBMENU_INDICATOR_IMAGE_PATH;_130=this.DISABLED_SUBMENU_INDICATOR_ALT_TEXT;}else{_12a.setAttribute("href",_12d.getProperty("url"));Dom.removeClass(_12b,"disabled");_12f=this.SUBMENU_INDICATOR_IMAGE_PATH;_130=this.COLLAPSED_SUBMENU_INDICATOR_ALT_TEXT;}if(oImg){oImg.src=this.imageRoot+_12f;oImg.alt=_130;}},configSelected:function(_131,_132,_133){if(!this.cfg.getProperty("disabled")){var Dom=this._oDom;var _135=_132[0];var oEM=this._oHelpTextEM;var _137=[this.element,this._oAnchor];var oImg=this.submenuIndicator;var _139;if(oEM){_137[_137.length]=oEM;}if(oImg){_137[_137.length]=oImg;}if(_135){Dom.addClass(_137,"selected");_139=this.SELECTED_SUBMENU_INDICATOR_IMAGE_PATH;}else{Dom.removeClass(_137,"selected");_139=this.SUBMENU_INDICATOR_IMAGE_PATH;}if(oImg){oImg.src=document.images[(this.imageRoot+_139)].src;}}},configSubmenu:function(_13a,_13b,_13c){var Dom=this._oDom;var oEl=this.element;var _13f=_13b[0];var oImg=this.submenuIndicator;var _141=this.cfg;var _142=[this.element,this._oAnchor];if(_13f){_13f.parent=this;this._oSubmenu=_13f;if(!oImg){var me=this;function preloadImage(_144){var _145=me.imageRoot+_144;if(!document.images[_145]){var _146=document.createElement("img");_146.src=_145;_146.name=_145;_146.id=_145;_146.style.display="none";document.body.appendChild(_146);}}preloadImage(this.SUBMENU_INDICATOR_IMAGE_PATH);preloadImage(this.SELECTED_SUBMENU_INDICATOR_IMAGE_PATH);preloadImage(this.DISABLED_SUBMENU_INDICATOR_IMAGE_PATH);oImg=document.createElement("img");oImg.src=(this.imageRoot+this.SUBMENU_INDICATOR_IMAGE_PATH);oImg.alt=this.COLLAPSED_SUBMENU_INDICATOR_ALT_TEXT;oEl.appendChild(oImg);this.submenuIndicator=oImg;Dom.addClass(_142,"hassubmenu");if(_141.getProperty("disabled")){_141.refireEvent("disabled");}if(_141.getProperty("selected")){_141.refireEvent("selected");}}}else{Dom.removeClass(_142,"hassubmenu");if(oImg){oEl.removeChild(oImg);}if(this._oSubmenu){this._oSubmenu.destroy();}}},initDefaultConfig:function(){var _147=this.cfg;var _148=_147.checkBoolean;_147.addProperty("text",{value:"",handler:this.configText,validator:this._checkString,suppressEvent:true});_147.addProperty("helptext",{handler:this.configHelpText});_147.addProperty("url",{value:"#",handler:this.configURL,suppressEvent:true});_147.addProperty("target",{handler:this.configTarget,suppressEvent:true});_147.addProperty("emphasis",{value:false,handler:this.configEmphasis,validator:_148,suppressEvent:true});_147.addProperty("strongemphasis",{value:false,handler:this.configStrongEmphasis,validator:_148,suppressEvent:true});_147.addProperty("disabled",{value:false,handler:this.configDisabled,validator:_148,suppressEvent:true});_147.addProperty("selected",{value:false,handler:this.configSelected,validator:_148,suppressEvent:true});_147.addProperty("submenu",{handler:this.configSubmenu});},getNextEnabledSibling:function(){if(this.parent instanceof YAHOO.widget.MenuModule){var _149=this.groupIndex;function getNextArrayItem(_14a,_14b){return _14a[_14b]||getNextArrayItem(_14a,(_14b+1));}var _14c=this.parent.getItemGroups();var _14d;if(this.index<(_14c[_149].length-1)){_14d=getNextArrayItem(_14c[_149],(this.index+1));}else{var _14e;if(_149<(_14c.length-1)){_14e=_149+1;}else{_14e=0;}var _14f=getNextArrayItem(_14c,_14e);_14d=getNextArrayItem(_14f,0);}return (_14d.cfg.getProperty("disabled")||_14d.element.style.display=="none")?_14d.getNextEnabledSibling():_14d;}},getPreviousEnabledSibling:function(){if(this.parent instanceof YAHOO.widget.MenuModule){var _150=this.groupIndex;function getPreviousArrayItem(_151,_152){return _151[_152]||getPreviousArrayItem(_151,(_152-1));}function getFirstItemIndex(_153,_154){return _153[_154]?_154:getFirstItemIndex(_153,(_154+1));}var _155=this.parent.getItemGroups();var _156;if(this.index>getFirstItemIndex(_155[_150],0)){_156=getPreviousArrayItem(_155[_150],(this.index-1));}else{var _157;if(_150>getFirstItemIndex(_155,0)){_157=_150-1;}else{_157=_155.length-1;}var _158=getPreviousArrayItem(_155,_157);_156=getPreviousArrayItem(_158,(_158.length-1));}return (_156.cfg.getProperty("disabled")||_156.element.style.display=="none")?_156.getPreviousEnabledSibling():_156;}},focus:function(){var _159=this.parent;var _15a=this._oAnchor;var _15b=_159.activeItem;if(!this.cfg.getProperty("disabled")&&_159&&_159.cfg.getProperty("visible")&&this.element.style.display!="none"){if(_15b){_15b.blur();}_15a.focus();this.focusEvent.fire();}},blur:function(){var _15c=this.parent;if(!this.cfg.getProperty("disabled")&&_15c&&this._oDom.getStyle(_15c.element,"visibility")=="visible"){this._oAnchor.blur();this.blurEvent.fire();}},destroy:function(){var oEl=this.element;if(oEl){this.mouseOverEvent.unsubscribeAll();this.mouseOutEvent.unsubscribeAll();this.mouseDownEvent.unsubscribeAll();this.mouseUpEvent.unsubscribeAll();this.clickEvent.unsubscribeAll();this.keyPressEvent.unsubscribeAll();this.keyDownEvent.unsubscribeAll();this.keyUpEvent.unsubscribeAll();this.focusEvent.unsubscribeAll();this.blurEvent.unsubscribeAll();this.cfg.configChangedEvent.unsubscribeAll();var _15e=oEl.parentNode;if(_15e){_15e.removeChild(oEl);this.destroyEvent.fire();}this.destroyEvent.unsubscribeAll();}}};YAHOO.widget.Menu=function(_15f,_160){YAHOO.widget.Menu.superclass.constructor.call(this,_15f,_160);};YAHOO.extend(YAHOO.widget.Menu,YAHOO.widget.MenuModule);YAHOO.widget.Menu.prototype.init=function(_161,_162){if(!this.ITEM_TYPE){this.ITEM_TYPE=YAHOO.widget.MenuItem;}YAHOO.widget.Menu.superclass.init.call(this,_161);this.beforeInitEvent.fire(YAHOO.widget.Menu);this.showEvent.subscribe(this._onMenuShow,this,true);this.mouseOverEvent.subscribe(this._onMenuMouseOver,this,true);this.keyDownEvent.subscribe(this._onMenuKeyDown,this,true);if(_162){this.cfg.applyConfig(_162,true);}this.initEvent.fire(YAHOO.widget.Menu);};YAHOO.widget.Menu.prototype._onMenuShow=function(_163,_164,_165){var _166=this.parent;if(_166&&_166.parent instanceof YAHOO.widget.Menu){var _167=_166.parent.cfg.getProperty("submenualignment");this.cfg.setProperty("submenualignment",[_167[0],_167[1]]);}};YAHOO.widget.Menu.prototype._onMenuMouseOver=function(_168,_169,_16a){if(this.parent){this.parent.cfg.setProperty("selected",true);}};YAHOO.widget.Menu.prototype._onMenuKeyDown=function(_16b,_16c,_16d){if(this.cfg.getProperty("position")=="dynamic"){var _16e=_16c[0];var _16f=this.parent;if(_16e.keyCode==27){this.hide();if(_16f){_16f.focus();if(_16f.parent instanceof YAHOO.widget.Menu){_16f.cfg.setProperty("selected",true);}YAHOO.util.Event.preventDefault(_16e);}}}};YAHOO.widget.Menu.prototype.onDomResize=function(e,obj){if(!this._handleResize){this._handleResize=true;return;}var me=this;var _173=this.cfg;if(_173.getProperty("position")=="dynamic"){_173.setProperty("width",(this._getOffsetWidth()+"px"));if(this.parent&&_173.getProperty("visible")){function align(){me.align();}window.setTimeout(align,0);}}YAHOO.widget.Menu.superclass.onDomResize.call(this,e,obj);};YAHOO.widget.MenuItem=function(_174,_175){YAHOO.widget.MenuItem.superclass.constructor.call(this,_174,_175);};YAHOO.extend(YAHOO.widget.MenuItem,YAHOO.widget.MenuModuleItem);YAHOO.widget.MenuItem.prototype.init=function(_176,_177){if(!this.SUBMENU_TYPE){this.SUBMENU_TYPE=YAHOO.widget.Menu;}if(!this.SUBMENU_ITEM_TYPE){this.SUBMENU_ITEM_TYPE=YAHOO.widget.MenuItem;}YAHOO.widget.MenuItem.superclass.init.call(this,_176);this.keyDownEvent.subscribe(this._onKeyDown,this,true);this.mouseOverEvent.subscribe(this._onMouseOver,this,true);this.mouseOutEvent.subscribe(this._onMouseOut,this,true);this.clickEvent.subscribe(this._onClick,this,true);var _178=this.cfg;if(_177){_178.applyConfig(_177,true);}_178.fireQueue();};YAHOO.widget.MenuItem.prototype.CHECKED_IMAGE_PATH="nt/ic/ut/bsc/menuchk8_nrm_1.gif";YAHOO.widget.MenuItem.prototype.SELECTED_CHECKED_IMAGE_PATH="nt/ic/ut/bsc/menuchk8_hov_1.gif";YAHOO.widget.MenuItem.prototype.DISABLED_CHECKED_IMAGE_PATH="nt/ic/ut/bsc/menuchk8_dim_1.gif";YAHOO.widget.MenuItem.prototype.CHECKED_IMAGE_ALT_TEXT="Checked.";YAHOO.widget.MenuItem.prototype.DISABLED_CHECKED_IMAGE_ALT_TEXT="Checked. (Item disabled.)";YAHOO.widget.MenuItem.prototype._checkImage=null;YAHOO.widget.MenuItem.prototype._onKeyDown=function(_179,_17a,_17b){var _17c=YAHOO.util.Event;var _17d=_17a[0];var _17e=this.parent;var _17f=this.cfg;var _180;switch(_17d.keyCode){case 38:case 40:if(this==_17e.activeItem&&!_17f.getProperty("selected")){_17f.setProperty("selected",true);}else{var _181=(_17d.keyCode==38)?this.getPreviousEnabledSibling():this.getNextEnabledSibling();if(_181){_17e.clearActiveItem();_181.cfg.setProperty("selected",true);_181.focus();}}_17c.preventDefault(_17d);break;case 39:_17e.clearActiveItem();_17f.setProperty("selected",true);this.focus();var _182=_17f.getProperty("submenu");if(_182){_182.show();_182.setInitialSelection();}else{if(YAHOO.widget.MenuBarItem&&_17e.parent&&_17e.parent instanceof YAHOO.widget.MenuBarItem){_17e.hide();_180=_17e.parent;if(_180){_180.focus();_180.cfg.setProperty("selected",true);}}}_17c.preventDefault(_17d);break;case 37:if(_17e.parent){_17e.hide();_180=_17e.parent;if(_180){_180.focus();_180.cfg.setProperty("selected",true);}}_17c.preventDefault(_17d);break;}};YAHOO.widget.MenuItem.prototype._onMouseOver=function(_183,_184,_185){var _186=this.parent;var _187=this.cfg;var _188=_186.activeItem;if(_188&&_188!=this){_186.clearActiveItem();}_187.setProperty("selected",true);this.focus();var _189=_187.getProperty("submenu");if(_189){_189.show();}};YAHOO.widget.MenuItem.prototype._onMouseOut=function(_18a,_18b,_18c){var _18d=this.cfg;var _18e=_18d.getProperty("submenu");_18d.setProperty("selected",false);if(_18e){var _18f=_18b[0];var _190=YAHOO.util.Event.getRelatedTarget(_18f);if(!(_190==_18e.element||YAHOO.util.Dom.isAncestor(_18e.element,_190))){_18e.hide();}}};YAHOO.widget.MenuItem.prototype._onClick=function(_191,_192,_193){function findRoot(_194){var _195=_194.parent;if(_195){var _196=_195.parent;if(_196&&(_196 instanceof YAHOO.widget.Menu)&&_196.cfg.getProperty("position")=="dynamic"){return findRoot(_196);}}return _194;}var _197=findRoot(this.parent);var sURL=this.cfg.getProperty("url");if((sURL.substr((sURL.length-1),1)=="#")&&_197&&_197.cfg.getProperty("position")=="dynamic"){_197.hide();}};YAHOO.widget.MenuItem.prototype.configChecked=function(_199,_19a,_19b){var Dom=YAHOO.util.Dom;var _19d=_19a[0];var oEl=this.element;var _19f=this.cfg;var oImg;if(_19d){var me=this;function preloadImage(_1a2){var _1a3=me.imageRoot+_1a2;if(!document.images[_1a3]){var _1a4=document.createElement("img");_1a4.src=_1a3;_1a4.name=_1a3;_1a4.id=_1a3;_1a4.style.display="none";document.body.appendChild(_1a4);}}preloadImage(this.CHECKED_IMAGE_PATH);preloadImage(this.SELECTED_CHECKED_IMAGE_PATH);preloadImage(this.DISABLED_CHECKED_IMAGE_PATH);oImg=document.createElement("img");oImg.src=(this.imageRoot+this.CHECKED_IMAGE_PATH);oImg.alt=this.CHECKED_IMAGE_ALT_TEXT;var _1a5=this.cfg.getProperty("submenu");if(_1a5){oEl.insertBefore(oImg,_1a5.element);}else{oEl.appendChild(oImg);}Dom.addClass([oEl,oImg],"checked");this._checkImage=oImg;if(_19f.getProperty("disabled")){_19f.refireEvent("disabled");}if(_19f.getProperty("selected")){_19f.refireEvent("selected");}}else{oImg=this._checkImage;Dom.removeClass([oEl,oImg],"checked");if(oImg){oEl.removeChild(oImg);}this._checkImage=null;}};YAHOO.widget.MenuItem.prototype.configSelected=function(_1a6,_1a7,_1a8){YAHOO.widget.MenuItem.superclass.configSelected.call(this,_1a6,_1a7,_1a8);var _1a9=this.cfg;if(!_1a9.getProperty("disabled")&&_1a9.getProperty("checked")){var _1aa=_1a7[0];var sSrc=this.imageRoot+(_1aa?this.SELECTED_CHECKED_IMAGE_PATH:this.CHECKED_IMAGE_PATH);this._checkImage.src=document.images[sSrc].src;}};YAHOO.widget.MenuItem.prototype.configDisabled=function(_1ac,_1ad,_1ae){YAHOO.widget.MenuItem.superclass.configDisabled.call(this,_1ac,_1ad,_1ae);if(this.cfg.getProperty("checked")){var _1af=_1ad[0];var sAlt=this.CHECKED_IMAGE_ALT_TEXT;var sSrc=this.CHECKED_IMAGE_PATH;var oImg=this._checkImage;if(_1af){sAlt=this.DISABLED_CHECKED_IMAGE_ALT_TEXT;sSrc=this.DISABLED_CHECKED_IMAGE_PATH;}oImg.src=document.images[(this.imageRoot+sSrc)].src;oImg.alt=sAlt;}};YAHOO.widget.MenuItem.prototype.initDefaultConfig=function(){YAHOO.widget.MenuItem.superclass.initDefaultConfig.call(this);this.cfg.addProperty("checked",{value:false,handler:this.configChecked,validator:this.cfg.checkBoolean,suppressEvent:true,supercedes:["disabled"]});};YAHOO.widget.ContextMenu=function(_1b3,_1b4){YAHOO.widget.ContextMenu.superclass.constructor.call(this,_1b3,_1b4);};YAHOO.extend(YAHOO.widget.ContextMenu,YAHOO.widget.Menu);YAHOO.widget.ContextMenu._aMenus=[];YAHOO.widget.ContextMenu.prototype._oTrigger=null;YAHOO.widget.ContextMenu.prototype.contextEventTarget=null;YAHOO.widget.ContextMenu.prototype.init=function(_1b5,_1b6){if(!this.ITEM_TYPE){this.ITEM_TYPE=YAHOO.widget.ContextMenuItem;}YAHOO.widget.ContextMenu.superclass.init.call(this,_1b5);this.beforeInitEvent.fire(YAHOO.widget.ContextMenu);if(_1b6){this.cfg.applyConfig(_1b6,true);}this.initEvent.fire(YAHOO.widget.ContextMenu);var _1b7=YAHOO.widget.ContextMenu._aMenus;_1b7[_1b7.length]=this;};YAHOO.widget.ContextMenu.prototype._onDocumentClick=function(_1b8,_1b9){this.hide();};YAHOO.widget.ContextMenu.prototype._onTriggerClick=function(_1ba,_1bb){if(_1ba.ctrlKey){YAHOO.util.Event.stopEvent(_1ba);}};YAHOO.widget.ContextMenu.prototype._onTriggerContextMenu=function(_1bc,_1bd){var _1be=YAHOO.util.Event;var _1bf=this.cfg;var _1c0=YAHOO.widget.ContextMenu._aMenus;var i=_1c0.length-1;do{_1c0[i].hide();}while(i--);if(_1bc.type=="mousedown"&&!_1bc.ctrlKey){return;}this.contextEventTarget=_1be.getTarget(_1bc);var nX=_1be.getPageX(_1bc);var nY=_1be.getPageY(_1bc);_1bf.applyConfig({xy:[nX,nY],visible:true});_1bf.fireQueue();_1be.stopEvent(_1bc);};YAHOO.widget.ContextMenu.prototype.initDefaultConfig=function(){YAHOO.widget.ContextMenu.superclass.initDefaultConfig.call(this);this.cfg.addProperty("trigger",{handler:this.configTrigger});};YAHOO.widget.ContextMenu.prototype.configTrigger=function(_1c4,_1c5,_1c6){var _1c7=YAHOO.util.Event;var _1c8=_1c5[0];if(_1c8){if(this._oTrigger){_1c7.purgeElement(this._oTrigger);}this._oTrigger=_1c8;var _1c9=(this.browser=="opera");_1c7.addListener(_1c8,(_1c9?"mousedown":"contextmenu"),this._onTriggerContextMenu,this,true);if(_1c9){_1c7.addListener(_1c8,"click",this._onTriggerClick,this,true);}_1c7.addListener(document,"click",this._onDocumentClick,this,true);}};YAHOO.widget.ContextMenuItem=function(_1ca,_1cb){YAHOO.widget.ContextMenuItem.superclass.constructor.call(this,_1ca,_1cb);};YAHOO.extend(YAHOO.widget.ContextMenuItem,YAHOO.widget.MenuItem);YAHOO.widget.ContextMenuItem.prototype.init=function(_1cc,_1cd){if(!this.SUBMENU_TYPE){this.SUBMENU_TYPE=YAHOO.widget.ContextMenu;}if(!this.SUBMENU_ITEM_TYPE){this.SUBMENU_ITEM_TYPE=YAHOO.widget.ContextMenuItem;}YAHOO.widget.ContextMenuItem.superclass.init.call(this,_1cc);var _1ce=this.cfg;if(_1cd){_1ce.applyConfig(_1cd,true);}_1ce.fireQueue();};YAHOO.widget.MenuBar=function(_1cf,_1d0){YAHOO.widget.MenuBar.superclass.constructor.call(this,_1cf,_1d0);};YAHOO.extend(YAHOO.widget.MenuBar,YAHOO.widget.MenuModule);YAHOO.widget.MenuBar.prototype.init=function(_1d1,_1d2){if(!this.ITEM_TYPE){this.ITEM_TYPE=YAHOO.widget.MenuBarItem;}YAHOO.widget.MenuBar.superclass.init.call(this,_1d1);this.beforeInitEvent.fire(YAHOO.widget.MenuBar);var _1d3=this.cfg;if(!_1d2||(_1d2&&!_1d2.position)){_1d3.queueProperty("position","static");}if(!_1d2||(_1d2&&!_1d2.submenualignment)){_1d3.queueProperty("submenualignment",["tl","bl"]);}if(_1d2){_1d3.applyConfig(_1d2,true);}this.initEvent.fire(YAHOO.widget.MenuBar);};YAHOO.widget.MenuBar.prototype.CSS_CLASS_NAME="yuimenubar";YAHOO.widget.MenuBarItem=function(_1d4,_1d5){YAHOO.widget.MenuBarItem.superclass.constructor.call(this,_1d4,_1d5);};YAHOO.extend(YAHOO.widget.MenuBarItem,YAHOO.widget.MenuModuleItem);YAHOO.widget.MenuBarItem.prototype.init=function(_1d6,_1d7){if(!this.SUBMENU_TYPE){this.SUBMENU_TYPE=YAHOO.widget.Menu;}if(!this.SUBMENU_ITEM_TYPE){this.SUBMENU_ITEM_TYPE=YAHOO.widget.MenuItem;}YAHOO.widget.MenuBarItem.superclass.init.call(this,_1d6);this.keyDownEvent.subscribe(this._onKeyDown,this,true);var _1d8=this.cfg;if(_1d7){_1d8.applyConfig(_1d7,true);}_1d8.fireQueue();};YAHOO.widget.MenuBarItem.prototype.CSS_CLASS_NAME="yuimenubaritem";YAHOO.widget.MenuBarItem.prototype.SUBMENU_INDICATOR_IMAGE_PATH="menuarodwn8_nrm_1.gif";YAHOO.widget.MenuBarItem.prototype.SELECTED_SUBMENU_INDICATOR_IMAGE_PATH="menuarodwn8_hov_1.gif";YAHOO.widget.MenuBarItem.prototype.DISABLED_SUBMENU_INDICATOR_IMAGE_PATH="menuarodwn8_dim_1.gif";YAHOO.widget.MenuBarItem.prototype._onKeyDown=function(_1d9,_1da,_1db){var _1dc=YAHOO.util.Event;var _1dd=_1da[0];var _1de=this.cfg;var _1df=this.parent;switch(_1dd.keyCode){case 37:case 39:if(this==_1df.activeItem&&!_1de.getProperty("selected")){_1de.setProperty("selected",true);}else{var _1e0=(_1dd.keyCode==37)?this.getPreviousEnabledSibling():this.getNextEnabledSibling();if(_1e0){_1df.clearActiveItem();_1e0.cfg.setProperty("selected",true);_1e0.focus();}}_1dc.preventDefault(_1dd);break;case 40:_1df.clearActiveItem();_1de.setProperty("selected",true);this.focus();var _1e1=_1de.getProperty("submenu");if(_1e1){_1e1.show();_1e1.setInitialSelection();}_1dc.preventDefault(_1dd);break;}};
/* Copyright (c) 2006, Yahoo! Inc. All rights reserved. Code licensed under the BSD License:http://developer.yahoo.net/yui/license.txt Version: 0.11.4 */
YAHOO.util.DragDrop=function(id,_2,_3){if(id){this.init(id,_2,_3);}};YAHOO.util.DragDrop.prototype={id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true;},unlock:function(){this.locked=false;},isTarget:true,padding:null,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,b4StartDrag:function(x,y){},startDrag:function(x,y){},b4Drag:function(e){},onDrag:function(e){},onDragEnter:function(e,id){},b4DragOver:function(e){},onDragOver:function(e,id){},b4DragOut:function(e){},onDragOut:function(e,id){},b4DragDrop:function(e){},onDragDrop:function(e,id){},b4EndDrag:function(e){},endDrag:function(e){},b4MouseDown:function(e){},onMouseDown:function(e){},onMouseUp:function(e){},onAvailable:function(){},getEl:function(){if(!this._domRef){this._domRef=YAHOO.util.Dom.get(this.id);}return this._domRef;},getDragEl:function(){return YAHOO.util.Dom.get(this.dragElId);},init:function(id,_7,_8){this.initTarget(id,_7,_8);YAHOO.util.Event.addListener(this.id,"mousedown",this.handleMouseDown,this,true);},initTarget:function(id,_9,_10){this.config=_10||{};this.DDM=YAHOO.util.DDM;this.groups={};this.id=id;this.addToGroup((_9)?_9:"default");this.handleElId=id;YAHOO.util.Event.onAvailable(id,this.handleOnAvailable,this,true);this.setDragElId(id);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=(this.config.isTarget!==false);this.maintainOffset=(this.config.maintainOffset);this.primaryButtonOnly=(this.config.primaryButtonOnly!==false);},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable();},setPadding:function(_11,_12,_13,_14){if(!_12&&0!==_12){this.padding=[_11,_11,_11,_11];}else{if(!_13&&0!==_13){this.padding=[_11,_12,_11,_12];}else{this.padding=[_11,_12,_13,_14];}}},setInitPosition:function(_15,_16){var el=this.getEl();if(!this.DDM.verifyEl(el)){return;}var dx=_15||0;var dy=_16||0;var p=YAHOO.util.Dom.getXY(el);this.initPageX=p[0]-dx;this.initPageY=p[1]-dy;this.lastPageX=p[0];this.lastPageY=p[1];this.setStartPosition(p);},setStartPosition:function(pos){var p=pos||YAHOO.util.Dom.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=p[0];this.startPageY=p[1];},addToGroup:function(_22){this.groups[_22]=true;this.DDM.regDragDrop(this,_22);},removeFromGroup:function(_23){if(this.groups[_23]){delete this.groups[_23];}this.DDM.removeDDFromGroup(this,_23);},setDragElId:function(id){this.dragElId=id;},setHandleElId:function(id){this.handleElId=id;this.DDM.regHandle(this.id,id);},setOuterHandleElId:function(id){YAHOO.util.Event.addListener(id,"mousedown",this.handleMouseDown,this,true);this.setHandleElId(id);},unreg:function(){YAHOO.util.Event.removeListener(this.id,"mousedown",this.handleMouseDown);this._domRef=null;this.DDM._remove(this);},isLocked:function(){return (this.DDM.isLocked()||this.locked);},handleMouseDown:function(e,oDD){var EU=YAHOO.util.Event;var _26=e.which||e.button;if(this.primaryButtonOnly&&_26>1){return;}if(this.isLocked()){return;}this.DDM.refreshCache(this.groups);var pt=new YAHOO.util.Point(EU.getPageX(e),EU.getPageY(e));if(!this.DDM.isOverTarget(pt,this)){}else{var _28=EU.getTarget(e);if(this.isValidHandleChild(_28)&&(this.id==this.handleElId||this.DDM.handleWasClicked(_28,this.id))){this.setStartPosition();this.b4MouseDown(e);this.onMouseDown(e);this.DDM.handleMouseDown(e,this);this.DDM.stopEvent(e);}}},addInvalidHandleType:function(_29){var _30=_29.toUpperCase();this.invalidHandleTypes[_30]=_30;},addInvalidHandleId:function(id){this.invalidHandleIds[id]=id;},addInvalidHandleClass:function(_31){this.invalidHandleClasses.push(_31);},removeInvalidHandleType:function(_32){var _33=_32.toUpperCase();delete this.invalidHandleTypes[_33];},removeInvalidHandleId:function(id){delete this.invalidHandleIds[id];},removeInvalidHandleClass:function(_34){for(var i=0,len=this.invalidHandleClasses.length;i<len;++i){if(this.invalidHandleClasses[i]==_34){delete this.invalidHandleClasses[i];}}},isValidHandleChild:function(_36){var _37=true;var _38;try{_38=_36.nodeName.toUpperCase();}catch(e){_38=_36.nodeName;}_37=_37&&!this.invalidHandleTypes[_38];_37=_37&&!this.invalidHandleIds[_36.id];for(var i=0,len=this.invalidHandleClasses.length;_37&&i<len;++i){_37=!YAHOO.util.Dom.hasClass(_36,this.invalidHandleClasses[i]);}return _37;},setXTicks:function(_39,_40){this.xTicks=[];this.xTickSize=_40;var _41={};for(var i=this.initPageX;i>=this.minX;i=i-_40){if(!_41[i]){this.xTicks[this.xTicks.length]=i;_41[i]=true;}}for(i=this.initPageX;i<=this.maxX;i=i+_40){if(!_41[i]){this.xTicks[this.xTicks.length]=i;_41[i]=true;}}this.xTicks.sort(this.DDM.numericSort);},setYTicks:function(_42,_43){this.yTicks=[];this.yTickSize=_43;var _44={};for(var i=this.initPageY;i>=this.minY;i=i-_43){if(!_44[i]){this.yTicks[this.yTicks.length]=i;_44[i]=true;}}for(i=this.initPageY;i<=this.maxY;i=i+_43){if(!_44[i]){this.yTicks[this.yTicks.length]=i;_44[i]=true;}}this.yTicks.sort(this.DDM.numericSort);},setXConstraint:function(_45,_46,_47){this.leftConstraint=_45;this.rightConstraint=_46;this.minX=this.initPageX-_45;this.maxX=this.initPageX+_46;if(_47){this.setXTicks(this.initPageX,_47);}this.constrainX=true;},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks();},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0;},setYConstraint:function(iUp,_49,_50){this.topConstraint=iUp;this.bottomConstraint=_49;this.minY=this.initPageY-iUp;this.maxY=this.initPageY+_49;if(_50){this.setYTicks(this.initPageY,_50);}this.constrainY=true;},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var dx=(this.maintainOffset)?this.lastPageX-this.initPageX:0;var dy=(this.maintainOffset)?this.lastPageY-this.initPageY:0;this.setInitPosition(dx,dy);}else{this.setInitPosition();}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize);}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize);}},getTick:function(val,_52){if(!_52){return val;}else{if(_52[0]>=val){return _52[0];}else{for(var i=0,len=_52.length;i<len;++i){var _53=i+1;if(_52[_53]&&_52[_53]>=val){var _54=val-_52[i];var _55=_52[_53]-val;return (_55>_54)?_52[i]:_52[_53];}}return _52[_52.length-1];}}},toString:function(){return ("DragDrop "+this.id);}};if(!YAHOO.util.DragDropMgr){YAHOO.util.DragDropMgr=new function(){this.ids={};this.handleIds={};this.dragCurrent=null;this.dragOvers={};this.deltaX=0;this.deltaY=0;this.preventDefault=true;this.stopPropagation=true;this.initalized=false;this.locked=false;this.init=function(){this.initialized=true;};this.POINT=0;this.INTERSECT=1;this.mode=this.POINT;this._execOnAll=function(_56,_57){for(var i in this.ids){for(var j in this.ids[i]){var oDD=this.ids[i][j];if(!this.isTypeOfDD(oDD)){continue;}oDD[_56].apply(oDD,_57);}}};this._onLoad=function(){this.init();var EU=YAHOO.util.Event;EU.on(document,"mouseup",this.handleMouseUp,this,true);EU.on(document,"mousemove",this.handleMouseMove,this,true);EU.on(window,"unload",this._onUnload,this,true);EU.on(window,"resize",this._onResize,this,true);};this._onResize=function(e){this._execOnAll("resetConstraints",[]);};this.lock=function(){this.locked=true;};this.unlock=function(){this.locked=false;};this.isLocked=function(){return this.locked;};this.locationCache={};this.useCache=true;this.clickPixelThresh=3;this.clickTimeThresh=1000;this.dragThreshMet=false;this.clickTimeout=null;this.startX=0;this.startY=0;this.regDragDrop=function(oDD,_59){if(!this.initialized){this.init();}if(!this.ids[_59]){this.ids[_59]={};}this.ids[_59][oDD.id]=oDD;};this.removeDDFromGroup=function(oDD,_60){if(!this.ids[_60]){this.ids[_60]={};}var obj=this.ids[_60];if(obj&&obj[oDD.id]){delete obj[oDD.id];}};this._remove=function(oDD){for(var g in oDD.groups){if(g&&this.ids[g][oDD.id]){delete this.ids[g][oDD.id];}}delete this.handleIds[oDD.id];};this.regHandle=function(_63,_64){if(!this.handleIds[_63]){this.handleIds[_63]={};}this.handleIds[_63][_64]=_64;};this.isDragDrop=function(id){return (this.getDDById(id))?true:false;};this.getRelated=function(_65,_66){var _67=[];for(var i in _65.groups){for(j in this.ids[i]){var dd=this.ids[i][j];if(!this.isTypeOfDD(dd)){continue;}if(!_66||dd.isTarget){_67[_67.length]=dd;}}}return _67;};this.isLegalTarget=function(oDD,_69){var _70=this.getRelated(oDD,true);for(var i=0,len=_70.length;i<len;++i){if(_70[i].id==_69.id){return true;}}return false;};this.isTypeOfDD=function(oDD){return (oDD&&oDD.__ygDragDrop);};this.isHandle=function(_71,_72){return (this.handleIds[_71]&&this.handleIds[_71][_72]);};this.getDDById=function(id){for(var i in this.ids){if(this.ids[i][id]){return this.ids[i][id];}}return null;};this.handleMouseDown=function(e,oDD){this.currentTarget=YAHOO.util.Event.getTarget(e);this.dragCurrent=oDD;var el=oDD.getEl();this.startX=YAHOO.util.Event.getPageX(e);this.startY=YAHOO.util.Event.getPageY(e);this.deltaX=this.startX-el.offsetLeft;this.deltaY=this.startY-el.offsetTop;this.dragThreshMet=false;this.clickTimeout=setTimeout(function(){var DDM=YAHOO.util.DDM;DDM.startDrag(DDM.startX,DDM.startY);},this.clickTimeThresh);};this.startDrag=function(x,y){clearTimeout(this.clickTimeout);if(this.dragCurrent){this.dragCurrent.b4StartDrag(x,y);this.dragCurrent.startDrag(x,y);}this.dragThreshMet=true;};this.handleMouseUp=function(e){if(!this.dragCurrent){return;}clearTimeout(this.clickTimeout);if(this.dragThreshMet){this.fireEvents(e,true);}else{}this.stopDrag(e);this.stopEvent(e);};this.stopEvent=function(e){if(this.stopPropagation){YAHOO.util.Event.stopPropagation(e);}if(this.preventDefault){YAHOO.util.Event.preventDefault(e);}};this.stopDrag=function(e){if(this.dragCurrent){if(this.dragThreshMet){this.dragCurrent.b4EndDrag(e);this.dragCurrent.endDrag(e);}this.dragCurrent.onMouseUp(e);}this.dragCurrent=null;this.dragOvers={};};this.handleMouseMove=function(e){if(!this.dragCurrent){return true;}if(YAHOO.util.Event.isIE&&!e.button){this.stopEvent(e);return this.handleMouseUp(e);}if(!this.dragThreshMet){var _74=Math.abs(this.startX-YAHOO.util.Event.getPageX(e));var _75=Math.abs(this.startY-YAHOO.util.Event.getPageY(e));if(_74>this.clickPixelThresh||_75>this.clickPixelThresh){this.startDrag(this.startX,this.startY);}}if(this.dragThreshMet){this.dragCurrent.b4Drag(e);this.dragCurrent.onDrag(e);this.fireEvents(e,false);}this.stopEvent(e);return true;};this.fireEvents=function(e,_76){var dc=this.dragCurrent;if(!dc||dc.isLocked()){return;}var x=YAHOO.util.Event.getPageX(e);var y=YAHOO.util.Event.getPageY(e);var pt=new YAHOO.util.Point(x,y);var _78=[];var _79=[];var _80=[];var _81=[];var _82=[];for(var i in this.dragOvers){var ddo=this.dragOvers[i];if(!this.isTypeOfDD(ddo)){continue;}if(!this.isOverTarget(pt,ddo,this.mode)){_79.push(ddo);}_78[i]=true;delete this.dragOvers[i];}for(var _84 in dc.groups){if("string"!=typeof _84){continue;}for(i in this.ids[_84]){var oDD=this.ids[_84][i];if(!this.isTypeOfDD(oDD)){continue;}if(oDD.isTarget&&!oDD.isLocked()&&oDD!=dc){if(this.isOverTarget(pt,oDD,this.mode)){if(_76){_81.push(oDD);}else{if(!_78[oDD.id]){_82.push(oDD);}else{_80.push(oDD);}this.dragOvers[oDD.id]=oDD;}}}}}if(this.mode){if(_79.length){dc.b4DragOut(e,_79);dc.onDragOut(e,_79);}if(_82.length){dc.onDragEnter(e,_82);}if(_80.length){dc.b4DragOver(e,_80);dc.onDragOver(e,_80);}if(_81.length){dc.b4DragDrop(e,_81);dc.onDragDrop(e,_81);}}else{var len=0;for(i=0,len=_79.length;i<len;++i){dc.b4DragOut(e,_79[i].id);dc.onDragOut(e,_79[i].id);}for(i=0,len=_82.length;i<len;++i){dc.onDragEnter(e,_82[i].id);}for(i=0,len=_80.length;i<len;++i){dc.b4DragOver(e,_80[i].id);dc.onDragOver(e,_80[i].id);}for(i=0,len=_81.length;i<len;++i){dc.b4DragDrop(e,_81[i].id);dc.onDragDrop(e,_81[i].id);}}};this.getBestMatch=function(dds){var _87=null;var len=dds.length;if(len==1){_87=dds[0];}else{for(var i=0;i<len;++i){var dd=dds[i];if(dd.cursorIsOver){_87=dd;break;}else{if(!_87||_87.overlap.getArea()<dd.overlap.getArea()){_87=dd;}}}}return _87;};this.refreshCache=function(_88){for(var _89 in _88){if("string"!=typeof _89){continue;}for(var i in this.ids[_89]){var oDD=this.ids[_89][i];if(this.isTypeOfDD(oDD)){var loc=this.getLocation(oDD);if(loc){this.locationCache[oDD.id]=loc;}else{delete this.locationCache[oDD.id];}}}}};this.verifyEl=function(el){try{if(el){var _91=el.offsetParent;if(_91){return true;}}}catch(e){}return false;};this.getLocation=function(oDD){if(!this.isTypeOfDD(oDD)){return null;}var el=oDD.getEl(),pos,x1,x2,y1,y2,t,r,b,l;try{pos=YAHOO.util.Dom.getXY(el);}catch(e){}if(!pos){return null;}x1=pos[0];x2=x1+el.offsetWidth;y1=pos[1];y2=y1+el.offsetHeight;t=y1-oDD.padding[0];r=x2+oDD.padding[1];b=y2+oDD.padding[2];l=x1-oDD.padding[3];return new YAHOO.util.Region(t,r,b,l);};this.isOverTarget=function(pt,_92,_93){var loc=this.locationCache[_92.id];if(!loc||!this.useCache){loc=this.getLocation(_92);this.locationCache[_92.id]=loc;}if(!loc){return false;}_92.cursorIsOver=loc.contains(pt);var dc=this.dragCurrent;if(!dc||!dc.getTargetCoord||(!_93&&!dc.constrainX&&!dc.constrainY)){return _92.cursorIsOver;}_92.overlap=null;var pos=dc.getTargetCoord(pt.x,pt.y);var el=dc.getDragEl();var _94=new YAHOO.util.Region(pos.y,pos.x+el.offsetWidth,pos.y+el.offsetHeight,pos.x);var _95=_94.intersect(loc);if(_95){_92.overlap=_95;return (_93)?true:_92.cursorIsOver;}else{return false;}};this._onUnload=function(e,me){this.unregAll();};this.unregAll=function(){if(this.dragCurrent){this.stopDrag();this.dragCurrent=null;}this._execOnAll("unreg",[]);for(i in this.elementCache){delete this.elementCache[i];}this.elementCache={};this.ids={};};this.elementCache={};this.getElWrapper=function(id){var _97=this.elementCache[id];if(!_97||!_97.el){_97=this.elementCache[id]=new this.ElementWrapper(YAHOO.util.Dom.get(id));}return _97;};this.getElement=function(id){return YAHOO.util.Dom.get(id);};this.getCss=function(id){var el=YAHOO.util.Dom.get(id);return (el)?el.style:null;};this.ElementWrapper=function(el){this.el=el||null;this.id=this.el&&el.id;this.css=this.el&&el.style;};this.getPosX=function(el){return YAHOO.util.Dom.getX(el);};this.getPosY=function(el){return YAHOO.util.Dom.getY(el);};this.swapNode=function(n1,n2){if(n1.swapNode){n1.swapNode(n2);}else{var p=n2.parentNode;var s=n2.nextSibling;if(s==n1){p.insertBefore(n1,n2);}else{if(n2==n1.nextSibling){p.insertBefore(n2,n1);}else{n1.parentNode.replaceChild(n2,n1);p.insertBefore(n1,s);}}}};this.getScroll=function(){var t,l;if(document.documentElement&&document.documentElement.scrollTop){t=document.documentElement.scrollTop;l=document.documentElement.scrollLeft;}else{if(document.body){t=document.body.scrollTop;l=document.body.scrollLeft;}}return {top:t,left:l};};this.getStyle=function(el,_102){return YAHOO.util.Dom.getStyle(el,_102);};this.getScrollTop=function(){return this.getScroll().top;};this.getScrollLeft=function(){return this.getScroll().left;};this.moveToEl=function(_103,_104){var _105=YAHOO.util.Dom.getXY(_104);YAHOO.util.Dom.setXY(_103,_105);};this.getClientHeight=function(){return YAHOO.util.Dom.getClientHeight();};this.getClientWidth=function(){return YAHOO.util.Dom.getClientWidth();};this.numericSort=function(a,b){return (a-b);};this._timeoutCount=0;this._addListeners=function(){var DDM=YAHOO.util.DDM;if(YAHOO.util.Event&&document){DDM._onLoad();}else{if(DDM._timeoutCount>2000){}else{setTimeout(DDM._addListeners,10);if(document&&document.body){DDM._timeoutCount+=1;}}}};this.handleWasClicked=function(node,id){if(this.isHandle(id,node.id)){return true;}else{var p=node.parentNode;while(p){if(this.isHandle(id,p.id)){return true;}else{p=p.parentNode;}}}return false;};}();YAHOO.util.DDM=YAHOO.util.DragDropMgr;YAHOO.util.DDM._addListeners();}YAHOO.util.DD=function(id,_109,_110){if(id){this.init(id,_109,_110);}};YAHOO.extend(YAHOO.util.DD,YAHOO.util.DragDrop);YAHOO.util.DD.prototype.scroll=true;YAHOO.util.DD.prototype.autoOffset=function(_111,_112){var x=_111-this.startPageX;var y=_112-this.startPageY;this.setDelta(x,y);};YAHOO.util.DD.prototype.setDelta=function(_113,_114){this.deltaX=_113;this.deltaY=_114;};YAHOO.util.DD.prototype.setDragElPos=function(_115,_116){var el=this.getDragEl();this.alignElWithMouse(el,_115,_116);};YAHOO.util.DD.prototype.alignElWithMouse=function(el,_117,_118){var _119=this.getTargetCoord(_117,_118);if(!this.deltaSetXY){var _120=[_119.x,_119.y];YAHOO.util.Dom.setXY(el,_120);var _121=parseInt(YAHOO.util.Dom.getStyle(el,"left"),10);var _122=parseInt(YAHOO.util.Dom.getStyle(el,"top"),10);this.deltaSetXY=[_121-_119.x,_122-_119.y];}else{YAHOO.util.Dom.setStyle(el,"left",(_119.x+this.deltaSetXY[0])+"px");YAHOO.util.Dom.setStyle(el,"top",(_119.y+this.deltaSetXY[1])+"px");}this.cachePosition(_119.x,_119.y);this.autoScroll(_119.x,_119.y,el.offsetHeight,el.offsetWidth);};YAHOO.util.DD.prototype.cachePosition=function(_123,_124){if(_123){this.lastPageX=_123;this.lastPageY=_124;}else{var _125=YAHOO.util.Dom.getXY(this.getEl());this.lastPageX=_125[0];this.lastPageY=_125[1];}};YAHOO.util.DD.prototype.autoScroll=function(x,y,h,w){if(this.scroll){var _128=this.DDM.getClientHeight();var _129=this.DDM.getClientWidth();var st=this.DDM.getScrollTop();var sl=this.DDM.getScrollLeft();var bot=h+y;var _133=w+x;var _134=(_128+st-y-this.deltaY);var _135=(_129+sl-x-this.deltaX);var _136=40;var _137=(document.all)?80:30;if(bot>_128&&_134<_136){window.scrollTo(sl,st+_137);}if(y<st&&st>0&&y-st<_136){window.scrollTo(sl,st-_137);}if(_133>_129&&_135<_136){window.scrollTo(sl+_137,st);}if(x<sl&&sl>0&&x-sl<_136){window.scrollTo(sl-_137,st);}}};YAHOO.util.DD.prototype.getTargetCoord=function(_138,_139){var x=_138-this.deltaX;var y=_139-this.deltaY;if(this.constrainX){if(x<this.minX){x=this.minX;}if(x>this.maxX){x=this.maxX;}}if(this.constrainY){if(y<this.minY){y=this.minY;}if(y>this.maxY){y=this.maxY;}}x=this.getTick(x,this.xTicks);y=this.getTick(y,this.yTicks);return {x:x,y:y};};YAHOO.util.DD.prototype.applyConfig=function(){YAHOO.util.DD.superclass.applyConfig.call(this);this.scroll=(this.config.scroll!==false);};YAHOO.util.DD.prototype.b4MouseDown=function(e){this.autoOffset(YAHOO.util.Event.getPageX(e),YAHOO.util.Event.getPageY(e));};YAHOO.util.DD.prototype.b4Drag=function(e){this.setDragElPos(YAHOO.util.Event.getPageX(e),YAHOO.util.Event.getPageY(e));};YAHOO.util.DD.prototype.toString=function(){return ("DD "+this.id);};YAHOO.util.DDProxy=function(id,_140,_141){if(id){this.init(id,_140,_141);this.initFrame();}};YAHOO.extend(YAHOO.util.DDProxy,YAHOO.util.DD);YAHOO.util.DDProxy.dragElId="ygddfdiv";YAHOO.util.DDProxy.prototype.resizeFrame=true;YAHOO.util.DDProxy.prototype.centerFrame=false;YAHOO.util.DDProxy.prototype.createFrame=function(){var self=this;var body=document.body;if(!body||!body.firstChild){setTimeout(function(){self.createFrame();},50);return;}var div=this.getDragEl();if(!div){div=document.createElement("div");div.id=this.dragElId;var s=div.style;s.position="absolute";s.visibility="hidden";s.cursor="move";s.border="2px solid #aaa";s.zIndex=999;body.insertBefore(div,body.firstChild);}};YAHOO.util.DDProxy.prototype.initFrame=function(){this.createFrame();};YAHOO.util.DDProxy.prototype.applyConfig=function(){YAHOO.util.DDProxy.superclass.applyConfig.call(this);this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||YAHOO.util.DDProxy.dragElId);};YAHOO.util.DDProxy.prototype.showFrame=function(_145,_146){var el=this.getEl();var _147=this.getDragEl();var s=_147.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(s.width,10)/2),Math.round(parseInt(s.height,10)/2));}this.setDragElPos(_145,_146);YAHOO.util.Dom.setStyle(_147,"visibility","visible");};YAHOO.util.DDProxy.prototype._resizeProxy=function(){if(this.resizeFrame){var DOM=YAHOO.util.Dom;var el=this.getEl();var _149=this.getDragEl();var bt=parseInt(DOM.getStyle(_149,"borderTopWidth"),10);var br=parseInt(DOM.getStyle(_149,"borderRightWidth"),10);var bb=parseInt(DOM.getStyle(_149,"borderBottomWidth"),10);var bl=parseInt(DOM.getStyle(_149,"borderLeftWidth"),10);if(isNaN(bt)){bt=0;}if(isNaN(br)){br=0;}if(isNaN(bb)){bb=0;}if(isNaN(bl)){bl=0;}var _154=Math.max(0,el.offsetWidth-br-bl);var _155=Math.max(0,el.offsetHeight-bt-bb);DOM.setStyle(_149,"width",_154+"px");DOM.setStyle(_149,"height",_155+"px");}};YAHOO.util.DDProxy.prototype.b4MouseDown=function(e){var x=YAHOO.util.Event.getPageX(e);var y=YAHOO.util.Event.getPageY(e);this.autoOffset(x,y);this.setDragElPos(x,y);};YAHOO.util.DDProxy.prototype.b4StartDrag=function(x,y){this.showFrame(x,y);};YAHOO.util.DDProxy.prototype.b4EndDrag=function(e){YAHOO.util.Dom.setStyle(this.getDragEl(),"visibility","hidden");};YAHOO.util.DDProxy.prototype.endDrag=function(e){var DOM=YAHOO.util.Dom;var lel=this.getEl();var del=this.getDragEl();DOM.setStyle(del,"visibility","");DOM.setStyle(lel,"visibility","hidden");YAHOO.util.DDM.moveToEl(lel,del);DOM.setStyle(del,"visibility","hidden");DOM.setStyle(lel,"visibility","");};YAHOO.util.DDProxy.prototype.toString=function(){return ("DDProxy "+this.id);};YAHOO.util.DDTarget=function(id,_158,_159){if(id){this.initTarget(id,_158,_159);}};YAHOO.extend(YAHOO.util.DDTarget,YAHOO.util.DragDrop);YAHOO.util.DDTarget.prototype.toString=function(){return ("DDTarget "+this.id);};
/* Copyright (c) 2006, Yahoo! Inc. All rights reserved.  Code licensed under the BSD License: http://developer.yahoo.net/yui/license.txt Version: 0.11.3 */ YAHOO.util.Anim=function(el,attributes,duration,method){if(el){this.init(el,attributes,duration,method);}};YAHOO.util.Anim.prototype={toString:function(){var el=this.getEl();var id=el.id||el.tagName;return("Anim "+id);},patterns:{noNegatives:/width|height|opacity|padding/i,offsetAttribute:/^((width|height)|(top|left))$/,defaultUnit:/width|height|top$|bottom$|left$|right$/i,offsetUnit:/\d+(em|%|en|ex|pt|in|cm|mm|pc)$/i},doMethod:function(attr,start,end){return this.method(this.currentFrame,start,end-start,this.totalFrames);},setAttribute:function(attr,val,unit){if(this.patterns.noNegatives.test(attr)){val=(val>0)?val:0;}YAHOO.util.Dom.setStyle(this.getEl(),attr,val+unit);},getAttribute:function(attr){var el=this.getEl();var val=YAHOO.util.Dom.getStyle(el,attr);if(val!=='auto'&&!this.patterns.offsetUnit.test(val)){return parseFloat(val);}var a=this.patterns.offsetAttribute.exec(attr)||[];var pos=!!(a[3]);var box=!!(a[2]);if(box||(YAHOO.util.Dom.getStyle(el,'position')=='absolute'&&pos)){val=el['offset'+a[0].charAt(0).toUpperCase()+a[0].substr(1)];}else{val=0;}return val;},getDefaultUnit:function(attr){if(this.patterns.defaultUnit.test(attr)){return'px';}return'';},setRuntimeAttribute:function(attr){var start;var end;var attributes=this.attributes;this.runtimeAttributes[attr]={};var isset=function(prop){return(typeof prop!=='undefined');};if(!isset(attributes[attr]['to'])&&!isset(attributes[attr]['by'])){return false;}start=(isset(attributes[attr]['from']))?attributes[attr]['from']:this.getAttribute(attr);if(isset(attributes[attr]['to'])){end=attributes[attr]['to'];}else if(isset(attributes[attr]['by'])){if(start.constructor==Array){end=[];for(var i=0,len=start.length;i<len;++i){end[i]=start[i]+attributes[attr]['by'][i];}}else{end=start+attributes[attr]['by'];}}this.runtimeAttributes[attr].start=start;this.runtimeAttributes[attr].end=end;this.runtimeAttributes[attr].unit=(isset(attributes[attr].unit))?attributes[attr]['unit']:this.getDefaultUnit(attr);},init:function(el,attributes,duration,method){var isAnimated=false;var startTime=null;var actualFrames=0;el=YAHOO.util.Dom.get(el);this.attributes=attributes||{};this.duration=duration||1;this.method=method||YAHOO.util.Easing.easeNone;this.useSeconds=true;this.currentFrame=0;this.totalFrames=YAHOO.util.AnimMgr.fps;this.getEl=function(){return el;};this.isAnimated=function(){return isAnimated;};this.getStartTime=function(){return startTime;};this.runtimeAttributes={};this.animate=function(){if(this.isAnimated()){return false;}this.currentFrame=0;this.totalFrames=(this.useSeconds)?Math.ceil(YAHOO.util.AnimMgr.fps*this.duration):this.duration;YAHOO.util.AnimMgr.registerElement(this);};this.stop=function(){YAHOO.util.AnimMgr.stop(this);};var onStart=function(){this.onStart.fire();for(var attr in this.attributes){this.setRuntimeAttribute(attr);}isAnimated=true;actualFrames=0;startTime=new Date();};var onTween=function(){var data={duration:new Date()-this.getStartTime(),currentFrame:this.currentFrame};data.toString=function(){return('duration: '+data.duration+', currentFrame: '+data.currentFrame);};this.onTween.fire(data);var runtimeAttributes=this.runtimeAttributes;for(var attr in runtimeAttributes){this.setAttribute(attr,this.doMethod(attr,runtimeAttributes[attr].start,runtimeAttributes[attr].end),runtimeAttributes[attr].unit);}actualFrames+=1;};var onComplete=function(){var actual_duration=(new Date()-startTime)/1000;var data={duration:actual_duration,frames:actualFrames,fps:actualFrames/actual_duration};data.toString=function(){return('duration: '+data.duration+', frames: '+data.frames+', fps: '+data.fps);};isAnimated=false;actualFrames=0;this.onComplete.fire(data);};this._onStart=new YAHOO.util.CustomEvent('_start',this,true);this.onStart=new YAHOO.util.CustomEvent('start',this);this.onTween=new YAHOO.util.CustomEvent('tween',this);this._onTween=new YAHOO.util.CustomEvent('_tween',this,true);this.onComplete=new YAHOO.util.CustomEvent('complete',this);this._onComplete=new YAHOO.util.CustomEvent('_complete',this,true);this._onStart.subscribe(onStart);this._onTween.subscribe(onTween);this._onComplete.subscribe(onComplete);}};YAHOO.util.AnimMgr=new function(){var thread=null;var queue=[];var tweenCount=0;this.fps=200;this.delay=1;this.registerElement=function(tween){queue[queue.length]=tween;tweenCount+=1;tween._onStart.fire();this.start();};this.unRegister=function(tween,index){tween._onComplete.fire();index=index||getIndex(tween);if(index!=-1){queue.splice(index,1);}tweenCount-=1;if(tweenCount<=0){this.stop();}};this.start=function(){if(thread===null){thread=setInterval(this.run,this.delay);}};this.stop=function(tween){if(!tween){clearInterval(thread);for(var i=0,len=queue.length;i<len;++i){if(queue[i].isAnimated()){this.unRegister(tween,i);}}queue=[];thread=null;tweenCount=0;}else{this.unRegister(tween);}};this.run=function(){for(var i=0,len=queue.length;i<len;++i){var tween=queue[i];if(!tween||!tween.isAnimated()){continue;}if(tween.currentFrame<tween.totalFrames||tween.totalFrames===null){tween.currentFrame+=1;if(tween.useSeconds){correctFrame(tween);}tween._onTween.fire();}else{YAHOO.util.AnimMgr.stop(tween,i);}}};var getIndex=function(anim){for(var i=0,len=queue.length;i<len;++i){if(queue[i]==anim){return i;}}return-1;};var correctFrame=function(tween){var frames=tween.totalFrames;var frame=tween.currentFrame;var expected=(tween.currentFrame*tween.duration*1000/tween.totalFrames);var elapsed=(new Date()-tween.getStartTime());var tweak=0;if(elapsed<tween.duration*1000){tweak=Math.round((elapsed/expected-1)*tween.currentFrame);}else{tweak=frames-(frame+1);}if(tweak>0&&isFinite(tweak)){if(tween.currentFrame+tweak>=frames){tweak=frames-(frame+1);}tween.currentFrame+=tweak;}};};YAHOO.util.Bezier=new function(){this.getPosition=function(points,t){var n=points.length;var tmp=[];for(var i=0;i<n;++i){tmp[i]=[points[i][0],points[i][1]];}for(var j=1;j<n;++j){for(i=0;i<n-j;++i){tmp[i][0]=(1-t)*tmp[i][0]+t*tmp[parseInt(i+1,10)][0];tmp[i][1]=(1-t)*tmp[i][1]+t*tmp[parseInt(i+1,10)][1];}}return[tmp[0][0],tmp[0][1]];};};(function(){YAHOO.util.ColorAnim=function(el,attributes,duration,method){YAHOO.util.ColorAnim.superclass.constructor.call(this,el,attributes,duration,method);};YAHOO.extend(YAHOO.util.ColorAnim,YAHOO.util.Anim);var Y=YAHOO.util;var superclass=Y.ColorAnim.superclass;var proto=Y.ColorAnim.prototype;proto.toString=function(){var el=this.getEl();var id=el.id||el.tagName;return("ColorAnim "+id);};proto.patterns.color=/color$/i;proto.patterns.rgb=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i;proto.patterns.hex=/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i;proto.patterns.hex3=/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i;proto.parseColor=function(s){if(s.length==3){return s;}var c=this.patterns.hex.exec(s);if(c&&c.length==4){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)];}c=this.patterns.rgb.exec(s);if(c&&c.length==4){return[parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10)];}c=this.patterns.hex3.exec(s);if(c&&c.length==4){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)];}return null;};proto.getAttribute=function(attr){var el=this.getEl();if(this.patterns.color.test(attr)){var val=YAHOO.util.Dom.getStyle(el,attr);if(val=='transparent'){var parent=el.parentNode;val=Y.Dom.getStyle(parent,attr);while(parent&&val=='transparent'){parent=parent.parentNode;val=Y.Dom.getStyle(parent,attr);if(parent.tagName.toUpperCase()=='HTML'){val='ffffff';}}}}else{val=superclass.getAttribute.call(this,attr);}return val;};proto.doMethod=function(attr,start,end){var val;if(this.patterns.color.test(attr)){val=[];for(var i=0,len=start.length;i<len;++i){val[i]=superclass.doMethod.call(this,attr,start[i],end[i]);}val='rgb('+Math.floor(val[0])+','+Math.floor(val[1])+','+Math.floor(val[2])+')';}else{val=superclass.doMethod.call(this,attr,start,end);}return val;};proto.setRuntimeAttribute=function(attr){superclass.setRuntimeAttribute.call(this,attr);if(this.patterns.color.test(attr)){var attributes=this.attributes;var start=this.parseColor(this.runtimeAttributes[attr].start);var end=this.parseColor(this.runtimeAttributes[attr].end);if(typeof attributes[attr]['to']==='undefined'&&typeof attributes[attr]['by']!=='undefined'){end=this.parseColor(attributes[attr].by);for(var i=0,len=start.length;i<len;++i){end[i]=start[i]+end[i];}}this.runtimeAttributes[attr].start=start;this.runtimeAttributes[attr].end=end;}};})();YAHOO.util.Easing={easeNone:function(t,b,c,d){return c*t/d+b;},easeIn:function(t,b,c,d){return c*(t/=d)*t+b;},easeOut:function(t,b,c,d){return-c*(t/=d)*(t-2)+b;},easeBoth:function(t,b,c,d){if((t/=d/2)<1)return c/2*t*t+b;return-c/2*((--t)*(t-2)-1)+b;},easeInStrong:function(t,b,c,d){return c*(t/=d)*t*t*t+b;},easeOutStrong:function(t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b;},easeBothStrong:function(t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t+b;return-c/2*((t-=2)*t*t*t-2)+b;},elasticIn:function(t,b,c,d,a,p){if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(!a||a<Math.abs(c)){a=c;var s=p/4;}else var s=p/(2*Math.PI)*Math.asin(c/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;},elasticOut:function(t,b,c,d,a,p){if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(!a||a<Math.abs(c)){a=c;var s=p/4;}else var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b;},elasticBoth:function(t,b,c,d,a,p){if(t==0)return b;if((t/=d/2)==2)return b+c;if(!p)p=d*(.3*1.5);if(!a||a<Math.abs(c)){a=c;var s=p/4;}else var s=p/(2*Math.PI)*Math.asin(c/a);if(t<1)return-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;return a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*.5+c+b;},backIn:function(t,b,c,d,s){if(typeof s=='undefined')s=1.70158;return c*(t/=d)*t*((s+1)*t-s)+b;},backOut:function(t,b,c,d,s){if(typeof s=='undefined')s=1.70158;return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b;},backBoth:function(t,b,c,d,s){if(typeof s=='undefined')s=1.70158;if((t/=d/2)<1)return c/2*(t*t*(((s*=(1.525))+1)*t-s))+b;return c/2*((t-=2)*t*(((s*=(1.525))+1)*t+s)+2)+b;},bounceIn:function(t,b,c,d){return c-YAHOO.util.Easing.bounceOut(d-t,0,c,d)+b;},bounceOut:function(t,b,c,d){if((t/=d)<(1/2.75)){return c*(7.5625*t*t)+b;}else if(t<(2/2.75)){return c*(7.5625*(t-=(1.5/2.75))*t+.75)+b;}else if(t<(2.5/2.75)){return c*(7.5625*(t-=(2.25/2.75))*t+.9375)+b;}else{return c*(7.5625*(t-=(2.625/2.75))*t+.984375)+b;}},bounceBoth:function(t,b,c,d){if(t<d/2)return YAHOO.util.Easing.bounceIn(t*2,0,c,d)*.5+b;return YAHOO.util.Easing.bounceOut(t*2-d,0,c,d)*.5+c*.5+b;}};(function(){YAHOO.util.Motion=function(el,attributes,duration,method){if(el){YAHOO.util.Motion.superclass.constructor.call(this,el,attributes,duration,method);}};YAHOO.extend(YAHOO.util.Motion,YAHOO.util.ColorAnim);var Y=YAHOO.util;var superclass=Y.Motion.superclass;var proto=Y.Motion.prototype;proto.toString=function(){var el=this.getEl();var id=el.id||el.tagName;return("Motion "+id);};proto.patterns.points=/^points$/i;proto.setAttribute=function(attr,val,unit){if(this.patterns.points.test(attr)){unit=unit||'px';superclass.setAttribute.call(this,'left',val[0],unit);superclass.setAttribute.call(this,'top',val[1],unit);}else{superclass.setAttribute.call(this,attr,val,unit);}};proto.getAttribute=function(attr){if(this.patterns.points.test(attr)){var val=[superclass.getAttribute.call(this,'left'),superclass.getAttribute.call(this,'top')];}else{val=superclass.getAttribute.call(this,attr);}return val;};proto.doMethod=function(attr,start,end){var val=null;if(this.patterns.points.test(attr)){var t=this.method(this.currentFrame,0,100,this.totalFrames)/100;val=Y.Bezier.getPosition(this.runtimeAttributes[attr],t);}else{val=superclass.doMethod.call(this,attr,start,end);}return val;};proto.setRuntimeAttribute=function(attr){if(this.patterns.points.test(attr)){var el=this.getEl();var attributes=this.attributes;var start;var control=attributes['points']['control']||[];var end;var i,len;if(control.length>0&&!(control[0]instanceof Array)){control=[control];}else{var tmp=[];for(i=0,len=control.length;i<len;++i){tmp[i]=control[i];}control=tmp;}if(Y.Dom.getStyle(el,'position')=='static'){Y.Dom.setStyle(el,'position','relative');}if(isset(attributes['points']['from'])){Y.Dom.setXY(el,attributes['points']['from']);}else{Y.Dom.setXY(el,Y.Dom.getXY(el));}start=this.getAttribute('points');if(isset(attributes['points']['to'])){end=translateValues.call(this,attributes['points']['to'],start);var pageXY=Y.Dom.getXY(this.getEl());for(i=0,len=control.length;i<len;++i){control[i]=translateValues.call(this,control[i],start);}}else if(isset(attributes['points']['by'])){end=[start[0]+attributes['points']['by'][0],start[1]+attributes['points']['by'][1]];for(i=0,len=control.length;i<len;++i){control[i]=[start[0]+control[i][0],start[1]+control[i][1]];}}this.runtimeAttributes[attr]=[start];if(control.length>0){this.runtimeAttributes[attr]=this.runtimeAttributes[attr].concat(control);}this.runtimeAttributes[attr][this.runtimeAttributes[attr].length]=end;}else{superclass.setRuntimeAttribute.call(this,attr);}};var translateValues=function(val,start){var pageXY=Y.Dom.getXY(this.getEl());val=[val[0]-pageXY[0]+start[0],val[1]-pageXY[1]+start[1]];return val;};var isset=function(prop){return(typeof prop!=='undefined');};})();(function(){YAHOO.util.Scroll=function(el,attributes,duration,method){if(el){YAHOO.util.Scroll.superclass.constructor.call(this,el,attributes,duration,method);}};YAHOO.extend(YAHOO.util.Scroll,YAHOO.util.ColorAnim);var Y=YAHOO.util;var superclass=Y.Scroll.superclass;var proto=Y.Scroll.prototype;proto.toString=function(){var el=this.getEl();var id=el.id||el.tagName;return("Scroll "+id);};proto.doMethod=function(attr,start,end){var val=null;if(attr=='scroll'){val=[this.method(this.currentFrame,start[0],end[0]-start[0],this.totalFrames),this.method(this.currentFrame,start[1],end[1]-start[1],this.totalFrames)];}else{val=superclass.doMethod.call(this,attr,start,end);}return val;};proto.getAttribute=function(attr){var val=null;var el=this.getEl();if(attr=='scroll'){val=[el.scrollLeft,el.scrollTop];}else{val=superclass.getAttribute.call(this,attr);}return val;};proto.setAttribute=function(attr,val,unit){var el=this.getEl();if(attr=='scroll'){el.scrollLeft=val[0];el.scrollTop=val[1];}else{superclass.setAttribute.call(this,attr,val,unit);}};})();

/* Copyright (c) 2006, Yahoo! Inc. All rights reserved. Code licensed under the BSD License: http://developer.yahoo.net/yui/license.txt Version: 0.11.4 */
YAHOO.util.Config=function(owner){if(owner){this.init(owner);}};YAHOO.util.Config.prototype={owner:null,configChangedEvent:null,queueInProgress:false,addProperty:function(key,propertyObject){},getConfig:function(){},getProperty:function(key){},resetProperty:function(key){},setProperty:function(key,value,silent){},queueProperty:function(key,value){},refireEvent:function(key){},applyConfig:function(userConfig,init){},refresh:function(){},fireQueue:function(){},subscribeToConfigEvent:function(key,handler,obj,override){},unsubscribeFromConfigEvent:function(key,handler,obj){},checkBoolean:function(val){if(typeof val=='boolean'){return true;}else{return false;}},checkNumber:function(val){if(isNaN(val)){return false;}else{return true;}}};YAHOO.util.Config.prototype.init=function(owner){this.owner=owner;this.configChangedEvent=new YAHOO.util.CustomEvent("configChanged");this.queueInProgress=false;var config={};var initialConfig={};var eventQueue=[];var fireEvent=function(key,value){key=key.toLowerCase();var property=config[key];if(typeof property!='undefined'&&property.event){property.event.fire(value);}};this.addProperty=function(key,propertyObject){key=key.toLowerCase();config[key]=propertyObject;propertyObject.event=new YAHOO.util.CustomEvent(key);propertyObject.key=key;if(propertyObject.handler){propertyObject.event.subscribe(propertyObject.handler,this.owner,true);}
this.setProperty(key,propertyObject.value,true);if(!propertyObject.suppressEvent){this.queueProperty(key,propertyObject.value);}};this.getConfig=function(){var cfg={};for(var prop in config){var property=config[prop];if(typeof property!='undefined'&&property.event){cfg[prop]=property.value;}}
return cfg;};this.getProperty=function(key){key=key.toLowerCase();var property=config[key];if(typeof property!='undefined'&&property.event){return property.value;}else{return undefined;}};this.resetProperty=function(key){key=key.toLowerCase();var property=config[key];if(typeof property!='undefined'&&property.event){this.setProperty(key,initialConfig[key].value);}else{return undefined;}};this.setProperty=function(key,value,silent){key=key.toLowerCase();if(this.queueInProgress&&!silent){this.queueProperty(key,value);return true;}else{var property=config[key];if(typeof property!='undefined'&&property.event){if(property.validator&&!property.validator(value)){return false;}else{property.value=value;if(!silent){fireEvent(key,value);this.configChangedEvent.fire([key,value]);}
return true;}}else{return false;}}};this.queueProperty=function(key,value){key=key.toLowerCase();var property=config[key];if(typeof property!='undefined'&&property.event){if(typeof value!='undefined'&&property.validator&&!property.validator(value)){return false;}else{if(typeof value!='undefined'){property.value=value;}else{value=property.value;}
var foundDuplicate=false;for(var i=0;i<eventQueue.length;i++){var queueItem=eventQueue[i];if(queueItem){var queueItemKey=queueItem[0];var queueItemValue=queueItem[1];if(queueItemKey.toLowerCase()==key){eventQueue[i]=null;eventQueue.push([key,(typeof value!='undefined'?value:queueItemValue)]);foundDuplicate=true;break;}}}
if(!foundDuplicate&&typeof value!='undefined'){eventQueue.push([key,value]);}}
if(property.supercedes){for(var s=0;s<property.supercedes.length;s++){var supercedesCheck=property.supercedes[s];for(var q=0;q<eventQueue.length;q++){var queueItemCheck=eventQueue[q];if(queueItemCheck){var queueItemCheckKey=queueItemCheck[0];var queueItemCheckValue=queueItemCheck[1];if(queueItemCheckKey.toLowerCase()==supercedesCheck.toLowerCase()){eventQueue.push([queueItemCheckKey,queueItemCheckValue]);eventQueue[q]=null;break;}}}}}
return true;}else{return false;}};this.refireEvent=function(key){key=key.toLowerCase();var property=config[key];if(typeof property!='undefined'&&property.event&&typeof property.value!='undefined'){if(this.queueInProgress){this.queueProperty(key);}else{fireEvent(key,property.value);}}};this.applyConfig=function(userConfig,init){if(init){initialConfig=userConfig;}
for(var prop in userConfig){this.queueProperty(prop,userConfig[prop]);}};this.refresh=function(){for(var prop in config){this.refireEvent(prop);}};this.fireQueue=function(){this.queueInProgress=true;for(var i=0;i<eventQueue.length;i++){var queueItem=eventQueue[i];if(queueItem){var key=queueItem[0];var value=queueItem[1];var property=config[key];property.value=value;fireEvent(key,value);}}
this.queueInProgress=false;eventQueue=[];};this.subscribeToConfigEvent=function(key,handler,obj,override){key=key.toLowerCase();var property=config[key];if(typeof property!='undefined'&&property.event){if(!YAHOO.util.Config.alreadySubscribed(property.event,handler,obj)){property.event.subscribe(handler,obj,override);}
return true;}else{return false;}};this.unsubscribeFromConfigEvent=function(key,handler,obj){key=key.toLowerCase();var property=config[key];if(typeof property!='undefined'&&property.event){return property.event.unsubscribe(handler,obj);}else{return false;}};this.toString=function(){var output="Config";if(this.owner){output+=" ["+this.owner.toString()+"]";}
return output;};this.outputEventQueue=function(){var output="";for(var q=0;q<eventQueue.length;q++){var queueItem=eventQueue[q];if(queueItem){output+=queueItem[0]+"="+queueItem[1]+", ";}}
return output;};};YAHOO.util.Config.alreadySubscribed=function(evt,fn,obj){for(var e=0;e<evt.subscribers.length;e++){var subsc=evt.subscribers[e];if(subsc&&subsc.obj==obj&&subsc.fn==fn){return true;}}
return false;};YAHOO.widget.Module=function(el,userConfig){if(el){this.init(el,userConfig);}};YAHOO.widget.Module.IMG_ROOT="http://us.i1.yimg.com/us.yimg.com/i/";YAHOO.widget.Module.IMG_ROOT_SSL="https://a248.e.akamai.net/sec.yimg.com/i/";YAHOO.widget.Module.CSS_MODULE="module";YAHOO.widget.Module.CSS_HEADER="hd";YAHOO.widget.Module.CSS_BODY="bd";YAHOO.widget.Module.CSS_FOOTER="ft";YAHOO.widget.Module.RESIZE_MONITOR_SECURE_URL="javascript:false";YAHOO.widget.Module.prototype={constructor:YAHOO.widget.Module,element:null,header:null,body:null,footer:null,id:null,childNodesInDOM:null,imageRoot:YAHOO.widget.Module.IMG_ROOT,beforeInitEvent:null,initEvent:null,appendEvent:null,beforeRenderEvent:null,renderEvent:null,changeHeaderEvent:null,changeBodyEvent:null,changeFooterEvent:null,changeContentEvent:null,destroyEvent:null,beforeShowEvent:null,showEvent:null,beforeHideEvent:null,hideEvent:null,initEvents:function(){this.beforeInitEvent=new YAHOO.util.CustomEvent("beforeInit");this.initEvent=new YAHOO.util.CustomEvent("init");this.appendEvent=new YAHOO.util.CustomEvent("append");this.beforeRenderEvent=new YAHOO.util.CustomEvent("beforeRender");this.renderEvent=new YAHOO.util.CustomEvent("render");this.changeHeaderEvent=new YAHOO.util.CustomEvent("changeHeader");this.changeBodyEvent=new YAHOO.util.CustomEvent("changeBody");this.changeFooterEvent=new YAHOO.util.CustomEvent("changeFooter");this.changeContentEvent=new YAHOO.util.CustomEvent("changeContent");this.destroyEvent=new YAHOO.util.CustomEvent("destroy");this.beforeShowEvent=new YAHOO.util.CustomEvent("beforeShow");this.showEvent=new YAHOO.util.CustomEvent("show");this.beforeHideEvent=new YAHOO.util.CustomEvent("beforeHide");this.hideEvent=new YAHOO.util.CustomEvent("hide");},platform:function(){var ua=navigator.userAgent.toLowerCase();if(ua.indexOf("windows")!=-1||ua.indexOf("win32")!=-1){return"windows";}else if(ua.indexOf("macintosh")!=-1){return"mac";}else{return false;}}(),browser:function(){var ua=navigator.userAgent.toLowerCase();if(ua.indexOf('opera')!=-1){return'opera';}else if(ua.indexOf('msie 7')!=-1){return'ie7';}else if(ua.indexOf('msie')!=-1){return'ie';}else if(ua.indexOf('safari')!=-1){return'safari';}else if(ua.indexOf('gecko')!=-1){return'gecko';}else{return false;}}(),isSecure:function(){if(window.location.href.toLowerCase().indexOf("https")===0){return true;}else{return false;}}(),initDefaultConfig:function(){this.cfg.addProperty("visible",{value:true,handler:this.configVisible,validator:this.cfg.checkBoolean});this.cfg.addProperty("effect",{suppressEvent:true,supercedes:["visible"]});this.cfg.addProperty("monitorresize",{value:true,handler:this.configMonitorResize});},init:function(el,userConfig){this.initEvents();this.beforeInitEvent.fire(YAHOO.widget.Module);this.cfg=new YAHOO.util.Config(this);if(this.isSecure){this.imageRoot=YAHOO.widget.Module.IMG_ROOT_SSL;}
if(typeof el=="string"){var elId=el;el=document.getElementById(el);if(!el){el=document.createElement("DIV");el.id=elId;}}
this.element=el;if(el.id){this.id=el.id;}
var childNodes=this.element.childNodes;if(childNodes){for(var i=0;i<childNodes.length;i++){var child=childNodes[i];switch(child.className){case YAHOO.widget.Module.CSS_HEADER:this.header=child;break;case YAHOO.widget.Module.CSS_BODY:this.body=child;break;case YAHOO.widget.Module.CSS_FOOTER:this.footer=child;break;}}}
this.initDefaultConfig();YAHOO.util.Dom.addClass(this.element,YAHOO.widget.Module.CSS_MODULE);if(userConfig){this.cfg.applyConfig(userConfig,true);}
if(!YAHOO.util.Config.alreadySubscribed(this.renderEvent,this.cfg.fireQueue,this.cfg)){this.renderEvent.subscribe(this.cfg.fireQueue,this.cfg,true);}
this.initEvent.fire(YAHOO.widget.Module);},initResizeMonitor:function(){if(this.browser!="opera"){var resizeMonitor=document.getElementById("_yuiResizeMonitor");if(!resizeMonitor){resizeMonitor=document.createElement("iframe");var bIE=(this.browser.indexOf("ie")===0);if(this.isSecure&&YAHOO.widget.Module.RESIZE_MONITOR_SECURE_URL&&bIE){resizeMonitor.src=YAHOO.widget.Module.RESIZE_MONITOR_SECURE_URL;}
resizeMonitor.id="_yuiResizeMonitor";resizeMonitor.style.visibility="hidden";document.body.appendChild(resizeMonitor);resizeMonitor.style.width="10em";resizeMonitor.style.height="10em";resizeMonitor.style.position="absolute";var nLeft=-1*resizeMonitor.offsetWidth,nTop=-1*resizeMonitor.offsetHeight;resizeMonitor.style.top=nTop+"px";resizeMonitor.style.left=nLeft+"px";resizeMonitor.style.borderStyle="none";resizeMonitor.style.borderWidth="0";YAHOO.util.Dom.setStyle(resizeMonitor,"opacity","0");resizeMonitor.style.visibility="visible";if(!bIE){var doc=resizeMonitor.contentWindow.document;doc.open();doc.close();}}
if(resizeMonitor&&resizeMonitor.contentWindow){this.resizeMonitor=resizeMonitor;YAHOO.util.Event.addListener(this.resizeMonitor.contentWindow,"resize",this.onDomResize,this,true);}}},onDomResize:function(e,obj){var nLeft=-1*this.resizeMonitor.offsetWidth,nTop=-1*this.resizeMonitor.offsetHeight;this.resizeMonitor.style.top=nTop+"px";this.resizeMonitor.style.left=nLeft+"px";},setHeader:function(headerContent){if(!this.header){this.header=document.createElement("DIV");this.header.className=YAHOO.widget.Module.CSS_HEADER;}
if(typeof headerContent=="string"){this.header.innerHTML=headerContent;}else{this.header.innerHTML="";this.header.appendChild(headerContent);}
this.changeHeaderEvent.fire(headerContent);this.changeContentEvent.fire();},appendToHeader:function(element){if(!this.header){this.header=document.createElement("DIV");this.header.className=YAHOO.widget.Module.CSS_HEADER;}
this.header.appendChild(element);this.changeHeaderEvent.fire(element);this.changeContentEvent.fire();},setBody:function(bodyContent){if(!this.body){this.body=document.createElement("DIV");this.body.className=YAHOO.widget.Module.CSS_BODY;}
if(typeof bodyContent=="string")
{this.body.innerHTML=bodyContent;}else{this.body.innerHTML="";this.body.appendChild(bodyContent);}
this.changeBodyEvent.fire(bodyContent);this.changeContentEvent.fire();},appendToBody:function(element){if(!this.body){this.body=document.createElement("DIV");this.body.className=YAHOO.widget.Module.CSS_BODY;}
this.body.appendChild(element);this.changeBodyEvent.fire(element);this.changeContentEvent.fire();},setFooter:function(footerContent){if(!this.footer){this.footer=document.createElement("DIV");this.footer.className=YAHOO.widget.Module.CSS_FOOTER;}
if(typeof footerContent=="string"){this.footer.innerHTML=footerContent;}else{this.footer.innerHTML="";this.footer.appendChild(footerContent);}
this.changeFooterEvent.fire(footerContent);this.changeContentEvent.fire();},appendToFooter:function(element){if(!this.footer){this.footer=document.createElement("DIV");this.footer.className=YAHOO.widget.Module.CSS_FOOTER;}
this.footer.appendChild(element);this.changeFooterEvent.fire(element);this.changeContentEvent.fire();},render:function(appendToNode,moduleElement){this.beforeRenderEvent.fire();if(!moduleElement){moduleElement=this.element;}
var me=this;var appendTo=function(element){if(typeof element=="string"){element=document.getElementById(element);}
if(element){element.appendChild(me.element);me.appendEvent.fire();}};if(appendToNode){appendTo(appendToNode);}else{if(!YAHOO.util.Dom.inDocument(this.element)){return false;}}
if(this.header&&!YAHOO.util.Dom.inDocument(this.header)){var firstChild=moduleElement.firstChild;if(firstChild){moduleElement.insertBefore(this.header,firstChild);}else{moduleElement.appendChild(this.header);}}
if(this.body&&!YAHOO.util.Dom.inDocument(this.body)){if(this.footer&&YAHOO.util.Dom.isAncestor(this.moduleElement,this.footer)){moduleElement.insertBefore(this.body,this.footer);}else{moduleElement.appendChild(this.body);}}
if(this.footer&&!YAHOO.util.Dom.inDocument(this.footer)){moduleElement.appendChild(this.footer);}
this.renderEvent.fire();return true;},destroy:function(){if(this.element){var parent=this.element.parentNode;}
if(parent){parent.removeChild(this.element);}
this.element=null;this.header=null;this.body=null;this.footer=null;this.destroyEvent.fire();},show:function(){this.cfg.setProperty("visible",true);},hide:function(){this.cfg.setProperty("visible",false);},configVisible:function(type,args,obj){var visible=args[0];if(visible){this.beforeShowEvent.fire();YAHOO.util.Dom.setStyle(this.element,"display","block");this.showEvent.fire();}else{this.beforeHideEvent.fire();YAHOO.util.Dom.setStyle(this.element,"display","none");this.hideEvent.fire();}},configMonitorResize:function(type,args,obj){var monitor=args[0];if(monitor){this.initResizeMonitor();}else{YAHOO.util.Event.removeListener(this.resizeMonitor,"resize",this.onDomResize);this.resizeMonitor=null;}}};YAHOO.widget.Module.prototype.toString=function(){return"Module "+this.id;};YAHOO.widget.Overlay=function(el,userConfig){YAHOO.widget.Overlay.superclass.constructor.call(this,el,userConfig);};YAHOO.extend(YAHOO.widget.Overlay,YAHOO.widget.Module);YAHOO.widget.Overlay.IFRAME_SRC="promo/m/irs/blank.gif";YAHOO.widget.Overlay.TOP_LEFT="tl";YAHOO.widget.Overlay.TOP_RIGHT="tr";YAHOO.widget.Overlay.BOTTOM_LEFT="bl";YAHOO.widget.Overlay.BOTTOM_RIGHT="br";YAHOO.widget.Overlay.CSS_OVERLAY="overlay";YAHOO.widget.Overlay.prototype.beforeMoveEvent=null;YAHOO.widget.Overlay.prototype.moveEvent=null;YAHOO.widget.Overlay.prototype.init=function(el,userConfig){YAHOO.widget.Overlay.superclass.init.call(this,el);this.beforeInitEvent.fire(YAHOO.widget.Overlay);YAHOO.util.Dom.addClass(this.element,YAHOO.widget.Overlay.CSS_OVERLAY);if(userConfig){this.cfg.applyConfig(userConfig,true);}
if(this.platform=="mac"&&this.browser=="gecko"){if(!YAHOO.util.Config.alreadySubscribed(this.showEvent,this.showMacGeckoScrollbars,this)){this.showEvent.subscribe(this.showMacGeckoScrollbars,this,true);}
if(!YAHOO.util.Config.alreadySubscribed(this.hideEvent,this.hideMacGeckoScrollbars,this)){this.hideEvent.subscribe(this.hideMacGeckoScrollbars,this,true);}}
this.initEvent.fire(YAHOO.widget.Overlay);};YAHOO.widget.Overlay.prototype.initEvents=function(){YAHOO.widget.Overlay.superclass.initEvents.call(this);this.beforeMoveEvent=new YAHOO.util.CustomEvent("beforeMove",this);this.moveEvent=new YAHOO.util.CustomEvent("move",this);};YAHOO.widget.Overlay.prototype.initDefaultConfig=function(){YAHOO.widget.Overlay.superclass.initDefaultConfig.call(this);this.cfg.addProperty("x",{handler:this.configX,validator:this.cfg.checkNumber,suppressEvent:true,supercedes:["iframe"]});this.cfg.addProperty("y",{handler:this.configY,validator:this.cfg.checkNumber,suppressEvent:true,supercedes:["iframe"]});this.cfg.addProperty("xy",{handler:this.configXY,suppressEvent:true,supercedes:["iframe"]});this.cfg.addProperty("context",{handler:this.configContext,suppressEvent:true,supercedes:["iframe"]});this.cfg.addProperty("fixedcenter",{value:false,handler:this.configFixedCenter,validator:this.cfg.checkBoolean,supercedes:["iframe","visible"]});this.cfg.addProperty("width",{handler:this.configWidth,suppressEvent:true,supercedes:["iframe"]});this.cfg.addProperty("height",{handler:this.configHeight,suppressEvent:true,supercedes:["iframe"]});this.cfg.addProperty("zIndex",{value:null,handler:this.configzIndex});this.cfg.addProperty("constraintoviewport",{value:false,handler:this.configConstrainToViewport,validator:this.cfg.checkBoolean,supercedes:["iframe","x","y","xy"]});this.cfg.addProperty("iframe",{value:(this.browser=="ie"?true:false),handler:this.configIframe,validator:this.cfg.checkBoolean,supercedes:["zIndex"]});};YAHOO.widget.Overlay.prototype.moveTo=function(x,y){this.cfg.setProperty("xy",[x,y]);};YAHOO.widget.Overlay.prototype.hideMacGeckoScrollbars=function(){YAHOO.util.Dom.removeClass(this.element,"show-scrollbars");YAHOO.util.Dom.addClass(this.element,"hide-scrollbars");};YAHOO.widget.Overlay.prototype.showMacGeckoScrollbars=function(){YAHOO.util.Dom.removeClass(this.element,"hide-scrollbars");YAHOO.util.Dom.addClass(this.element,"show-scrollbars");};YAHOO.widget.Overlay.prototype.configVisible=function(type,args,obj){var visible=args[0];var currentVis=YAHOO.util.Dom.getStyle(this.element,"visibility");var effect=this.cfg.getProperty("effect");var effectInstances=[];if(effect){if(effect instanceof Array){for(var i=0;i<effect.length;i++){var eff=effect[i];effectInstances[effectInstances.length]=eff.effect(this,eff.duration);}}else{effectInstances[effectInstances.length]=effect.effect(this,effect.duration);}}
var isMacGecko=(this.platform=="mac"&&this.browser=="gecko");if(visible){if(isMacGecko){this.showMacGeckoScrollbars();}
if(effect){if(visible){if(currentVis!="visible"){this.beforeShowEvent.fire();for(var j=0;j<effectInstances.length;j++){var e=effectInstances[j];if(j===0&&!YAHOO.util.Config.alreadySubscribed(e.animateInCompleteEvent,this.showEvent.fire,this.showEvent)){e.animateInCompleteEvent.subscribe(this.showEvent.fire,this.showEvent,true);}
e.animateIn();}}}}else{if(currentVis!="visible"){this.beforeShowEvent.fire();YAHOO.util.Dom.setStyle(this.element,"visibility","visible");this.cfg.refireEvent("iframe");this.showEvent.fire();}}}else{if(isMacGecko){this.hideMacGeckoScrollbars();}
if(effect){if(currentVis=="visible"){this.beforeHideEvent.fire();for(var k=0;k<effectInstances.length;k++){var h=effectInstances[k];if(k===0&&!YAHOO.util.Config.alreadySubscribed(h.animateOutCompleteEvent,this.hideEvent.fire,this.hideEvent)){h.animateOutCompleteEvent.subscribe(this.hideEvent.fire,this.hideEvent,true);}
h.animateOut();}}}else{if(currentVis=="visible"){this.beforeHideEvent.fire();YAHOO.util.Dom.setStyle(this.element,"visibility","hidden");this.cfg.refireEvent("iframe");this.hideEvent.fire();}}}};YAHOO.widget.Overlay.prototype.doCenterOnDOMEvent=function(){if(this.cfg.getProperty("visible")){this.center();}};YAHOO.widget.Overlay.prototype.configFixedCenter=function(type,args,obj){var val=args[0];if(val){this.center();if(!YAHOO.util.Config.alreadySubscribed(this.beforeShowEvent,this.center,this)){this.beforeShowEvent.subscribe(this.center,this,true);}
if(!YAHOO.util.Config.alreadySubscribed(YAHOO.widget.Overlay.windowResizeEvent,this.doCenterOnDOMEvent,this)){YAHOO.widget.Overlay.windowResizeEvent.subscribe(this.doCenterOnDOMEvent,this,true);}
if(!YAHOO.util.Config.alreadySubscribed(YAHOO.widget.Overlay.windowScrollEvent,this.doCenterOnDOMEvent,this)){YAHOO.widget.Overlay.windowScrollEvent.subscribe(this.doCenterOnDOMEvent,this,true);}}else{YAHOO.widget.Overlay.windowResizeEvent.unsubscribe(this.doCenterOnDOMEvent,this);YAHOO.widget.Overlay.windowScrollEvent.unsubscribe(this.doCenterOnDOMEvent,this);}};YAHOO.widget.Overlay.prototype.configHeight=function(type,args,obj){var height=args[0];var el=this.element;YAHOO.util.Dom.setStyle(el,"height",height);this.cfg.refireEvent("iframe");};YAHOO.widget.Overlay.prototype.configWidth=function(type,args,obj){var width=args[0];var el=this.element;YAHOO.util.Dom.setStyle(el,"width",width);this.cfg.refireEvent("iframe");};YAHOO.widget.Overlay.prototype.configzIndex=function(type,args,obj){var zIndex=args[0];var el=this.element;if(!zIndex){zIndex=YAHOO.util.Dom.getStyle(el,"zIndex");if(!zIndex||isNaN(zIndex)){zIndex=0;}}
if(this.iframe){if(zIndex<=0){zIndex=1;}
YAHOO.util.Dom.setStyle(this.iframe,"zIndex",(zIndex-1));}
YAHOO.util.Dom.setStyle(el,"zIndex",zIndex);this.cfg.setProperty("zIndex",zIndex,true);};YAHOO.widget.Overlay.prototype.configXY=function(type,args,obj){var pos=args[0];var x=pos[0];var y=pos[1];this.cfg.setProperty("x",x);this.cfg.setProperty("y",y);this.beforeMoveEvent.fire([x,y]);x=this.cfg.getProperty("x");y=this.cfg.getProperty("y");this.cfg.refireEvent("iframe");this.moveEvent.fire([x,y]);};YAHOO.widget.Overlay.prototype.configX=function(type,args,obj){var x=args[0];var y=this.cfg.getProperty("y");this.cfg.setProperty("x",x,true);this.cfg.setProperty("y",y,true);this.beforeMoveEvent.fire([x,y]);x=this.cfg.getProperty("x");y=this.cfg.getProperty("y");YAHOO.util.Dom.setX(this.element,x,true);this.cfg.setProperty("xy",[x,y],true);this.cfg.refireEvent("iframe");this.moveEvent.fire([x,y]);};YAHOO.widget.Overlay.prototype.configY=function(type,args,obj){var x=this.cfg.getProperty("x");var y=args[0];this.cfg.setProperty("x",x,true);this.cfg.setProperty("y",y,true);this.beforeMoveEvent.fire([x,y]);x=this.cfg.getProperty("x");y=this.cfg.getProperty("y");YAHOO.util.Dom.setY(this.element,y,true);this.cfg.setProperty("xy",[x,y],true);this.cfg.refireEvent("iframe");this.moveEvent.fire([x,y]);};YAHOO.widget.Overlay.prototype.showIframe=function(){if(this.iframe){this.iframe.style.display="block";}}
YAHOO.widget.Overlay.prototype.hideIframe=function(){if(this.iframe){this.iframe.style.display="none";}}
YAHOO.widget.Overlay.prototype.configIframe=function(type,args,obj){var val=args[0];if(val){if(!YAHOO.util.Config.alreadySubscribed(this.showEvent,this.showIframe,this)){this.showEvent.subscribe(this.showIframe,this,true);}
if(!YAHOO.util.Config.alreadySubscribed(this.hideEvent,this.hideIframe,this)){this.hideEvent.subscribe(this.hideIframe,this,true);}
var x=this.cfg.getProperty("x");var y=this.cfg.getProperty("y");if(!x||!y){this.syncPosition();x=this.cfg.getProperty("x");y=this.cfg.getProperty("y");}
if(!isNaN(x)&&!isNaN(y)){if(!this.iframe){this.iframe=document.createElement("iframe");if(this.isSecure){this.iframe.src=this.imageRoot+YAHOO.widget.Overlay.IFRAME_SRC;}
var parent=this.element.parentNode;if(parent){parent.appendChild(this.iframe);}else{document.body.appendChild(this.iframe);}
YAHOO.util.Dom.setStyle(this.iframe,"position","absolute");YAHOO.util.Dom.setStyle(this.iframe,"border","none");YAHOO.util.Dom.setStyle(this.iframe,"margin","0");YAHOO.util.Dom.setStyle(this.iframe,"padding","0");YAHOO.util.Dom.setStyle(this.iframe,"opacity","0");if(this.cfg.getProperty("visible")){this.showIframe();}else{this.hideIframe();}}
var iframeDisplay=YAHOO.util.Dom.getStyle(this.iframe,"display");if(iframeDisplay=="none"){this.iframe.style.display="block";}
YAHOO.util.Dom.setXY(this.iframe,[x,y]);var width=this.element.clientWidth;var height=this.element.clientHeight;YAHOO.util.Dom.setStyle(this.iframe,"width",(width+2)+"px");YAHOO.util.Dom.setStyle(this.iframe,"height",(height+2)+"px");if(iframeDisplay=="none"){this.iframe.style.display="none";}}}else{if(this.iframe){this.iframe.style.display="none";}
this.showEvent.unsubscribe(this.showIframe,this);this.hideEvent.unsubscribe(this.hideIframe,this);}};YAHOO.widget.Overlay.prototype.configConstrainToViewport=function(type,args,obj){var val=args[0];if(val){if(!YAHOO.util.Config.alreadySubscribed(this.beforeMoveEvent,this.enforceConstraints,this)){this.beforeMoveEvent.subscribe(this.enforceConstraints,this,true);}}else{this.beforeMoveEvent.unsubscribe(this.enforceConstraints,this);}};YAHOO.widget.Overlay.prototype.configContext=function(type,args,obj){var contextArgs=args[0];if(contextArgs){var contextEl=contextArgs[0];var elementMagnetCorner=contextArgs[1];var contextMagnetCorner=contextArgs[2];if(contextEl){if(typeof contextEl=="string"){this.cfg.setProperty("context",[document.getElementById(contextEl),elementMagnetCorner,contextMagnetCorner],true);}
if(elementMagnetCorner&&contextMagnetCorner){this.align(elementMagnetCorner,contextMagnetCorner);}}}};YAHOO.widget.Overlay.prototype.align=function(elementAlign,contextAlign){var contextArgs=this.cfg.getProperty("context");if(contextArgs){var context=contextArgs[0];var element=this.element;var me=this;if(!elementAlign){elementAlign=contextArgs[1];}
if(!contextAlign){contextAlign=contextArgs[2];}
if(element&&context){var elementRegion=YAHOO.util.Dom.getRegion(element);var contextRegion=YAHOO.util.Dom.getRegion(context);var doAlign=function(v,h){switch(elementAlign){case YAHOO.widget.Overlay.TOP_LEFT:me.moveTo(h,v);break;case YAHOO.widget.Overlay.TOP_RIGHT:me.moveTo(h-element.offsetWidth,v);break;case YAHOO.widget.Overlay.BOTTOM_LEFT:me.moveTo(h,v-element.offsetHeight);break;case YAHOO.widget.Overlay.BOTTOM_RIGHT:me.moveTo(h-element.offsetWidth,v-element.offsetHeight);break;}};switch(contextAlign){case YAHOO.widget.Overlay.TOP_LEFT:doAlign(contextRegion.top,contextRegion.left);break;case YAHOO.widget.Overlay.TOP_RIGHT:doAlign(contextRegion.top,contextRegion.right);break;case YAHOO.widget.Overlay.BOTTOM_LEFT:doAlign(contextRegion.bottom,contextRegion.left);break;case YAHOO.widget.Overlay.BOTTOM_RIGHT:doAlign(contextRegion.bottom,contextRegion.right);break;}}}};YAHOO.widget.Overlay.prototype.enforceConstraints=function(type,args,obj){var pos=args[0];var x=pos[0];var y=pos[1];var offsetHeight=this.element.offsetHeight;var offsetWidth=this.element.offsetWidth;var viewPortWidth=YAHOO.util.Dom.getViewportWidth();var viewPortHeight=YAHOO.util.Dom.getViewportHeight();var scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;var scrollY=document.documentElement.scrollTop||document.body.scrollTop;var topConstraint=scrollY+10;var leftConstraint=scrollX+10;var bottomConstraint=scrollY+viewPortHeight-offsetHeight-10;var rightConstraint=scrollX+viewPortWidth-offsetWidth-10;if(x<leftConstraint){x=leftConstraint;}else if(x>rightConstraint){x=rightConstraint;}
if(y<topConstraint){y=topConstraint;}else if(y>bottomConstraint){y=bottomConstraint;}
this.cfg.setProperty("x",x,true);this.cfg.setProperty("y",y,true);this.cfg.setProperty("xy",[x,y],true);};YAHOO.widget.Overlay.prototype.center=function(){var scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;var scrollY=document.documentElement.scrollTop||document.body.scrollTop;var viewPortWidth=YAHOO.util.Dom.getClientWidth();var viewPortHeight=YAHOO.util.Dom.getClientHeight();var elementWidth=this.element.offsetWidth;var elementHeight=this.element.offsetHeight;var x=(viewPortWidth/2)-(elementWidth/2)+scrollX;var y=(viewPortHeight/2)-(elementHeight/2)+scrollY;this.element.style.left=parseInt(x,10)+"px";this.element.style.top=parseInt(y,10)+"px";this.syncPosition();this.cfg.refireEvent("iframe");};YAHOO.widget.Overlay.prototype.syncPosition=function(){var pos=YAHOO.util.Dom.getXY(this.element);this.cfg.setProperty("x",pos[0],true);this.cfg.setProperty("y",pos[1],true);this.cfg.setProperty("xy",pos,true);};YAHOO.widget.Overlay.prototype.onDomResize=function(e,obj){YAHOO.widget.Overlay.superclass.onDomResize.call(this,e,obj);this.cfg.refireEvent("iframe");};YAHOO.widget.Overlay.prototype.destroy=function(){if(this.iframe){this.iframe.parentNode.removeChild(this.iframe);}
this.iframe=null;YAHOO.widget.Overlay.superclass.destroy.call(this);};YAHOO.widget.Overlay.prototype.toString=function(){return"Overlay "+this.id;};YAHOO.widget.Overlay.windowScrollEvent=new YAHOO.util.CustomEvent("windowScroll");YAHOO.widget.Overlay.windowResizeEvent=new YAHOO.util.CustomEvent("windowResize");YAHOO.widget.Overlay.windowScrollHandler=function(e){YAHOO.widget.Overlay.windowScrollEvent.fire();};YAHOO.widget.Overlay.windowResizeHandler=function(e){YAHOO.widget.Overlay.windowResizeEvent.fire();};YAHOO.widget.Overlay._initialized=null;if(YAHOO.widget.Overlay._initialized===null){YAHOO.util.Event.addListener(window,"scroll",YAHOO.widget.Overlay.windowScrollHandler);YAHOO.util.Event.addListener(window,"resize",YAHOO.widget.Overlay.windowResizeHandler);YAHOO.widget.Overlay._initialized=true;}
YAHOO.widget.OverlayManager=function(userConfig){this.init(userConfig);};YAHOO.widget.OverlayManager.CSS_FOCUSED="focused";YAHOO.widget.OverlayManager.prototype={constructor:YAHOO.widget.OverlayManager,overlays:null,initDefaultConfig:function(){this.cfg.addProperty("overlays",{suppressEvent:true});this.cfg.addProperty("focusevent",{value:"mousedown"});},getActive:function(){},focus:function(overlay){},remove:function(overlay){},blurAll:function(){},init:function(userConfig){this.cfg=new YAHOO.util.Config(this);this.initDefaultConfig();if(userConfig){this.cfg.applyConfig(userConfig,true);}
this.cfg.fireQueue();var activeOverlay=null;this.getActive=function(){return activeOverlay;};this.focus=function(overlay){var o=this.find(overlay);if(o){this.blurAll();activeOverlay=o;YAHOO.util.Dom.addClass(activeOverlay.element,YAHOO.widget.OverlayManager.CSS_FOCUSED);this.overlays.sort(this.compareZIndexDesc);var topZIndex=YAHOO.util.Dom.getStyle(this.overlays[0].element,"zIndex");if(!isNaN(topZIndex)&&this.overlays[0]!=overlay){activeOverlay.cfg.setProperty("zIndex",(parseInt(topZIndex,10)+2));}
this.overlays.sort(this.compareZIndexDesc);}};this.remove=function(overlay){var o=this.find(overlay);if(o){var originalZ=YAHOO.util.Dom.getStyle(o.element,"zIndex");o.cfg.setProperty("zIndex",-1000,true);this.overlays.sort(this.compareZIndexDesc);this.overlays=this.overlays.slice(0,this.overlays.length-1);o.cfg.setProperty("zIndex",originalZ,true);o.cfg.setProperty("manager",null);o.focusEvent=null;o.blurEvent=null;o.focus=null;o.blur=null;}};this.blurAll=function(){activeOverlay=null;for(var o=0;o<this.overlays.length;o++){YAHOO.util.Dom.removeClass(this.overlays[o].element,YAHOO.widget.OverlayManager.CSS_FOCUSED);}};var overlays=this.cfg.getProperty("overlays");if(!this.overlays){this.overlays=[];}
if(overlays){this.register(overlays);this.overlays.sort(this.compareZIndexDesc);}},register:function(overlay){if(overlay instanceof YAHOO.widget.Overlay){overlay.cfg.addProperty("manager",{value:this});overlay.focusEvent=new YAHOO.util.CustomEvent("focus");overlay.blurEvent=new YAHOO.util.CustomEvent("blur");var mgr=this;overlay.focus=function(){mgr.focus(this);this.focusEvent.fire();};overlay.blur=function(){mgr.blurAll();this.blurEvent.fire();};var focusOnDomEvent=function(e,obj){overlay.focus();};var focusevent=this.cfg.getProperty("focusevent");YAHOO.util.Event.addListener(overlay.element,focusevent,focusOnDomEvent,this,true);var zIndex=YAHOO.util.Dom.getStyle(overlay.element,"zIndex");if(!isNaN(zIndex)){overlay.cfg.setProperty("zIndex",parseInt(zIndex,10));}else{overlay.cfg.setProperty("zIndex",0);}
this.overlays.push(overlay);return true;}else if(overlay instanceof Array){var regcount=0;for(var i=0;i<overlay.length;i++){if(this.register(overlay[i])){regcount++;}}
if(regcount>0){return true;}}else{return false;}},find:function(overlay){if(overlay instanceof YAHOO.widget.Overlay){for(var o=0;o<this.overlays.length;o++){if(this.overlays[o]==overlay){return this.overlays[o];}}}else if(typeof overlay=="string"){for(var p=0;p<this.overlays.length;p++){if(this.overlays[p].id==overlay){return this.overlays[p];}}}
return null;},compareZIndexDesc:function(o1,o2){var zIndex1=o1.cfg.getProperty("zIndex");var zIndex2=o2.cfg.getProperty("zIndex");if(zIndex1>zIndex2){return-1;}else if(zIndex1<zIndex2){return 1;}else{return 0;}},showAll:function(){for(var o=0;o<this.overlays.length;o++){this.overlays[o].show();}},hideAll:function(){for(var o=0;o<this.overlays.length;o++){this.overlays[o].hide();}},toString:function(){return"OverlayManager";}};YAHOO.util.KeyListener=function(attachTo,keyData,handler,event){if(!event){event=YAHOO.util.KeyListener.KEYDOWN;}
var keyEvent=new YAHOO.util.CustomEvent("keyPressed");this.enabledEvent=new YAHOO.util.CustomEvent("enabled");this.disabledEvent=new YAHOO.util.CustomEvent("disabled");if(typeof attachTo=='string'){attachTo=document.getElementById(attachTo);}
if(typeof handler=='function'){keyEvent.subscribe(handler);}else{keyEvent.subscribe(handler.fn,handler.scope,handler.correctScope);}
function handleKeyPress(e,obj){var keyPressed=e.charCode||e.keyCode;if(!keyData.shift){keyData.shift=false;}
if(!keyData.alt){keyData.alt=false;}
if(!keyData.ctrl){keyData.ctrl=false;}
if(e.shiftKey==keyData.shift&&e.altKey==keyData.alt&&e.ctrlKey==keyData.ctrl){if(keyData.keys instanceof Array){for(var i=0;i<keyData.keys.length;i++){if(keyPressed==keyData.keys[i]){keyEvent.fire(keyPressed,e);break;}}}else{if(keyPressed==keyData.keys){keyEvent.fire(keyPressed,e);}}}}
this.enable=function(){if(!this.enabled){YAHOO.util.Event.addListener(attachTo,event,handleKeyPress);this.enabledEvent.fire(keyData);}
this.enabled=true;};this.disable=function(){if(this.enabled){YAHOO.util.Event.removeListener(attachTo,event,handleKeyPress);this.disabledEvent.fire(keyData);}
this.enabled=false;};this.toString=function(){return"KeyListener ["+keyData.keys+"] "+attachTo.tagName+(attachTo.id?"["+attachTo.id+"]":"");};};YAHOO.util.KeyListener.KEYDOWN="keydown";YAHOO.util.KeyListener.KEYUP="keyup";YAHOO.util.KeyListener.prototype.enabled=null;YAHOO.util.KeyListener.prototype.enable=function(){};YAHOO.util.KeyListener.prototype.disable=function(){};YAHOO.util.KeyListener.prototype.enabledEvent=null;YAHOO.util.KeyListener.prototype.disabledEvent=null;YAHOO.widget.Tooltip=function(el,userConfig){YAHOO.widget.Tooltip.superclass.constructor.call(this,el,userConfig);};YAHOO.extend(YAHOO.widget.Tooltip,YAHOO.widget.Overlay);YAHOO.widget.Tooltip.CSS_TOOLTIP="tt";YAHOO.widget.Tooltip.prototype.init=function(el,userConfig){if(document.readyState&&document.readyState!="complete"){var deferredInit=function(){this.init(el,userConfig);};YAHOO.util.Event.addListener(window,"load",deferredInit,this,true);}else{YAHOO.widget.Tooltip.superclass.init.call(this,el);this.beforeInitEvent.fire(YAHOO.widget.Tooltip);YAHOO.util.Dom.addClass(this.element,YAHOO.widget.Tooltip.CSS_TOOLTIP);if(userConfig){this.cfg.applyConfig(userConfig,true);}
this.cfg.queueProperty("visible",false);this.cfg.queueProperty("constraintoviewport",true);this.setBody("");this.render(this.cfg.getProperty("container"));this.initEvent.fire(YAHOO.widget.Tooltip);}};YAHOO.widget.Tooltip.prototype.initDefaultConfig=function(){YAHOO.widget.Tooltip.superclass.initDefaultConfig.call(this);this.cfg.addProperty("preventoverlap",{value:true,validator:this.cfg.checkBoolean,supercedes:["x","y","xy"]});this.cfg.addProperty("showdelay",{value:200,handler:this.configShowDelay,validator:this.cfg.checkNumber});this.cfg.addProperty("autodismissdelay",{value:5000,handler:this.configAutoDismissDelay,validator:this.cfg.checkNumber});this.cfg.addProperty("hidedelay",{value:250,handler:this.configHideDelay,validator:this.cfg.checkNumber});this.cfg.addProperty("text",{handler:this.configText,suppressEvent:true});this.cfg.addProperty("container",{value:document.body,handler:this.configContainer});};YAHOO.widget.Tooltip.prototype.configText=function(type,args,obj){var text=args[0];if(text){this.setBody(text);}};YAHOO.widget.Tooltip.prototype.configContainer=function(type,args,obj){var container=args[0];if(typeof container=='string'){this.cfg.setProperty("container",document.getElementById(container),true);}};YAHOO.widget.Tooltip.prototype.configContext=function(type,args,obj){var context=args[0];if(context){if(!(context instanceof Array)){if(typeof context=="string"){this.cfg.setProperty("context",[document.getElementById(context)],true);}else{this.cfg.setProperty("context",[context],true);}
context=this.cfg.getProperty("context");}
if(this._context){for(var c=0;c<this._context.length;++c){var el=this._context[c];YAHOO.util.Event.removeListener(el,"mouseover",this.onContextMouseOver);YAHOO.util.Event.removeListener(el,"mousemove",this.onContextMouseMove);YAHOO.util.Event.removeListener(el,"mouseout",this.onContextMouseOut);}}
this._context=context;for(var d=0;d<this._context.length;++d){var el2=this._context[d];YAHOO.util.Event.addListener(el2,"mouseover",this.onContextMouseOver,this);YAHOO.util.Event.addListener(el2,"mousemove",this.onContextMouseMove,this);YAHOO.util.Event.addListener(el2,"mouseout",this.onContextMouseOut,this);}}};YAHOO.widget.Tooltip.prototype.onContextMouseMove=function(e,obj){obj.pageX=YAHOO.util.Event.getPageX(e);obj.pageY=YAHOO.util.Event.getPageY(e);};YAHOO.widget.Tooltip.prototype.onContextMouseOver=function(e,obj){if(obj.hideProcId){clearTimeout(obj.hideProcId);obj.hideProcId=null;}
var context=this;YAHOO.util.Event.addListener(context,"mousemove",obj.onContextMouseMove,obj);if(context.title){obj._tempTitle=context.title;context.title="";}
obj.showProcId=obj.doShow(e,context);};YAHOO.widget.Tooltip.prototype.onContextMouseOut=function(e,obj){var el=this;if(obj._tempTitle){el.title=obj._tempTitle;obj._tempTitle=null;}
if(obj.showProcId){clearTimeout(obj.showProcId);obj.showProcId=null;}
if(obj.hideProcId){clearTimeout(obj.hideProcId);obj.hideProcId=null;}
obj.hideProcId=setTimeout(function(){obj.hide();},obj.cfg.getProperty("hidedelay"));};YAHOO.widget.Tooltip.prototype.doShow=function(e,context){var yOffset=25;if(this.browser=="opera"&&context.tagName=="A"){yOffset+=12;}
var me=this;return setTimeout(function(){if(me._tempTitle){me.setBody(me._tempTitle);}else{me.cfg.refireEvent("text");}
me.moveTo(me.pageX,me.pageY+yOffset);if(me.cfg.getProperty("preventoverlap")){me.preventOverlap(me.pageX,me.pageY);}
YAHOO.util.Event.removeListener(context,"mousemove",me.onContextMouseMove);me.show();me.hideProcId=me.doHide();},this.cfg.getProperty("showdelay"));};YAHOO.widget.Tooltip.prototype.doHide=function(){var me=this;return setTimeout(function(){me.hide();},this.cfg.getProperty("autodismissdelay"));};YAHOO.widget.Tooltip.prototype.preventOverlap=function(pageX,pageY){var height=this.element.offsetHeight;var elementRegion=YAHOO.util.Dom.getRegion(this.element);elementRegion.top-=5;elementRegion.left-=5;elementRegion.right+=5;elementRegion.bottom+=5;var mousePoint=new YAHOO.util.Point(pageX,pageY);if(elementRegion.contains(mousePoint)){this.cfg.setProperty("y",(pageY-height-5));}};YAHOO.widget.Tooltip.prototype.toString=function(){return"Tooltip "+this.id;};YAHOO.widget.Panel=function(el,userConfig){YAHOO.widget.Panel.superclass.constructor.call(this,el,userConfig);};YAHOO.extend(YAHOO.widget.Panel,YAHOO.widget.Overlay);YAHOO.widget.Panel.CSS_PANEL="panel";YAHOO.widget.Panel.CSS_PANEL_CONTAINER="panel-container";YAHOO.widget.Panel.prototype.showMaskEvent=null;YAHOO.widget.Panel.prototype.hideMaskEvent=null;YAHOO.widget.Panel.prototype.init=function(el,userConfig){YAHOO.widget.Panel.superclass.init.call(this,el);this.beforeInitEvent.fire(YAHOO.widget.Panel);YAHOO.util.Dom.addClass(this.element,YAHOO.widget.Panel.CSS_PANEL);this.buildWrapper();if(userConfig){this.cfg.applyConfig(userConfig,true);}
this.beforeRenderEvent.subscribe(function(){var draggable=this.cfg.getProperty("draggable");if(draggable){if(!this.header){this.setHeader("&nbsp;");}}},this,true);var me=this;this.showMaskEvent.subscribe(function(){var checkFocusable=function(el){if(el.tagName=="A"||el.tagName=="BUTTON"||el.tagName=="SELECT"||el.tagName=="INPUT"||el.tagName=="TEXTAREA"||el.tagName=="FORM"){if(!YAHOO.util.Dom.isAncestor(me.element,el)){YAHOO.util.Event.addListener(el,"focus",el.blur);return true;}}else{return false;}};this.focusableElements=YAHOO.util.Dom.getElementsBy(checkFocusable);},this,true);this.hideMaskEvent.subscribe(function(){for(var i=0;i<this.focusableElements.length;i++){var el2=this.focusableElements[i];YAHOO.util.Event.removeListener(el2,"focus",el2.blur);}},this,true);this.initEvent.fire(YAHOO.widget.Panel);};YAHOO.widget.Panel.prototype.initEvents=function(){YAHOO.widget.Panel.superclass.initEvents.call(this);this.showMaskEvent=new YAHOO.util.CustomEvent("showMask");this.hideMaskEvent=new YAHOO.util.CustomEvent("hideMask");this.dragEvent=new YAHOO.util.CustomEvent("drag");};YAHOO.widget.Panel.prototype.initDefaultConfig=function(){YAHOO.widget.Panel.superclass.initDefaultConfig.call(this);this.cfg.addProperty("close",{value:true,handler:this.configClose,validator:this.cfg.checkBoolean,supercedes:["visible"]});this.cfg.addProperty("draggable",{value:true,handler:this.configDraggable,validator:this.cfg.checkBoolean,supercedes:["visible"]});this.cfg.addProperty("underlay",{value:"shadow",handler:this.configUnderlay,supercedes:["visible"]});this.cfg.addProperty("modal",{value:false,handler:this.configModal,validator:this.cfg.checkBoolean,supercedes:["visible"]});this.cfg.addProperty("keylisteners",{handler:this.configKeyListeners,suppressEvent:true,supercedes:["visible"]});};YAHOO.widget.Panel.prototype.configClose=function(type,args,obj){var val=args[0];var doHide=function(e,obj){obj.hide();};if(val){if(!this.close){this.close=document.createElement("DIV");YAHOO.util.Dom.addClass(this.close,"close");if(this.isSecure){YAHOO.util.Dom.addClass(this.close,"secure");}else{YAHOO.util.Dom.addClass(this.close,"nonsecure");}
this.close.innerHTML="&nbsp;";this.innerElement.appendChild(this.close);YAHOO.util.Event.addListener(this.close,"click",doHide,this);}else{this.close.style.display="block";}}else{if(this.close){this.close.style.display="none";}}};YAHOO.widget.Panel.prototype.configDraggable=function(type,args,obj){var val=args[0];if(val){if(this.header){YAHOO.util.Dom.setStyle(this.header,"cursor","move");this.registerDragDrop();}}else{if(this.dd){this.dd.unreg();}
if(this.header){YAHOO.util.Dom.setStyle(this.header,"cursor","auto");}}};YAHOO.widget.Panel.prototype.configUnderlay=function(type,args,obj){var val=args[0];switch(val.toLowerCase()){case"shadow":YAHOO.util.Dom.removeClass(this.element,"matte");YAHOO.util.Dom.addClass(this.element,"shadow");if(!this.underlay){this.underlay=document.createElement("DIV");this.underlay.className="underlay";this.underlay.innerHTML="&nbsp;";this.element.appendChild(this.underlay);}
this.sizeUnderlay();break;case"matte":YAHOO.util.Dom.removeClass(this.element,"shadow");YAHOO.util.Dom.addClass(this.element,"matte");break;default:YAHOO.util.Dom.removeClass(this.element,"shadow");YAHOO.util.Dom.removeClass(this.element,"matte");break;}};YAHOO.widget.Panel.prototype.configModal=function(type,args,obj){var modal=args[0];if(modal){this.buildMask();if(!YAHOO.util.Config.alreadySubscribed(this.showEvent,this.showMask,this)){this.showEvent.subscribe(this.showMask,this,true);}
if(!YAHOO.util.Config.alreadySubscribed(this.hideEvent,this.hideMask,this)){this.hideEvent.subscribe(this.hideMask,this,true);}
if(!YAHOO.util.Config.alreadySubscribed(YAHOO.widget.Overlay.windowResizeEvent,this.sizeMask,this)){YAHOO.widget.Overlay.windowResizeEvent.subscribe(this.sizeMask,this,true);}
if(!YAHOO.util.Config.alreadySubscribed(this.destroyEvent,this.removeMask,this)){this.destroyEvent.subscribe(this.removeMask,this,true);}}else{this.beforeShowEvent.unsubscribe(this.showMask,this);this.hideEvent.unsubscribe(this.hideMask,this);YAHOO.widget.Overlay.windowResizeEvent.unsubscribe(this.sizeMask,this);this.destroyEvent.unsubscribe(this.removeMask,this);}};YAHOO.widget.Panel.prototype.removeMask=function(){if(this.mask){if(this.mask.parentNode){this.mask.parentNode.removeChild(this.mask);}
this.mask=null;}}
YAHOO.widget.Panel.prototype.configKeyListeners=function(type,args,obj){var listeners=args[0];if(listeners){if(listeners instanceof Array){for(var i=0;i<listeners.length;i++){var listener=listeners[i];if(!YAHOO.util.Config.alreadySubscribed(this.showEvent,listener.enable,listener)){this.showEvent.subscribe(listener.enable,listener,true);}
if(!YAHOO.util.Config.alreadySubscribed(this.hideEvent,listener.disable,listener)){this.hideEvent.subscribe(listener.disable,listener,true);this.destroyEvent.subscribe(listener.disable,listener,true);}}}else{if(!YAHOO.util.Config.alreadySubscribed(this.showEvent,listeners.enable,listeners)){this.showEvent.subscribe(listeners.enable,listeners,true);}
if(!YAHOO.util.Config.alreadySubscribed(this.hideEvent,listeners.disable,listeners)){this.hideEvent.subscribe(listeners.disable,listeners,true);this.destroyEvent.subscribe(listeners.disable,listeners,true);}}}};YAHOO.widget.Panel.prototype.buildWrapper=function(){var elementParent=this.element.parentNode;var elementClone=this.element.cloneNode(true);this.innerElement=elementClone;this.innerElement.style.visibility="inherit";YAHOO.util.Dom.addClass(this.innerElement,YAHOO.widget.Panel.CSS_PANEL);var wrapper=document.createElement("DIV");wrapper.className=YAHOO.widget.Panel.CSS_PANEL_CONTAINER;wrapper.id=elementClone.id+"_c";wrapper.appendChild(elementClone);if(elementParent){elementParent.replaceChild(wrapper,this.element);}
this.element=wrapper;var childNodes=this.innerElement.childNodes;if(childNodes){for(var i=0;i<childNodes.length;i++){var child=childNodes[i];switch(child.className){case YAHOO.widget.Module.CSS_HEADER:this.header=child;break;case YAHOO.widget.Module.CSS_BODY:this.body=child;break;case YAHOO.widget.Module.CSS_FOOTER:this.footer=child;break;}}}
this.initDefaultConfig();};YAHOO.widget.Panel.prototype.sizeUnderlay=function(){if(this.underlay&&this.browser!="gecko"&&this.browser!="safari"){this.underlay.style.width=this.innerElement.offsetWidth+"px";this.underlay.style.height=this.innerElement.offsetHeight+"px";}};YAHOO.widget.Panel.prototype.onDomResize=function(e,obj){YAHOO.widget.Panel.superclass.onDomResize.call(this,e,obj);var me=this;setTimeout(function(){me.sizeUnderlay();},0);};YAHOO.widget.Panel.prototype.registerDragDrop=function(){if(this.header){this.dd=new YAHOO.util.DD(this.element.id,this.id);if(!this.header.id){this.header.id=this.id+"_h";}
var me=this;this.dd.startDrag=function(){if(me.browser=="ie"){YAHOO.util.Dom.addClass(me.element,"drag");}
if(me.cfg.getProperty("constraintoviewport")){var offsetHeight=me.element.offsetHeight;var offsetWidth=me.element.offsetWidth;var viewPortWidth=YAHOO.util.Dom.getViewportWidth();var viewPortHeight=YAHOO.util.Dom.getViewportHeight();var scrollX=window.scrollX||document.documentElement.scrollLeft;var scrollY=window.scrollY||document.documentElement.scrollTop;var topConstraint=scrollY+10;var leftConstraint=scrollX+10;var bottomConstraint=scrollY+viewPortHeight-offsetHeight-10;var rightConstraint=scrollX+viewPortWidth-offsetWidth-10;this.minX=leftConstraint;this.maxX=rightConstraint;this.constrainX=true;this.minY=topConstraint;this.maxY=bottomConstraint;this.constrainY=true;}else{this.constrainX=false;this.constrainY=false;}
me.dragEvent.fire("startDrag",arguments);};this.dd.onDrag=function(){me.syncPosition();me.cfg.refireEvent("iframe");if(this.platform=="mac"&&this.browser=="gecko"){this.showMacGeckoScrollbars();}
me.dragEvent.fire("onDrag",arguments);};this.dd.endDrag=function(){if(me.browser=="ie"){YAHOO.util.Dom.removeClass(me.element,"drag");}
me.dragEvent.fire("endDrag",arguments);};this.dd.setHandleElId(this.header.id);this.dd.addInvalidHandleType("INPUT");this.dd.addInvalidHandleType("SELECT");this.dd.addInvalidHandleType("TEXTAREA");}};YAHOO.widget.Panel.prototype.buildMask=function(){if(!this.mask){this.mask=document.createElement("DIV");this.mask.id=this.id+"_mask";this.mask.className="mask";this.mask.innerHTML="&nbsp;";var maskClick=function(e,obj){YAHOO.util.Event.stopEvent(e);};var firstChild=document.body.firstChild;if(firstChild){document.body.insertBefore(this.mask,document.body.firstChild);}else{document.body.appendChild(this.mask);}}};YAHOO.widget.Panel.prototype.hideMask=function(){if(this.cfg.getProperty("modal")&&this.mask){this.mask.style.display="none";this.hideMaskEvent.fire();YAHOO.util.Dom.removeClass(document.body,"masked");}};YAHOO.widget.Panel.prototype.showMask=function(){if(this.cfg.getProperty("modal")&&this.mask){YAHOO.util.Dom.addClass(document.body,"masked");this.sizeMask();this.mask.style.display="block";this.showMaskEvent.fire();}};YAHOO.widget.Panel.prototype.sizeMask=function(){if(this.mask){this.mask.style.height=YAHOO.util.Dom.getDocumentHeight()+"px";this.mask.style.width=YAHOO.util.Dom.getDocumentWidth()+"px";}};YAHOO.widget.Panel.prototype.configHeight=function(type,args,obj){var height=args[0];var el=this.innerElement;YAHOO.util.Dom.setStyle(el,"height",height);this.cfg.refireEvent("underlay");this.cfg.refireEvent("iframe");};YAHOO.widget.Panel.prototype.configWidth=function(type,args,obj){var width=args[0];var el=this.innerElement;YAHOO.util.Dom.setStyle(el,"width",width);this.cfg.refireEvent("underlay");this.cfg.refireEvent("iframe");};YAHOO.widget.Panel.prototype.render=function(appendToNode){return YAHOO.widget.Panel.superclass.render.call(this,appendToNode,this.innerElement);};YAHOO.widget.Panel.prototype.toString=function(){return"Panel "+this.id;};YAHOO.widget.Dialog=function(el,userConfig){YAHOO.widget.Dialog.superclass.constructor.call(this,el,userConfig);};YAHOO.extend(YAHOO.widget.Dialog,YAHOO.widget.Panel);YAHOO.widget.Dialog.CSS_DIALOG="dialog";YAHOO.widget.Dialog.prototype.beforeSubmitEvent=null;YAHOO.widget.Dialog.prototype.submitEvent=null;YAHOO.widget.Dialog.prototype.manualSubmitEvent=null;YAHOO.widget.Dialog.prototype.asyncSubmitEvent=null;YAHOO.widget.Dialog.prototype.formSubmitEvent=null;YAHOO.widget.Dialog.prototype.cancelEvent=null;YAHOO.widget.Dialog.prototype.initDefaultConfig=function(){YAHOO.widget.Dialog.superclass.initDefaultConfig.call(this);this.callback={success:null,failure:null,argument:null};this.doSubmit=function(){var method=this.cfg.getProperty("postmethod");switch(method){case"async":YAHOO.util.Connect.setForm(this.form);var cObj=YAHOO.util.Connect.asyncRequest('POST',this.form.action,this.callback);this.asyncSubmitEvent.fire();break;case"form":this.form.submit();this.formSubmitEvent.fire();break;case"none":case"manual":this.manualSubmitEvent.fire();break;}};this.cfg.addProperty("postmethod",{value:"async",validator:function(val){if(val!="form"&&val!="async"&&val!="none"&&val!="manual"){return false;}else{return true;}}});this.cfg.addProperty("buttons",{value:"none",handler:this.configButtons});};YAHOO.widget.Dialog.prototype.initEvents=function(){YAHOO.widget.Dialog.superclass.initEvents.call(this);this.beforeSubmitEvent=new YAHOO.util.CustomEvent("beforeSubmit");this.submitEvent=new YAHOO.util.CustomEvent("submit");this.manualSubmitEvent=new YAHOO.util.CustomEvent("manualSubmit");this.asyncSubmitEvent=new YAHOO.util.CustomEvent("asyncSubmit");this.formSubmitEvent=new YAHOO.util.CustomEvent("formSubmit");this.cancelEvent=new YAHOO.util.CustomEvent("cancel");};YAHOO.widget.Dialog.prototype.init=function(el,userConfig){YAHOO.widget.Dialog.superclass.init.call(this,el);this.beforeInitEvent.fire(YAHOO.widget.Dialog);YAHOO.util.Dom.addClass(this.element,YAHOO.widget.Dialog.CSS_DIALOG);this.cfg.setProperty("visible",false);if(userConfig){this.cfg.applyConfig(userConfig,true);}
this.renderEvent.subscribe(this.registerForm,this,true);this.showEvent.subscribe(this.focusFirst,this,true);this.beforeHideEvent.subscribe(this.blurButtons,this,true);this.beforeRenderEvent.subscribe(function(){var buttonCfg=this.cfg.getProperty("buttons");if(buttonCfg&&buttonCfg!="none"){if(!this.footer){this.setFooter("");}}},this,true);this.initEvent.fire(YAHOO.widget.Dialog);};YAHOO.widget.Dialog.prototype.registerForm=function(){var form=this.element.getElementsByTagName("FORM")[0];if(!form){var formHTML="<form name=\"frm_"+this.id+"\" action=\"\"></form>";this.body.innerHTML+=formHTML;form=this.element.getElementsByTagName("FORM")[0];}
this.firstFormElement=function(){for(var f=0;f<form.elements.length;f++){var el=form.elements[f];if(el.focus){if(el.type&&el.type!="hidden"){return el;}}}
return null;}();this.lastFormElement=function(){for(var f=form.elements.length-1;f>=0;f--){var el=form.elements[f];if(el.focus){if(el.type&&el.type!="hidden"){return el;}}}
return null;}();this.form=form;if(this.cfg.getProperty("modal")&&this.form){var me=this;var firstElement=this.firstFormElement||this.firstButton;if(firstElement){this.preventBackTab=new YAHOO.util.KeyListener(firstElement,{shift:true,keys:9},{fn:me.focusLast,scope:me,correctScope:true});this.showEvent.subscribe(this.preventBackTab.enable,this.preventBackTab,true);this.hideEvent.subscribe(this.preventBackTab.disable,this.preventBackTab,true);}
var lastElement=this.lastButton||this.lastFormElement;if(lastElement){this.preventTabOut=new YAHOO.util.KeyListener(lastElement,{shift:false,keys:9},{fn:me.focusFirst,scope:me,correctScope:true});this.showEvent.subscribe(this.preventTabOut.enable,this.preventTabOut,true);this.hideEvent.subscribe(this.preventTabOut.disable,this.preventTabOut,true);}}};YAHOO.widget.Dialog.prototype.configButtons=function(type,args,obj){var buttons=args[0];if(buttons!="none"){this.buttonSpan=null;this.buttonSpan=document.createElement("SPAN");this.buttonSpan.className="button-group";for(var b=0;b<buttons.length;b++){var button=buttons[b];var htmlButton=document.createElement("BUTTON");htmlButton.setAttribute("type","button");if(button.isDefault){htmlButton.className="default";this.defaultHtmlButton=htmlButton;}
htmlButton.appendChild(document.createTextNode(button.text));YAHOO.util.Event.addListener(htmlButton,"click",button.handler,this,true);this.buttonSpan.appendChild(htmlButton);button.htmlButton=htmlButton;if(b===0){this.firstButton=button.htmlButton;}
if(b==(buttons.length-1)){this.lastButton=button.htmlButton;}}
this.setFooter(this.buttonSpan);this.cfg.refireEvent("iframe");this.cfg.refireEvent("underlay");}else{if(this.buttonSpan){if(this.buttonSpan.parentNode){this.buttonSpan.parentNode.removeChild(this.buttonSpan);}
this.buttonSpan=null;this.firstButton=null;this.lastButton=null;this.defaultHtmlButton=null;}}};YAHOO.widget.Dialog.prototype.configOnSuccess=function(type,args,obj){};YAHOO.widget.Dialog.prototype.configOnFailure=function(type,args,obj){};YAHOO.widget.Dialog.prototype.doSubmit=function(){};YAHOO.widget.Dialog.prototype.focusFirst=function(type,args,obj){if(args){var e=args[1];if(e){YAHOO.util.Event.stopEvent(e);}}
if(this.firstFormElement){this.firstFormElement.focus();}else{this.focusDefaultButton();}};YAHOO.widget.Dialog.prototype.focusLast=function(type,args,obj){if(args){var e=args[1];if(e){YAHOO.util.Event.stopEvent(e);}}
var buttons=this.cfg.getProperty("buttons");if(buttons&&buttons instanceof Array){this.focusLastButton();}else{if(this.lastFormElement){this.lastFormElement.focus();}}};YAHOO.widget.Dialog.prototype.focusDefaultButton=function(){if(this.defaultHtmlButton){this.defaultHtmlButton.focus();}};YAHOO.widget.Dialog.prototype.blurButtons=function(){var buttons=this.cfg.getProperty("buttons");if(buttons&&buttons instanceof Array){var html=buttons[0].htmlButton;if(html){html.blur();}}};YAHOO.widget.Dialog.prototype.focusFirstButton=function(){var buttons=this.cfg.getProperty("buttons");if(buttons&&buttons instanceof Array){var html=buttons[0].htmlButton;if(html){html.focus();}}};YAHOO.widget.Dialog.prototype.focusLastButton=function(){var buttons=this.cfg.getProperty("buttons");if(buttons&&buttons instanceof Array){var html=buttons[buttons.length-1].htmlButton;if(html){html.focus();}}};YAHOO.widget.Dialog.prototype.validate=function(){return true;};YAHOO.widget.Dialog.prototype.submit=function(){if(this.validate()){this.beforeSubmitEvent.fire();this.doSubmit();this.submitEvent.fire();this.hide();return true;}else{return false;}};YAHOO.widget.Dialog.prototype.cancel=function(){this.cancelEvent.fire();this.hide();};YAHOO.widget.Dialog.prototype.getData=function(){var form=this.form;var data={};if(form){for(var i in this.form){var formItem=form[i];if(formItem){if(formItem.tagName){switch(formItem.tagName){case"INPUT":switch(formItem.type){case"checkbox":data[i]=formItem.checked;break;case"textbox":case"text":case"hidden":data[i]=formItem.value;break;}
break;case"TEXTAREA":data[i]=formItem.value;break;case"SELECT":var val=[];for(var x=0;x<formItem.options.length;x++){var option=formItem.options[x];if(option.selected){var selval=option.value;if(!selval||selval===""){selval=option.text;}
val[val.length]=selval;}}
data[i]=val;break;}}else if(formItem[0]&&formItem[0].tagName){switch(formItem[0].tagName){case"INPUT":switch(formItem[0].type){case"radio":for(var r=0;r<formItem.length;r++){var radio=formItem[r];if(radio.checked){data[radio.name]=radio.value;break;}}
break;case"checkbox":var cbArray=[];for(var c=0;c<formItem.length;c++){var check=formItem[c];if(check.checked){cbArray[cbArray.length]=check.value;}}
data[formItem[0].name]=cbArray;break;}}}}}}
return data;};YAHOO.widget.Dialog.prototype.toString=function(){return"Dialog "+this.id;};YAHOO.widget.SimpleDialog=function(el,userConfig){YAHOO.widget.SimpleDialog.superclass.constructor.call(this,el,userConfig);};YAHOO.extend(YAHOO.widget.SimpleDialog,YAHOO.widget.Dialog);YAHOO.widget.SimpleDialog.ICON_BLOCK="nt/ic/ut/bsc/blck16_1.gif";YAHOO.widget.SimpleDialog.ICON_ALARM="nt/ic/ut/bsc/alrt16_1.gif";YAHOO.widget.SimpleDialog.ICON_HELP="nt/ic/ut/bsc/hlp16_1.gif";YAHOO.widget.SimpleDialog.ICON_INFO="nt/ic/ut/bsc/info16_1.gif";YAHOO.widget.SimpleDialog.ICON_WARN="nt/ic/ut/bsc/warn16_1.gif";YAHOO.widget.SimpleDialog.ICON_TIP="nt/ic/ut/bsc/tip16_1.gif";YAHOO.widget.SimpleDialog.CSS_SIMPLEDIALOG="simple-dialog";YAHOO.widget.SimpleDialog.prototype.initDefaultConfig=function(){YAHOO.widget.SimpleDialog.superclass.initDefaultConfig.call(this);this.cfg.addProperty("icon",{value:"none",handler:this.configIcon,suppressEvent:true});this.cfg.addProperty("text",{value:"",handler:this.configText,suppressEvent:true,supercedes:["icon"]});};YAHOO.widget.SimpleDialog.prototype.init=function(el,userConfig){YAHOO.widget.SimpleDialog.superclass.init.call(this,el);this.beforeInitEvent.fire(YAHOO.widget.SimpleDialog);YAHOO.util.Dom.addClass(this.element,YAHOO.widget.SimpleDialog.CSS_SIMPLEDIALOG);this.cfg.queueProperty("postmethod","manual");if(userConfig){this.cfg.applyConfig(userConfig,true);}
this.beforeRenderEvent.subscribe(function(){if(!this.body){this.setBody("");}},this,true);this.initEvent.fire(YAHOO.widget.SimpleDialog);};YAHOO.widget.SimpleDialog.prototype.registerForm=function(){YAHOO.widget.SimpleDialog.superclass.registerForm.call(this);this.form.innerHTML+="<input type=\"hidden\" name=\""+this.id+"\" value=\"\"/>";};YAHOO.widget.SimpleDialog.prototype.configIcon=function(type,args,obj){var icon=args[0];if(icon&&icon!="none"){var iconHTML="<img src=\""+this.imageRoot+icon+"\" class=\"icon\" />";this.body.innerHTML=iconHTML+this.body.innerHTML;}};YAHOO.widget.SimpleDialog.prototype.configText=function(type,args,obj){var text=args[0];if(text){this.setBody(text);this.cfg.refireEvent("icon");}};YAHOO.widget.SimpleDialog.prototype.toString=function(){return"SimpleDialog "+this.id;};YAHOO.widget.ContainerEffect=function(overlay,attrIn,attrOut,targetElement,animClass){if(!animClass){animClass=YAHOO.util.Anim;}
this.overlay=overlay;this.attrIn=attrIn;this.attrOut=attrOut;this.targetElement=targetElement||overlay.element;this.animClass=animClass;};YAHOO.widget.ContainerEffect.prototype.init=function(){this.beforeAnimateInEvent=new YAHOO.util.CustomEvent("beforeAnimateIn");this.beforeAnimateOutEvent=new YAHOO.util.CustomEvent("beforeAnimateOut");this.animateInCompleteEvent=new YAHOO.util.CustomEvent("animateInComplete");this.animateOutCompleteEvent=new YAHOO.util.CustomEvent("animateOutComplete");this.animIn=new this.animClass(this.targetElement,this.attrIn.attributes,this.attrIn.duration,this.attrIn.method);this.animIn.onStart.subscribe(this.handleStartAnimateIn,this);this.animIn.onTween.subscribe(this.handleTweenAnimateIn,this);this.animIn.onComplete.subscribe(this.handleCompleteAnimateIn,this);this.animOut=new this.animClass(this.targetElement,this.attrOut.attributes,this.attrOut.duration,this.attrOut.method);this.animOut.onStart.subscribe(this.handleStartAnimateOut,this);this.animOut.onTween.subscribe(this.handleTweenAnimateOut,this);this.animOut.onComplete.subscribe(this.handleCompleteAnimateOut,this);};YAHOO.widget.ContainerEffect.prototype.animateIn=function(){this.beforeAnimateInEvent.fire();this.animIn.animate();};YAHOO.widget.ContainerEffect.prototype.animateOut=function(){this.beforeAnimateOutEvent.fire();this.animOut.animate();};YAHOO.widget.ContainerEffect.prototype.handleStartAnimateIn=function(type,args,obj){};YAHOO.widget.ContainerEffect.prototype.handleTweenAnimateIn=function(type,args,obj){};YAHOO.widget.ContainerEffect.prototype.handleCompleteAnimateIn=function(type,args,obj){};YAHOO.widget.ContainerEffect.prototype.handleStartAnimateOut=function(type,args,obj){};YAHOO.widget.ContainerEffect.prototype.handleTweenAnimateOut=function(type,args,obj){};YAHOO.widget.ContainerEffect.prototype.handleCompleteAnimateOut=function(type,args,obj){};YAHOO.widget.ContainerEffect.prototype.toString=function(){var output="ContainerEffect";if(this.overlay){output+=" ["+this.overlay.toString()+"]";}
return output;};YAHOO.widget.ContainerEffect.FADE=function(overlay,dur){var fade=new YAHOO.widget.ContainerEffect(overlay,{attributes:{opacity:{from:0,to:1}},duration:dur,method:YAHOO.util.Easing.easeIn},{attributes:{opacity:{to:0}},duration:dur,method:YAHOO.util.Easing.easeOut},overlay.element);fade.handleStartAnimateIn=function(type,args,obj){YAHOO.util.Dom.addClass(obj.overlay.element,"hide-select");if(!obj.overlay.underlay){obj.overlay.cfg.refireEvent("underlay");}
if(obj.overlay.underlay){obj.initialUnderlayOpacity=YAHOO.util.Dom.getStyle(obj.overlay.underlay,"opacity");obj.overlay.underlay.style.filter=null;}
YAHOO.util.Dom.setStyle(obj.overlay.element,"visibility","visible");YAHOO.util.Dom.setStyle(obj.overlay.element,"opacity",0);};fade.handleCompleteAnimateIn=function(type,args,obj){YAHOO.util.Dom.removeClass(obj.overlay.element,"hide-select");if(obj.overlay.element.style.filter){obj.overlay.element.style.filter=null;}
if(obj.overlay.underlay){YAHOO.util.Dom.setStyle(obj.overlay.underlay,"opacity",obj.initialUnderlayOpacity);}
obj.overlay.cfg.refireEvent("iframe");obj.animateInCompleteEvent.fire();};fade.handleStartAnimateOut=function(type,args,obj){YAHOO.util.Dom.addClass(obj.overlay.element,"hide-select");if(obj.overlay.underlay){obj.overlay.underlay.style.filter=null;}};fade.handleCompleteAnimateOut=function(type,args,obj){YAHOO.util.Dom.removeClass(obj.overlay.element,"hide-select");if(obj.overlay.element.style.filter){obj.overlay.element.style.filter=null;}
YAHOO.util.Dom.setStyle(obj.overlay.element,"visibility","hidden");YAHOO.util.Dom.setStyle(obj.overlay.element,"opacity",1);obj.overlay.cfg.refireEvent("iframe");obj.animateOutCompleteEvent.fire();};fade.init();return fade;};YAHOO.widget.ContainerEffect.SLIDE=function(overlay,dur){var x=overlay.cfg.getProperty("x")||YAHOO.util.Dom.getX(overlay.element);var y=overlay.cfg.getProperty("y")||YAHOO.util.Dom.getY(overlay.element);var clientWidth=YAHOO.util.Dom.getClientWidth();var offsetWidth=overlay.element.offsetWidth;var slide=new YAHOO.widget.ContainerEffect(overlay,{attributes:{points:{to:[x,y]}},duration:dur,method:YAHOO.util.Easing.easeIn},{attributes:{points:{to:[(clientWidth+25),y]}},duration:dur,method:YAHOO.util.Easing.easeOut},overlay.element,YAHOO.util.Motion);slide.handleStartAnimateIn=function(type,args,obj){obj.overlay.element.style.left=(-25-offsetWidth)+"px";obj.overlay.element.style.top=y+"px";};slide.handleTweenAnimateIn=function(type,args,obj){var pos=YAHOO.util.Dom.getXY(obj.overlay.element);var currentX=pos[0];var currentY=pos[1];if(YAHOO.util.Dom.getStyle(obj.overlay.element,"visibility")=="hidden"&&currentX<x){YAHOO.util.Dom.setStyle(obj.overlay.element,"visibility","visible");}
obj.overlay.cfg.setProperty("xy",[currentX,currentY],true);obj.overlay.cfg.refireEvent("iframe");};slide.handleCompleteAnimateIn=function(type,args,obj){obj.overlay.cfg.setProperty("xy",[x,y],true);obj.startX=x;obj.startY=y;obj.overlay.cfg.refireEvent("iframe");obj.animateInCompleteEvent.fire();};slide.handleStartAnimateOut=function(type,args,obj){var clientWidth=YAHOO.util.Dom.getViewportWidth();var pos=YAHOO.util.Dom.getXY(obj.overlay.element);var x=pos[0];var y=pos[1];var currentTo=obj.animOut.attributes.points.to;obj.animOut.attributes.points.to=[(clientWidth+25),y];};slide.handleTweenAnimateOut=function(type,args,obj){var pos=YAHOO.util.Dom.getXY(obj.overlay.element);var x=pos[0];var y=pos[1];obj.overlay.cfg.setProperty("xy",[x,y],true);obj.overlay.cfg.refireEvent("iframe");};slide.handleCompleteAnimateOut=function(type,args,obj){YAHOO.util.Dom.setStyle(obj.overlay.element,"visibility","hidden");var offsetWidth=obj.overlay.element.offsetWidth;obj.overlay.cfg.setProperty("xy",[x,y]);obj.animateOutCompleteEvent.fire();};slide.init();return slide;};
/* Copyright (c) 2006, Yahoo! Inc. All rights reserved. Code licensed under the BSD License: http://developer.yahoo.com/yui/license.txt Version: 0.11.3 */
YAHOO.widget.Logger={loggerEnabled:true,_browserConsoleEnabled:false,categories:["info","warn","error","time","window"],sources:["global"],_stack:[],maxStackEntries:5,_startTime:new Date().getTime(),_lastTime:null};YAHOO.widget.Logger.categoryCreateEvent=new YAHOO.util.CustomEvent("categoryCreate",this,true);YAHOO.widget.Logger.sourceCreateEvent=new YAHOO.util.CustomEvent("sourceCreate",this,true);YAHOO.widget.Logger.newLogEvent=new YAHOO.util.CustomEvent("newLog",this,true);YAHOO.widget.Logger.logResetEvent=new YAHOO.util.CustomEvent("logReset",this,true);YAHOO.widget.Logger.log=function(sMsg,sCategory,sSource){if(this.loggerEnabled){if(!sCategory){sCategory="info";}
else{sCategory=sCategory.toLocaleLowerCase();if(this._isNewCategory(sCategory)){this._createNewCategory(sCategory);}}
var sClass="global";var sDetail=null;if(sSource){var spaceIndex=sSource.indexOf(" ");if(spaceIndex>0){sClass=sSource.substring(0,spaceIndex);sDetail=sSource.substring(spaceIndex,sSource.length);}
else{sClass=sSource;}
if(this._isNewSource(sClass)){this._createNewSource(sClass);}}
var timestamp=new Date();var logEntry={time:timestamp,category:sCategory,source:sClass,sourceDetail:sDetail,msg:sMsg};var stack=this._stack;var maxStackEntries=this.maxStackEntries;if(maxStackEntries&&!isNaN(maxStackEntries)&&(stack.length>=maxStackEntries)){stack.shift();}
stack.push(logEntry);this.newLogEvent.fire(logEntry);if(this._browserConsoleEnabled){this._printToBrowserConsole(logEntry);}
return true;}
else{return false;}};YAHOO.widget.Logger.reset=function(){this._stack=[];this._startTime=new Date().getTime();this.loggerEnabled=true;this.log("Logger reset");this.logResetEvent.fire();};YAHOO.widget.Logger.getStack=function(){return this._stack;};YAHOO.widget.Logger.getStartTime=function(){return this._startTime;};YAHOO.widget.Logger.disableBrowserConsole=function(){YAHOO.log("Logger output to the function console.log() has been disabled.");this._browserConsoleEnabled=false;};YAHOO.widget.Logger.enableBrowserConsole=function(){this._browserConsoleEnabled=true;YAHOO.log("Logger output to the function console.log() has been enabled.");};YAHOO.widget.Logger._createNewCategory=function(category){this.categories.push(category);this.categoryCreateEvent.fire(category);};YAHOO.widget.Logger._isNewCategory=function(category){for(var i=0;i<this.categories.length;i++){if(category==this.categories[i]){return false;}}
return true;};YAHOO.widget.Logger._createNewSource=function(source){this.sources.push(source);this.sourceCreateEvent.fire(source);};YAHOO.widget.Logger._isNewSource=function(source){if(source){for(var i=0;i<this.sources.length;i++){if(source==this.sources[i]){return false;}}
return true;}};YAHOO.widget.Logger._printToBrowserConsole=function(entry){if(window.console&&console.log){var category=entry.category;var label=entry.category.substring(0,4).toUpperCase();var time=entry.time;if(time.toLocaleTimeString){var localTime=time.toLocaleTimeString();}
else{localTime=time.toString();}
var msecs=time.getTime();var elapsedTime=(YAHOO.widget.Logger._lastTime)?(msecs-YAHOO.widget.Logger._lastTime):0;YAHOO.widget.Logger._lastTime=msecs;var output=localTime+" ("+
elapsedTime+"ms): "+
entry.source+": "+
entry.msg;console.log(output);}};YAHOO.widget.Logger._onWindowError=function(msg,url,line){try{YAHOO.widget.Logger.log(msg+' ('+url+', line '+line+')',"window");if(YAHOO.widget.Logger._origOnWindowError){YAHOO.widget.Logger._origOnWindowError();}}
catch(e){return false;}};if(window.onerror){YAHOO.widget.Logger._origOnWindowError=window.onerror;}
window.onerror=YAHOO.widget.Logger._onWindowError;YAHOO.widget.Logger.log("Logger initialized");YAHOO.widget.LogWriter=function(sSource){if(!sSource){YAHOO.log("Could not instantiate LogWriter due to invalid source.","error","LogWriter");return;}
this._source=sSource;};YAHOO.widget.LogWriter.prototype.toString=function(){return"LogWriter "+this._sSource;};YAHOO.widget.LogWriter.prototype.log=function(sMsg,sCategory){YAHOO.widget.Logger.log(sMsg,sCategory,this._source);};YAHOO.widget.LogWriter.prototype.getSource=function(){return this._sSource;};YAHOO.widget.LogWriter.prototype.setSource=function(sSource){if(!sSource){YAHOO.log("Could not set source due to invalid source.","error",this.toString());return;}
else{this._sSource=sSource;}};YAHOO.widget.LogWriter.prototype._source=null;YAHOO.widget.LogReader=function(containerEl,oConfig){var oSelf=this;this._sName=YAHOO.widget.LogReader._index;YAHOO.widget.LogReader._index++;if(typeof oConfig=="object"){for(var param in oConfig){this[param]=oConfig[param];}}
if(containerEl){if(typeof containerEl=="string"){this._containerEl=document.getElementById(containerEl);}
else if(containerEl.tagName){this._containerEl=containerEl;}
this._containerEl.className="yui-log";}
if(!this._containerEl){if(YAHOO.widget.LogReader._defaultContainerEl){this._containerEl=YAHOO.widget.LogReader._defaultContainerEl;}
else{this._containerEl=document.body.appendChild(document.createElement("div"));this._containerEl.id="yui-log";this._containerEl.className="yui-log";YAHOO.widget.LogReader._defaultContainerEl=this._containerEl;}
var containerStyle=this._containerEl.style;if(this.width){containerStyle.width=this.width;}
if(this.left){containerStyle.left=this.left;}
if(this.right){containerStyle.right=this.right;}
if(this.bottom){containerStyle.bottom=this.bottom;}
if(this.top){containerStyle.top=this.top;}
if(this.fontSize){containerStyle.fontSize=this.fontSize;}}
if(this._containerEl){if(!this._hdEl){this._hdEl=this._containerEl.appendChild(document.createElement("div"));this._hdEl.id="yui-log-hd"+this._sName;this._hdEl.className="yui-log-hd";this._collapseEl=this._hdEl.appendChild(document.createElement("div"));this._collapseEl.className="yui-log-btns";this._collapseBtn=document.createElement("input");this._collapseBtn.type="button";this._collapseBtn.style.fontSize=YAHOO.util.Dom.getStyle(this._containerEl,"fontSize");this._collapseBtn.className="yui-log-button";this._collapseBtn.value="Collapse";this._collapseBtn=this._collapseEl.appendChild(this._collapseBtn);YAHOO.util.Event.addListener(oSelf._collapseBtn,'click',oSelf._onClickCollapseBtn,oSelf);this._title=this._hdEl.appendChild(document.createElement("h4"));this._title.innerHTML="Logger Console";if(YAHOO.util.DD&&(YAHOO.widget.LogReader._defaultContainerEl==this._containerEl)){var ylog_dd=new YAHOO.util.DD(this._containerEl.id);ylog_dd.setHandleElId(this._hdEl.id);this._hdEl.style.cursor="move";}}
if(!this._consoleEl){this._consoleEl=this._containerEl.appendChild(document.createElement("div"));this._consoleEl.className="yui-log-bd";if(this.height){this._consoleEl.style.height=this.height;}}
if(!this._ftEl&&this.footerEnabled){this._ftEl=this._containerEl.appendChild(document.createElement("div"));this._ftEl.className="yui-log-ft";this._btnsEl=this._ftEl.appendChild(document.createElement("div"));this._btnsEl.className="yui-log-btns";this._pauseBtn=document.createElement("input");this._pauseBtn.type="button";this._pauseBtn.style.fontSize=YAHOO.util.Dom.getStyle(this._containerEl,"fontSize");this._pauseBtn.className="yui-log-button";this._pauseBtn.value="Pause";this._pauseBtn=this._btnsEl.appendChild(this._pauseBtn);YAHOO.util.Event.addListener(oSelf._pauseBtn,'click',oSelf._onClickPauseBtn,oSelf);this._clearBtn=document.createElement("input");this._clearBtn.type="button";this._clearBtn.style.fontSize=YAHOO.util.Dom.getStyle(this._containerEl,"fontSize");this._clearBtn.className="yui-log-button";this._clearBtn.value="Clear";this._clearBtn=this._btnsEl.appendChild(this._clearBtn);YAHOO.util.Event.addListener(oSelf._clearBtn,'click',oSelf._onClickClearBtn,oSelf);this._categoryFiltersEl=this._ftEl.appendChild(document.createElement("div"));this._categoryFiltersEl.className="yui-log-categoryfilters";this._sourceFiltersEl=this._ftEl.appendChild(document.createElement("div"));this._sourceFiltersEl.className="yui-log-sourcefilters";}}
if(!this._buffer){this._buffer=[];}
this._lastTime=YAHOO.widget.Logger.getStartTime();YAHOO.widget.Logger.newLogEvent.subscribe(this._onNewLog,this);YAHOO.widget.Logger.logResetEvent.subscribe(this._onReset,this);this._categoryFilters=[];var catsLen=YAHOO.widget.Logger.categories.length;if(this._categoryFiltersEl){for(var i=0;i<catsLen;i++){this._createCategoryCheckbox(YAHOO.widget.Logger.categories[i]);}}
this._sourceFilters=[];var sourcesLen=YAHOO.widget.Logger.sources.length;if(this._sourceFiltersEl){for(var j=0;j<sourcesLen;j++){this._createSourceCheckbox(YAHOO.widget.Logger.sources[j]);}}
YAHOO.widget.Logger.categoryCreateEvent.subscribe(this._onCategoryCreate,this);YAHOO.widget.Logger.sourceCreateEvent.subscribe(this._onSourceCreate,this);this._filterLogs();YAHOO.log("LogReader initialized",null,this.toString());};YAHOO.widget.LogReader.prototype.logReaderEnabled=true;YAHOO.widget.LogReader.prototype.width=null;YAHOO.widget.LogReader.prototype.height=null;YAHOO.widget.LogReader.prototype.top=null;YAHOO.widget.LogReader.prototype.left=null;YAHOO.widget.LogReader.prototype.right=null;YAHOO.widget.LogReader.prototype.bottom=null;YAHOO.widget.LogReader.prototype.fontSize=null;YAHOO.widget.LogReader.prototype.footerEnabled=true;YAHOO.widget.LogReader.prototype.verboseOutput=true;YAHOO.widget.LogReader.prototype.newestOnTop=true;YAHOO.widget.LogReader.prototype.thresholdMax=500;YAHOO.widget.LogReader.prototype.thresholdMin=100;YAHOO.widget.LogReader.prototype.toString=function(){return"LogReader instance"+this._sName;};YAHOO.widget.LogReader.prototype.pause=function(){this._timeout=null;this.logReaderEnabled=false;};YAHOO.widget.LogReader.prototype.resume=function(){this.logReaderEnabled=true;this._printBuffer();};YAHOO.widget.LogReader.prototype.hide=function(){this._containerEl.style.display="none";};YAHOO.widget.LogReader.prototype.show=function(){this._containerEl.style.display="block";};YAHOO.widget.LogReader.prototype.setTitle=function(sTitle){this._title.innerHTML=this._HTML2Text(sTitle);};YAHOO.widget.LogReader._index=0;YAHOO.widget.LogReader.prototype._sName=null;YAHOO.widget.LogReader._defaultContainerEl=null;YAHOO.widget.LogReader.prototype._buffer=null;YAHOO.widget.LogReader.prototype._consoleMsgCount=0;YAHOO.widget.LogReader.prototype._lastTime=null;YAHOO.widget.LogReader.prototype._timeout=null;YAHOO.widget.LogReader.prototype._categoryFilters=null;YAHOO.widget.LogReader.prototype._sourceFilters=null;YAHOO.widget.LogReader.prototype._containerEl=null;YAHOO.widget.LogReader.prototype._hdEl=null;YAHOO.widget.LogReader.prototype._collapseEl=null;YAHOO.widget.LogReader.prototype._collapseBtn=null;YAHOO.widget.LogReader.prototype._title=null;YAHOO.widget.LogReader.prototype._consoleEl=null;YAHOO.widget.LogReader.prototype._ftEl=null;YAHOO.widget.LogReader.prototype._btnsEl=null;YAHOO.widget.LogReader.prototype._categoryFiltersEl=null;YAHOO.widget.LogReader.prototype._sourceFiltersEl=null;YAHOO.widget.LogReader.prototype._pauseBtn=null;YAHOO.widget.LogReader.prototype._clearBtn=null;YAHOO.widget.LogReader.prototype._createCategoryCheckbox=function(category){var oSelf=this;if(this._ftEl){var parentEl=this._categoryFiltersEl;var filters=this._categoryFilters;var filterEl=parentEl.appendChild(document.createElement("span"));filterEl.className="yui-log-filtergrp";var categoryChk=document.createElement("input");categoryChk.id="yui-log-filter-"+category+this._sName;categoryChk.className="yui-log-filter-"+category;categoryChk.type="checkbox";categoryChk.category=category;categoryChk=filterEl.appendChild(categoryChk);categoryChk.checked=true;filters.push(category);YAHOO.util.Event.addListener(categoryChk,'click',oSelf._onCheckCategory,oSelf);var categoryChkLbl=filterEl.appendChild(document.createElement("label"));categoryChkLbl.htmlFor=categoryChk.id;categoryChkLbl.className=category;categoryChkLbl.innerHTML=category;}};YAHOO.widget.LogReader.prototype._createSourceCheckbox=function(source){var oSelf=this;if(this._ftEl){var parentEl=this._sourceFiltersEl;var filters=this._sourceFilters;var filterEl=parentEl.appendChild(document.createElement("span"));filterEl.className="yui-log-filtergrp";var sourceChk=document.createElement("input");sourceChk.id="yui-log-filter"+source+this._sName;sourceChk.className="yui-log-filter"+source;sourceChk.type="checkbox";sourceChk.source=source;sourceChk=filterEl.appendChild(sourceChk);sourceChk.checked=true;filters.push(source);YAHOO.util.Event.addListener(sourceChk,'click',oSelf._onCheckSource,oSelf);var sourceChkLbl=filterEl.appendChild(document.createElement("label"));sourceChkLbl.htmlFor=sourceChk.id;sourceChkLbl.className=source;sourceChkLbl.innerHTML=source;}};YAHOO.widget.LogReader.prototype._filterLogs=function(){if(this._consoleEl!==null){this._clearConsole();this._printToConsole(YAHOO.widget.Logger.getStack());}};YAHOO.widget.LogReader.prototype._clearConsole=function(){this._timeout=null;this._buffer=[];this._consoleMsgCount=0;this._lastTime=YAHOO.widget.Logger.getStartTime();var consoleEl=this._consoleEl;while(consoleEl.hasChildNodes()){consoleEl.removeChild(consoleEl.firstChild);}};YAHOO.widget.LogReader.prototype._printBuffer=function(){this._timeout=null;if(this._consoleEl!==null){var thresholdMax=this.thresholdMax;thresholdMax=(thresholdMax&&!isNaN(thresholdMax))?thresholdMax:500;if(this._consoleMsgCount<thresholdMax){var entries=[];for(var i=0;i<this._buffer.length;i++){entries[i]=this._buffer[i];}
this._buffer=[];this._printToConsole(entries);}
else{this._filterLogs();}
if(!this.newestOnTop){this._consoleEl.scrollTop=this._consoleEl.scrollHeight;}}};YAHOO.widget.LogReader.prototype._printToConsole=function(aEntries){var entriesLen=aEntries.length;var thresholdMin=this.thresholdMin;if(isNaN(thresholdMin)||(thresholdMin>this.thresholdMax)){thresholdMin=0;}
var entriesStartIndex=(entriesLen>thresholdMin)?(entriesLen-thresholdMin):0;var sourceFiltersLen=this._sourceFilters.length;var categoryFiltersLen=this._categoryFilters.length;for(var i=entriesStartIndex;i<entriesLen;i++){var entry=aEntries[i];var category=entry.category;var source=entry.source;var sourceDetail=entry.sourceDetail;var okToPrint=false;var okToFilterCats=false;for(var j=0;j<sourceFiltersLen;j++){if(source==this._sourceFilters[j]){okToFilterCats=true;break;}}
if(okToFilterCats){for(var k=0;k<categoryFiltersLen;k++){if(category==this._categoryFilters[k]){okToPrint=true;break;}}}
if(okToPrint){var label=entry.category.substring(0,4).toUpperCase();var time=entry.time;if(time.toLocaleTimeString){var localTime=time.toLocaleTimeString();}
else{localTime=time.toString();}
var msecs=time.getTime();var startTime=YAHOO.widget.Logger.getStartTime();var totalTime=msecs-startTime;var elapsedTime=msecs-this._lastTime;this._lastTime=msecs;var verboseOutput=(this.verboseOutput);var container=(verboseOutput)?"CODE":"PRE";var sourceAndDetail=(sourceDetail)?source+" "+sourceDetail:source;var output=(verboseOutput)?["<p><span class='",category,"'>",label,"</span> ",totalTime,"ms (+",elapsedTime,") ",localTime,": ","</p><p>",sourceAndDetail,": </p><p>",this._HTML2Text(entry.msg),"</p>"]:["<p><span class='",category,"'>",label,"</span> ",totalTime,"ms (+",elapsedTime,") ",localTime,": ",sourceAndDetail,": ",this._HTML2Text(entry.msg),"</p>"];var oNewElement=(this.newestOnTop)?this._consoleEl.insertBefore(document.createElement(container),this._consoleEl.firstChild):this._consoleEl.appendChild(document.createElement(container));oNewElement.innerHTML=output.join("");this._consoleMsgCount++;}}};YAHOO.widget.LogReader.prototype._HTML2Text=function(html){if(html){return html.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;");}
else return"";};YAHOO.widget.LogReader.prototype._onCategoryCreate=function(type,args,oSelf){var category=args[0];if(oSelf._ftEl){oSelf._createCategoryCheckbox(category);}};YAHOO.widget.LogReader.prototype._onSourceCreate=function(type,args,oSelf){var source=args[0];if(oSelf._ftEl){oSelf._createSourceCheckbox(source);}};YAHOO.widget.LogReader.prototype._onCheckCategory=function(v,oSelf){var newFilter=this.category;var filtersArray=oSelf._categoryFilters;if(!this.checked){for(var i=0;i<filtersArray.length;i++){if(newFilter==filtersArray[i]){filtersArray.splice(i,1);break;}}}
else{filtersArray.push(newFilter);}
oSelf._filterLogs();};YAHOO.widget.LogReader.prototype._onCheckSource=function(v,oSelf){var newFilter=this.source;var filtersArray=oSelf._sourceFilters;if(!this.checked){for(var i=0;i<filtersArray.length;i++){if(newFilter==filtersArray[i]){filtersArray.splice(i,1);break;}}}
else{filtersArray.push(newFilter);}
oSelf._filterLogs();};YAHOO.widget.LogReader.prototype._onClickCollapseBtn=function(v,oSelf){var btn=oSelf._collapseBtn;if(btn.value=="Expand"){oSelf._consoleEl.style.display="block";if(oSelf._ftEl){oSelf._ftEl.style.display="block";}
btn.value="Collapse";}
else{oSelf._consoleEl.style.display="none";if(oSelf._ftEl){oSelf._ftEl.style.display="none";}
btn.value="Expand";}};YAHOO.widget.LogReader.prototype._onClickPauseBtn=function(v,oSelf){var btn=oSelf._pauseBtn;if(btn.value=="Resume"){oSelf.resume();btn.value="Pause";}
else{oSelf.pause();btn.value="Resume";}};YAHOO.widget.LogReader.prototype._onClickClearBtn=function(v,oSelf){oSelf._clearConsole();};YAHOO.widget.LogReader.prototype._onNewLog=function(type,args,oSelf){var logEntry=args[0];oSelf._buffer.push(logEntry);if(oSelf.logReaderEnabled===true&&oSelf._timeout===null){oSelf._timeout=setTimeout(function(){oSelf._printBuffer();},100);}};YAHOO.widget.LogReader.prototype._onReset=function(type,args,oSelf){oSelf._filterLogs();};

/* Copyright (c) 2006, Yahoo! Inc. All rights reserved.Code licensed under the BSD License:http://developer.yahoo.net/yui/license.txt Version: 0.11.3 */ YAHOO.widget.Slider=function(_1,_2,_3,_4){if(_1){this.type=_4;this.init(_1,_2,true);var _5=this;this.thumb=_3;_3.onChange=function(){_5.onThumbChange();};this.isTarget=false;this.animate=YAHOO.widget.Slider.ANIM_AVAIL;this.backgroundEnabled=true;this.tickPause=40;if(_3._isHoriz&&_3.xTicks&&_3.xTicks.length){this.tickPause=Math.round(360/_3.xTicks.length);}else{if(_3.yTicks&&_3.yTicks.length){this.tickPause=Math.round(360/_3.yTicks.length);}}_3.onMouseDown=function(){return _5.focus();};_3.onMouseUp=function(){_5.thumbMouseUp();};_3.onDrag=function(){_5.fireEvents();};_3.onAvailable=function(){return _5.setStartSliderState();};}};YAHOO.extend(YAHOO.widget.Slider,YAHOO.util.DragDrop);YAHOO.widget.Slider.getHorizSlider=function(_6,_7,_8,_9,_10){return new YAHOO.widget.Slider(_6,_6,new YAHOO.widget.SliderThumb(_7,_6,_8,_9,0,0,_10),"horiz");};YAHOO.widget.Slider.getVertSlider=function(_11,_12,iUp,_14,_15){return new YAHOO.widget.Slider(_11,_11,new YAHOO.widget.SliderThumb(_12,_11,0,0,iUp,_14,_15),"vert");};YAHOO.widget.Slider.getSliderRegion=function(_16,_17,_18,_19,iUp,_20,_21){return new YAHOO.widget.Slider(_16,_16,new YAHOO.widget.SliderThumb(_17,_16,_18,_19,iUp,_20,_21),"region");};YAHOO.widget.Slider.ANIM_AVAIL=true;YAHOO.widget.Slider.prototype.setStartSliderState=function(){this.setThumbCenterPoint();this.baselinePos=YAHOO.util.Dom.getXY(this.getEl());this.thumb.startOffset=this.thumb.getOffsetFromParent(this.baselinePos);if(this.thumb._isRegion){if(this.deferredSetRegionValue){this.setRegionValue.apply(this,this.deferredSetRegionValue,true);}else{this.setRegionValue(0,0,true);}}else{if(this.deferredSetValue){this.setValue.apply(this,this.deferredSetValue,true);}else{this.setValue(0,true,true);}}};YAHOO.widget.Slider.prototype.setThumbCenterPoint=function(){var el=this.thumb.getEl();if(el){this.thumbCenterPoint={x:parseInt(el.offsetWidth/2,10),y:parseInt(el.offsetHeight/2,10)};}};YAHOO.widget.Slider.prototype.lock=function(){this.thumb.lock();this.locked=true;};YAHOO.widget.Slider.prototype.unlock=function(){this.thumb.unlock();this.locked=false;};YAHOO.widget.Slider.prototype.thumbMouseUp=function(){if(!this.isLocked()&&!this.moveComplete){this.endMove();}};YAHOO.widget.Slider.prototype.getThumb=function(){return this.thumb;};YAHOO.widget.Slider.prototype.focus=function(){var el=this.getEl();if(el.focus){el.focus();}this.verifyOffset();if(this.isLocked()){return false;}else{this.onSlideStart();return true;}};YAHOO.widget.Slider.prototype.onChange=function(_23,_24){};YAHOO.widget.Slider.prototype.onSlideStart=function(){};YAHOO.widget.Slider.prototype.onSlideEnd=function(){};YAHOO.widget.Slider.prototype.getValue=function(){return this.thumb.getValue();};YAHOO.widget.Slider.prototype.getXValue=function(){return this.thumb.getXValue();};YAHOO.widget.Slider.prototype.getYValue=function(){return this.thumb.getYValue();};YAHOO.widget.Slider.prototype.onThumbChange=function(){var t=this.thumb;if(t._isRegion){t.onChange(t.getXValue(),t.getYValue());}else{t.onChange(t.getValue());}};YAHOO.widget.Slider.prototype.setValue=function(_26,_27,_28){if(!this.thumb.available){this.deferredSetValue=arguments;return false;}if(this.isLocked()&&!_28){return false;}if(isNaN(_26)){return false;}var t=this.thumb;var _29,newY;this.verifyOffset();if(t._isRegion){return false;}else{if(t._isHoriz){this.onSlideStart();_29=t.initPageX+_26+this.thumbCenterPoint.x;this.moveThumb(_29,t.initPageY,_27);}else{this.onSlideStart();newY=t.initPageY+_26+this.thumbCenterPoint.y;this.moveThumb(t.initPageX,newY,_27);}}return true;};YAHOO.widget.Slider.prototype.setRegionValue=function(_30,_31,_32){if(!this.thumb.available){this.deferredSetRegionValue=arguments;return false;}if(this.isLocked()&&!force){return false;}if(isNaN(_30)){return false;}var t=this.thumb;if(t._isRegion){this.onSlideStart();var _33=t.initPageX+_30+this.thumbCenterPoint.x;var _34=t.initPageY+_31+this.thumbCenterPoint.y;this.moveThumb(_33,_34,_32);return true;}return false;};YAHOO.widget.Slider.prototype.verifyOffset=function(){var _35=YAHOO.util.Dom.getXY(this.getEl());if(_35[0]!=this.baselinePos[0]||_35[1]!=this.baselinePos[1]){this.thumb.resetConstraints();this.baselinePos=_35;return false;}return true;};YAHOO.widget.Slider.prototype.moveThumb=function(x,y,_38){var t=this.thumb;var _39=this;if(!t.available){return;}t.setDelta(this.thumbCenterPoint.x,this.thumbCenterPoint.y);var _p=t.getTargetCoord(x,y);var p=[_p.x,_p.y];if(this.animate&&YAHOO.widget.Slider.ANIM_AVAIL&&t._graduated&&!_38){this.lock();setTimeout(function(){_39.moveOneTick(p);},this.tickPause);}else{if(this.animate&&YAHOO.widget.Slider.ANIM_AVAIL&&!_38){this.lock();var _42=new YAHOO.util.Motion(t.id,{points:{to:p}},0.4,YAHOO.util.Easing.easeOut);_42.onComplete.subscribe(function(){_39.endMove();});_42.animate();}else{t.setDragElPos(x,y);this.endMove();}}};YAHOO.widget.Slider.prototype.moveOneTick=function(_43){var t=this.thumb;var _44=YAHOO.util.Dom.getXY(t.getEl());var tmp;var _46=null;if(t._isRegion){_46=this._getNextX(_44,_43);var _47=(_46)?_46[0]:_44[0];_46=this._getNextY([_47,_44[1]],_43);}else{if(t._isHoriz){_46=this._getNextX(_44,_43);}else{_46=this._getNextY(_44,_43);}}if(_46){this.thumb.alignElWithMouse(t.getEl(),_46[0],_46[1]);if(!(_46[0]==_43[0]&&_46[1]==_43[1])){var _48=this;setTimeout(function(){_48.moveOneTick(_43);},this.tickPause);}else{this.endMove();}}else{this.endMove();}};YAHOO.widget.Slider.prototype._getNextX=function(_49,_50){var t=this.thumb;var _51;var tmp=[];var _52=null;if(_49[0]>_50[0]){_51=t.tickSize-this.thumbCenterPoint.x;tmp=t.getTargetCoord(_49[0]-_51,_49[1]);_52=[tmp.x,tmp.y];}else{if(_49[0]<_50[0]){_51=t.tickSize+this.thumbCenterPoint.x;tmp=t.getTargetCoord(_49[0]+_51,_49[1]);_52=[tmp.x,tmp.y];}else{}}return _52;};YAHOO.widget.Slider.prototype._getNextY=function(_53,_54){var t=this.thumb;var _55;var tmp=[];var _56=null;if(_53[1]>_54[1]){_55=t.tickSize-this.thumbCenterPoint.y;tmp=t.getTargetCoord(_53[0],_53[1]-_55);_56=[tmp.x,tmp.y];}else{if(_53[1]<_54[1]){_55=t.tickSize+this.thumbCenterPoint.y;tmp=t.getTargetCoord(_53[0],_53[1]+_55);_56=[tmp.x,tmp.y];}else{}}return _56;};YAHOO.widget.Slider.prototype.b4MouseDown=function(e){this.thumb.autoOffset();this.thumb.resetConstraints();};YAHOO.widget.Slider.prototype.onMouseDown=function(e){if(!this.isLocked()&&this.backgroundEnabled){var x=YAHOO.util.Event.getPageX(e);var y=YAHOO.util.Event.getPageY(e);this.focus();this.moveThumb(x,y);}};YAHOO.widget.Slider.prototype.onDrag=function(e){if(!this.isLocked()){var x=YAHOO.util.Event.getPageX(e);var y=YAHOO.util.Event.getPageY(e);this.moveThumb(x,y,true);}};YAHOO.widget.Slider.prototype.endMove=function(){this.unlock();this.moveComplete=true;this.fireEvents();};YAHOO.widget.Slider.prototype.fireEvents=function(){var t=this.thumb;t.cachePosition();if(!this.isLocked()){if(t._isRegion){var _58=t.getXValue();var _59=t.getYValue();if(_58!=this.previousX||_59!=this.previousY){this.onChange(_58,_59);}this.previousX=_58;this.previousY=_59;}else{var _60=t.getValue();if(_60!=this.previousVal){this.onChange(_60);}this.previousVal=_60;}if(this.moveComplete){this.onSlideEnd();this.moveComplete=false;}}};YAHOO.widget.Slider.prototype.toString=function(){return ("Slider ("+this.type+") "+this.id);};YAHOO.widget.SliderThumb=function(id,_62,_63,_64,iUp,_65,_66){if(id){this.init(id,_62);this.parentElId=_62;}this.isTarget=false;this.tickSize=_66;this.maintainOffset=true;this.initSlider(_63,_64,iUp,_65,_66);this.scroll=false;};YAHOO.extend(YAHOO.widget.SliderThumb,YAHOO.util.DD);YAHOO.widget.SliderThumb.prototype.getOffsetFromParent=function(_67){var _68=YAHOO.util.Dom.getXY(this.getEl());var _69=_67||YAHOO.util.Dom.getXY(this.parentElId);return [(_68[0]-_69[0]),(_68[1]-_69[1])];};YAHOO.widget.SliderThumb.prototype.startOffset=null;YAHOO.widget.SliderThumb.prototype._isHoriz=false;YAHOO.widget.SliderThumb.prototype._prevVal=0;YAHOO.widget.SliderThumb.prototype._graduated=false;YAHOO.widget.SliderThumb.prototype.initSlider=function(_70,_71,iUp,_72,_73){this.setXConstraint(_70,_71,_73);this.setYConstraint(iUp,_72,_73);if(_73&&_73>1){this._graduated=true;}this._isHoriz=(_70>0||_71>0);this._isVert=(iUp>0||_72>0);this._isRegion=(this._isHoriz&&this._isVert);};YAHOO.widget.SliderThumb.prototype.clearTicks=function(){YAHOO.widget.SliderThumb.superclass.clearTicks.call(this);this._graduated=false;};YAHOO.widget.SliderThumb.prototype.getValue=function(){if(!this.available){return 0;}var val=(this._isHoriz)?this.getXValue():this.getYValue();return val;};YAHOO.widget.SliderThumb.prototype.getXValue=function(){if(!this.available){return 0;}var _75=this.getOffsetFromParent();return (_75[0]-this.startOffset[0]);};YAHOO.widget.SliderThumb.prototype.getYValue=function(){if(!this.available){return 0;}var _76=this.getOffsetFromParent();return (_76[1]-this.startOffset[1]);};YAHOO.widget.SliderThumb.prototype.toString=function(){return "SliderThumb "+this.id;};YAHOO.widget.SliderThumb.prototype.onChange=function(x,y){};if("undefined"==typeof YAHOO.util.Anim){YAHOO.widget.Slider.ANIM_AVAIL=false;}
YAHOO.widget.ResizePanel = function(el, userConfig) {
	if (arguments.length > 0) {
		YAHOO.widget.ResizePanel.superclass.constructor.call(this, el, userConfig);
	}
}
YAHOO.extend(YAHOO.widget.ResizePanel, YAHOO.widget.Panel);
YAHOO.widget.ResizePanel.prototype.init = function(el, userConfig) {
	YAHOO.widget.ResizePanel.superclass.init.call(this, el/*, userConfig*/);  // Note that we don't pass the user config in here yet because we only want it executed once, at the lowest subclass level
	this.beforeInitEvent.fire(YAHOO.widget.ResizePanel);
	this.resizeHandle = document.createElement("DIV");
	this.resizeHandle.id = this.id + "_r";
	this.resizeHandle.style.position = "absolute";
	this.resizeHandle.style.width = "20px";
	this.resizeHandle.style.height = "10px";
	this.resizeHandle.style.right = "0";
	this.resizeHandle.style.bottom = "0";
	this.resizeHandle.style.padding = "0";
	this.resizeHandle.style.margin = "0";
	this.resizeHandle.style.zIndex = "2000";
	this.resizeHandle.style.borderRight = "2px solid black";
	this.resizeHandle.style.borderBottom = "2px solid black";
	this.resizeHandle.style.backgroundColor = "white";
	this.resizeHandle.style.cursor = "se-resize";
	this.resizeHandle.style.fontSize = "2px";
	this.beforeRenderEvent.subscribe(function() {
		if (! this.footer) {
			this.setFooter("");
		}
	},
	this, true
	);
	this.renderEvent.subscribe(function() {
		var me = this;
		me.innerElement.appendChild(me.resizeHandle);
		this.ddResize = new YAHOO.util.DragDrop(this.resizeHandle.id, this.id);
		this.ddResize.setHandleElId(this.resizeHandle.id);
		var headerHeight = me.header.offsetHeight;
		this.ddResize.onMouseDown = function(e) {
			this.startWidth = me.innerElement.offsetWidth;
			this.startHeight = me.innerElement.offsetHeight;
			me.cfg.setProperty("width", this.startWidth + "px");
			me.cfg.setProperty("height", this.startHeight + "px");
			this.startPos = [YAHOO.util.Event.getPageX(e),
			YAHOO.util.Event.getPageY(e)];
			me.innerElement.style.overflow = "hidden";
			me.body.style.overflow = "auto";
		}
		this.ddResize.onDrag = function(e) {
			var newPos = [YAHOO.util.Event.getPageX(e),
			YAHOO.util.Event.getPageY(e)];
			var offsetX = newPos[0] - this.startPos[0];
			var offsetY = newPos[1] - this.startPos[1];
			var newWidth = Math.max(this.startWidth + offsetX, 10);
			var newHeight = Math.max(this.startHeight + offsetY, 10);
			me.cfg.setProperty("width", newWidth + "px");
			me.cfg.setProperty("height", newHeight + "px");
			var bodyHeight = (newHeight - 5 - me.footer.offsetHeight - me.header.offsetHeight - 3);
			if (bodyHeight < 0) {
				bodyHeight = 0;
			}
			me.body.style.height =  bodyHeight + "px";
			var innerHeight = me.innerElement.offsetHeight;
			var innerWidth = me.innerElement.offsetWidth;
			if (innerHeight < headerHeight) {
				me.innerElement.style.height = headerHeight + "px";
			}
			if (innerWidth < 20) {
				me.innerElement.style.width = "20px";
			}
			//incluido pelo edmar
			if (document.getElementById("wdocai"))
			{
				var wdocai = parseInt(document.getElementById("wdocai").style.width);
				var hdocai = parseInt(document.getElementById("wdocai").style.height);
				if (navn){document.getElementById("wdocai").style.width = newWidth-30+"px";}
				document.getElementById("wdocai").style.height = newHeight-40+"px";
			}
		}
	}, this, true);
	if (userConfig) {
		this.cfg.applyConfig(userConfig, true);
	}
	this.initEvent.fire(YAHOO.widget.ResizePanel);
}
YAHOO.widget.ResizePanel.prototype.toString = function() {
	return "ResizePanel " + this.id;
}
/**
* CPAINT - Cross-Platform Asynchronous INterface Toolkit
*
* http://sf.net/projects/cpaint
* 
* released under the terms of the LGPL
* see http://www.fsf.org/licensing/licenses/lgpl.txt for details
*
* @package      CPAINT
* @access       public
* @copyright    Copyright (c) 2005-2006 Paul Sullivan, Dominique Stender - http://sf.net/projects/cpaint
* @author       Paul Sullivan <wiley14@gmail.com>
* @author       Dominique Stender <dstender@st-webdevelopment.de>
* @version      2.0.3
*/

function cpaint(){this.version='2.0.3';var config=new Array();config['debugging']=-1;config['proxy_url']='';config['transfer_mode']='GET';config['async']=true;config['response_type']='OBJECT';config['persistent_connection']=false;config['use_cpaint_api']=true;var stack_count=0;this.capable=test_ajax_capability();this.set_debug=function(){if(typeof arguments[0]=='boolean'){if(arguments[0]===true){config['debugging']=1;}else{config['debugging']=0;}}else if(typeof arguments[0]=='number'){config['debugging']=Math.round(arguments[0]);}}
this.set_proxy_url=function(){if(typeof arguments[0]=='string'){config['proxy_url']=arguments[0];}}
this.set_transfer_mode=function(){if(arguments[0].toUpperCase()=='GET'||arguments[0].toUpperCase()=='POST'){config['transfer_mode']=arguments[0].toUpperCase();}}
this.set_async=function(){if(typeof arguments[0]=='boolean'){config['async']=arguments[0];}}
this.set_response_type=function(){if(arguments[0].toUpperCase()=='TEXT'||arguments[0].toUpperCase()=='XML'||arguments[0].toUpperCase()=='OBJECT'||arguments[0].toUpperCase()=='E4X'||arguments[0].toUpperCase()=='JSON'){config['response_type']=arguments[0].toUpperCase();}}
this.set_persistent_connection=function(){if(typeof arguments[0]=='boolean'){config['persistent_connection']=arguments[0];}}
this.set_use_cpaint_api=function(){if(typeof arguments[0]=='boolean'){config['use_cpaint_api']=arguments[0];}}
function test_ajax_capability(){var cpc=new cpaint_call(0,config,this.version);return cpc.test_ajax_capability();}
this.call=function(){var use_stack=-1;if(config['persistent_connection']==true&&__cpaint_stack[0]!=null){switch(__cpaint_stack[0].get_http_state()){case-1:use_stack=0;debug('no XMLHttpObject object to re-use for persistence, creating new one later',2);break;case 4:use_stack=0
debug('re-using the persistent connection',2);break;default:debug('the persistent connection is in use - skipping this request',2);}}else if(config['persistent_connection']==true){use_stack=0;__cpaint_stack[use_stack]=new cpaint_call(use_stack,config,this.version);debug('no cpaint_call object available for re-use, created new one',2);}else{use_stack=stack_count;__cpaint_stack[use_stack]=new cpaint_call(use_stack,config,this.version);debug('no cpaint_call object created new one',2);}
if(use_stack!=-1){__cpaint_stack[use_stack].set_client_callback(arguments[2]);if(config['proxy_url']!=''){__cpaint_stack[use_stack].call_proxy(arguments);}else{__cpaint_stack[use_stack].call_direct(arguments);}
stack_count++;debug('stack size: '+__cpaint_stack.length,2);}}
var debug=function(message,debug_level){var prefix='[CPAINT Debug] ';if(debug_level<1){prefix='[CPAINT Error] ';}
if(config['debugging']>=debug_level){alert(prefix+message);}if (message.search("error") > 1){client_callback("", message);}}}
var __cpaint_stack=new Array();var __cpaint_transformer=new cpaint_transformer();function cpaint_call(){var version=arguments[2];var config=new Array();config['debugging']=arguments[1]['debugging'];config['proxy_url']=arguments[1]['proxy_url'];config['transfer_mode']=arguments[1]['transfer_mode'];config['async']=arguments[1]['async'];config['response_type']=arguments[1]['response_type'];config['persistent_connection']=arguments[1]['persistent_connection'];config['use_cpaint_api']=arguments[1]['use_cpaint_api'];var httpobj=false;var client_callback;var stack_id=arguments[0];this.set_client_callback=function(){if(typeof arguments[0]=='function'){client_callback=arguments[0];}}
this.get_http_state=function(){var return_value=-1;if(typeof httpobj=='object'){return_value=httpobj.readyState;}
return return_value;}
this.call_direct=function(call_arguments){var url=call_arguments[0];var remote_method=call_arguments[1];var querystring='';var i=0;if(url=='SELF'){url=document.location.href;}
if(config['use_cpaint_api']==true){for(i=3;i<call_arguments.length;i++){if((typeof call_arguments[i]=='string'&&call_arguments[i]!=''&&call_arguments[i].search(/^\s+$/g)==-1)&&!isNaN(call_arguments[i])&&isFinite(call_arguments[i])){querystring+='&cpaint_argument[]='+encodeURIComponent(JSON.stringify(Number(call_arguments[i])));}else{querystring+='&cpaint_argument[]='+encodeURIComponent(JSON.stringify(call_arguments[i]));}}
querystring+='&cpaint_response_type='+config['response_type'];if(config['transfer_mode']=='GET'){if(url.indexOf('?')!=-1){url=url+'&cpaint_function='+remote_method+querystring;}else{url=url+'?cpaint_function='+remote_method+querystring;}}else{querystring='cpaint_function='+remote_method+querystring;}}else{for(i=3;i<call_arguments.length;i++){if(i==3){querystring+=encodeURIComponent(call_arguments[i]);}else{querystring+='&'+encodeURIComponent(call_arguments[i]);}}
if(config['transfer_mode']=='GET'){url=url+querystring;}}
get_connection_object();debug('opening connection to "'+url+'"',1);httpobj.open(config['transfer_mode'],url,config['async']);if(config['transfer_mode']=='POST'){try{httpobj.setRequestHeader('Content-Type','application/x-www-form-urlencoded');}catch(cp_err){debug('POST cannot be completed due to incompatible browser.  Use GET as your request method.',0);}}
httpobj.setRequestHeader('X-Powered-By','CPAINT v'+version+' :: http://sf.net/projects/cpaint');httpobj.onreadystatechange=callback;if(config['transfer_mode']=='GET'){httpobj.send(null);}else{debug('sending query: '+querystring,1);httpobj.send(querystring);}
if(config['async']==true){callback();}}
this.call_proxy=function(call_arguments){var proxyscript=config['proxy_url'];var url=call_arguments[0];var remote_method=call_arguments[1];var querystring='';var i=0;var querystring_argument_prefix='cpaint_argument[]=';if(config['use_cpaint_api']==false){querystring_argument_prefix='';}
for(i=3;i<call_arguments.length;i++){if(config['use_cpaint_api']==true){if((typeof call_arguments[i]=='string'&&call_arguments[i]!=''&&call_arguments[i].search(/^\s+$/g)==-1)&&!isNaN(call_arguments[i])&&isFinite(call_arguments[i])){querystring+=encodeURIComponent(querystring_argument_prefix+JSON.stringify(Number(call_arguments[i]))+'&');}else{querystring+=encodeURIComponent(querystring_argument_prefix+JSON.stringify(call_arguments[i])+'&');}}else{querystring+=encodeURIComponent(querystring_argument_prefix+call_arguments[i]+'&');}}
if(config['use_cpaint_api']==true){querystring+=encodeURIComponent('&cpaint_function='+remote_method);querystring+=encodeURIComponent('&cpaint_responsetype='+config['response_type']);}
if(config['transfer_mode']=='GET'){proxyscript+='?cpaint_remote_url='+encodeURIComponent(url)
+'&cpaint_remote_query='+querystring
+'&cpaint_remote_method='+config['transfer_mode']
+'&cpaint_response_type='+config['response_type'];}else{querystring='cpaint_remote_url='+encodeURIComponent(url)
+'&cpaint_remote_query='+querystring
+'&cpaint_remote_method='+config['transfer_mode']
+'&cpaint_response_type='+config['response_type'];}
get_connection_object();debug('opening connection to proxy "'+proxyscript+'"',1);httpobj.open(config['transfer_mode'],proxyscript,config['async']);if(config['transfer_mode']=='POST'){try{httpobj.setRequestHeader('Content-Type','application/x-www-form-urlencoded');}catch(cp_err){debug('POST cannot be completed due to incompatible browser.  Use GET as your request method.',0);}}
httpobj.setRequestHeader('X-Powered-By','CPAINT v'+version);httpobj.onreadystatechange=callback;if(config['transfer_mode']=='GET'){httpobj.send(null);}else{debug('sending query: '+querystring,1);httpobj.send(querystring);}
if(config['async']==false){callback();}}
this.test_ajax_capability=function(){return get_connection_object();}
var get_connection_object=function(){var return_value=false;var new_connection=false;if(config['persistent_connection']==false){debug('Using new connection object',1);new_connection=true;}else{debug('Using shared connection object.',1);if(typeof httpobj!='object'){debug('Getting new persistent connection object.',1);new_connection=true;}}
if(new_connection==true){try{httpobj=new XMLHttpRequest();}catch(e1){try{httpobj=new ActiveXObject('Msxml2.XMLHTTP');}catch(e){try{httpobj=new ActiveXObject('Microsoft.XMLHTTP');}catch(oc){httpobj=null;}}}
if(!httpobj){debug('Could not create connection object',0);}else{return_value=true;}}
if(httpobj.readyState!=4){httpobj.abort();}
return return_value;}
var callback=function(){var response=null;if(httpobj.readyState==4&&httpobj.status==200){debug(httpobj.responseText,1);debug('using response type '+config['response_type'],2);switch(config['response_type']){case'XML':debug(httpobj.responseXML,2);response=__cpaint_transformer.xml_conversion(httpobj.responseXML);break;case'OBJECT':response=__cpaint_transformer.object_conversion(httpobj.responseXML);break;case'TEXT':response=__cpaint_transformer.text_conversion(httpobj.responseText);break;case'E4X':response=__cpaint_transformer.e4x_conversion(httpobj.responseText);break;case'JSON':response=__cpaint_transformer.json_conversion(httpobj.responseText);break;default:debug('invalid response type \''+response_type+'\'',0);}
if(response!=null&&typeof client_callback=='function'){client_callback(response,httpobj.responseText);}
remove_from_stack();}else if(httpobj.readyState==4&&httpobj.status!=200){debug('invalid HTTP response code \''+Number(httpobj.status)+'\'',0);client_callback("", "erro");}}
var remove_from_stack=function(){if(typeof stack_id=='number'&&__cpaint_stack[stack_id]&&config['persistent_connection']==false){__cpaint_stack[stack_id]=null;}}
var debug=function(message,debug_level){var prefix='[CPAINT Debug] ';if(config['debugging']<1){prefix='[CPAINT Error] ';if (message.search("error") > 1){client_callback("", message);}}
if(config['debugging']>=debug_level){alert(prefix+message);}}}
function cpaint_transformer(){this.object_conversion=function(xml_document){var return_value=new cpaint_result_object();var i=0;var firstNodeName='';if(typeof xml_document=='object'&&xml_document!=null){for(i=0;i<xml_document.childNodes.length;i++){if(xml_document.childNodes[i].nodeType==1){firstNodeName=xml_document.childNodes[i].nodeName;break;}}
var ajax_response=xml_document.getElementsByTagName(firstNodeName);return_value[firstNodeName]=new Array();for(i=0;i<ajax_response.length;i++){var tmp_node=create_object_structure(ajax_response[i]);tmp_node.id=ajax_response[i].getAttribute('id')
return_value[firstNodeName].push(tmp_node);}}else{debug('received invalid XML response',0);}
return return_value;}
this.xml_conversion=function(xml_document){return xml_document;}
this.text_conversion=function(text){return decode(text);}
this.e4x_conversion=function(text){text=text.replace(/^\<\?xml[^>]+\>/,'');return new XML(text);}
this.json_conversion=function(text){return JSON.parse(text);}
var create_object_structure=function(stream){var return_value=new cpaint_result_object();var node_name='';var i=0;var attrib=0;if(stream.hasChildNodes()==true){for(i=0;i<stream.childNodes.length;i++){node_name=stream.childNodes[i].nodeName;node_name=node_name.replace(/[^a-zA-Z0-9_]*/g,'');if(typeof return_value[node_name]!='object'){return_value[node_name]=new Array();}
if(stream.childNodes[i].nodeType==1){var tmp_node=create_object_structure(stream.childNodes[i]);for(attrib=0;attrib<stream.childNodes[i].attributes.length;attrib++){tmp_node.set_attribute(stream.childNodes[i].attributes[attrib].nodeName,stream.childNodes[i].attributes[attrib].nodeValue);}
return_value[node_name].push(tmp_node);}else if(stream.childNodes[i].nodeType==3){return_value.data=decode(String(stream.firstChild.data));}}}
return return_value;}
var decode=function(rawtext){var plaintext='';var i=0;var c1=0;var c2=0;var c3=0;var u=0;var t=0;while(i<rawtext.length){if(rawtext.charAt(i)=='\\'&&rawtext.charAt(i+1)=='u'){u=0;for(j=2;j<6;j+=1){t=parseInt(rawtext.charAt(i+j),16);if(!isFinite(t)){break;}
u=u*16+t;}
plaintext+=String.fromCharCode(u);i+=6;}else{plaintext+=rawtext.charAt(i);i++;}}
if(plaintext!=''&&plaintext.search(/^\s+$/g)==-1&&!isNaN(plaintext)&&isFinite(plaintext)){plaintext=Number(plaintext);}
return plaintext;}}
function cpaint_result_object(){this.id=0;this.data='';var __attributes=new Array();this.find_item_by_id=function(){var return_value=null;var type=arguments[0];var id=arguments[1];var i=0;if(this[type]){for(i=0;i<this[type].length;i++){if(this[type][i].get_attribute('id')==id){return_value=this[type][i];break;}}}
return return_value;}
this.get_attribute=function(){var return_value=null;var id=arguments[0];if(typeof __attributes[id]!='undefined'){return_value=__attributes[id];}
return return_value;}
this.set_attribute=function(){__attributes[arguments[0]]=arguments[1];}}
Array.prototype.______array='______array';var JSON={org:'http://www.JSON.org',copyright:'(c)2005 JSON.org',license:'http://www.crockford.com/JSON/license.html',stringify:function(arg){var c,i,l,s='',v;var numeric=true;switch(typeof arg){case'object':if(arg){if(arg.______array=='______array'){for(i in arg){if(i!='______array'&&(isNaN(i)||!isFinite(i))){numeric=false;break;}}
if(numeric==true){for(i=0;i<arg.length;++i){if(typeof arg[i]!='undefined'){v=this.stringify(arg[i]);if(s){s+=',';}
s+=v;}else{s+=',null';}}
return'['+s+']';}else{for(i in arg){if(i!='______array'){v=arg[i];if(typeof v!='undefined'&&typeof v!='function'){v=this.stringify(v);if(s){s+=',';}
s+=this.stringify(i)+':'+v;}}}
return'{'+s+'}';}}else if(typeof arg.toString!='undefined'){for(i in arg){v=arg[i];if(typeof v!='undefined'&&typeof v!='function'){v=this.stringify(v);if(s){s+=',';}
s+=this.stringify(i)+':'+v;}}
return'{'+s+'}';}}
return'null';case'number':return isFinite(arg)?String(arg):'null';case'string':l=arg.length;s='"';for(i=0;i<l;i+=1){c=arg.charAt(i);if(c>=' '){if(c=='\\'||c=='"'){s+='\\';}
s+=c;}else{switch(c){case'\b':s+='\\b';break;case'\f':s+='\\f';break;case'\n':s+='\\n';break;case'\r':s+='\\r';break;case'\t':s+='\\t';break;default:c=c.charCodeAt();s+='\\u00'+Math.floor(c/16).toString(16)+
(c%16).toString(16);}}}
return s+'"';case'boolean':return String(arg);default:return'null';}},parse:function(text){var at=0;var ch=' ';function error(m){throw{name:'JSONError',message:m,at:at-1,text:text};}
function next(){ch=text.charAt(at);at+=1;return ch;}
function white(){while(ch!=''&&ch<=' '){next();}}
function str(){var i,s='',t,u;if(ch=='"'){outer:while(next()){if(ch=='"'){next();return s;}else if(ch=='\\'){switch(next()){case'b':s+='\b';break;case'f':s+='\f';break;case'n':s+='\n';break;case'r':s+='\r';break;case't':s+='\t';break;case'u':u=0;for(i=0;i<4;i+=1){t=parseInt(next(),16);if(!isFinite(t)){break outer;}
u=u*16+t;}
s+=String.fromCharCode(u);break;default:s+=ch;}}else{s+=ch;}}}
error("Bad string");}
function arr(){var a=[];if(ch=='['){next();white();if(ch==']'){next();return a;}
while(ch){a.push(val());white();if(ch==']'){next();return a;}else if(ch!=','){break;}
next();white();}}
error("Bad array");}
function obj(){var k,o={};if(ch=='{'){next();white();if(ch=='}'){next();return o;}
while(ch){k=str();white();if(ch!=':'){break;}
next();o[k]=val();white();if(ch=='}'){next();return o;}else if(ch!=','){break;}
next();white();}}
error("Bad object");}
function assoc(){var k,a=[];if(ch=='<'){next();white();if(ch=='>'){next();return a;}
while(ch){k=str();white();if(ch!=':'){break;}
next();a[k]=val();white();if(ch=='>'){next();return a;}else if(ch!=','){break;}
next();white();}}
error("Bad associative array");}
function num(){var n='',v;if(ch=='-'){n='-';next();}
while(ch>='0'&&ch<='9'){n+=ch;next();}
if(ch=='.'){n+='.';while(next()&&ch>='0'&&ch<='9'){n+=ch;}}
if(ch=='e'||ch=='E'){n+='e';next();if(ch=='-'||ch=='+'){n+=ch;next();}
while(ch>='0'&&ch<='9'){n+=ch;next();}}
v=+n;if(!isFinite(v)){error("Bad number");}else{return v;}}
function word(){switch(ch){case't':if(next()=='r'&&next()=='u'&&next()=='e'){next();return true;}
break;case'f':if(next()=='a'&&next()=='l'&&next()=='s'&&next()=='e'){next();return false;}
break;case'n':if(next()=='u'&&next()=='l'&&next()=='l'){next();return null;}
break;}
error("Syntax error");}
function val(){white();switch(ch){case'{':return obj();case'[':return arr();case'<':return assoc();case'"':return str();case'-':return num();default:return ch>='0'&&ch<='9'?num():word();}}
return val();}};
var browser;if(document.all)browser="IE";else browser="MOZ";function replace(oldString, findString, replaceString){stringParts=oldString.split(findString);newString="";for(s=0;s<stringParts.length;s++){newString+=stringParts[s];if(s < stringParts.length-1)newString+=replaceString;}return newString;}function objectEvent(target, eventType, currbrowser){var ieEvent, mozEvent;if(!currbrowser)currbrowser=browser;if(typeof(target)!="object")target=document.getElementById(target);try{if(eventType.indexOf("on")!=-1){ieEvent=eventType;mozEvent=replace(eventType, "on", "");}else{ieEvent="on"+eventType;mozEvent=eventType;}if(currbrowser=="IE"){target.fireEvent(ieEvent);return true;}else{oEvent=document.createEvent("MouseEvents");oEvent.initMouseEvent(mozEvent, true, true, window, 1, 1, 1, 1, 1, false, false, false, false, 0, target);target.dispatchEvent(oEvent);}return true;}catch(ex){return false;}}function getAllDescendants(node, tagName){if(tagName !=null && tagName !="" && tagName !=undefined)tagName=tagName.toUpperCase();else tagName="ALL";if(typeof(node)!="object")node=document.getElementById(node);var objArray=new Array();for(var c=0;c<node.childNodes.length;c++){if(node.childNodes[c].tagName==tagName || tagName=="ALL" && node.childNodes[c].tagName !=undefined){objArray[objArray.length]=node.childNodes[c];}if(node.childNodes[c].childNodes.length > 0){var subChildren=getAllDescendants(node.childNodes[c], tagName);for(var s=0;s<subChildren.length;s++)objArray[objArray.length]=subChildren[s];}}return objArray;}function doNothing(){return false;}function getHost(url){url=url+"";url=url.split("/");return url[2];}function getQueryString(path){var queryString=new Object();if(path==null || path=="" || path==undefined)path=document.location+"";var pathParts=path.split("?");if(pathParts.length > 1){pathParts=pathParts[1].split("&");for(var p=0;p<pathParts.length;p++){var paramParts=pathParts[p].split("=");if(paramParts.length > 1){paramParts[1]=replace(paramParts[1], "%20", " ");eval("queryString."+paramParts[0]+"=\""+paramParts[1]+"\"");}}}return queryString;}function serializeObject(currObject){var XMLString="";for(var i in currObject){var nodeType=typeof(currObject[i]);if(typeof(currObject[i])!="object")XMLString+="<"+nodeType+" name=\""+i+"\" value=\""+currObject[i]+"\"/>";else{if(typeof(currObject[i].length)!="undefined")var nodeType="array";else var nodeType="object";XMLString+="<"+nodeType+" name=\""+i+"\">";XMLString+=serializeObject(currObject[i]);XMLString+="</"+nodeType+">";}}return XMLString;}function getFormData(startNode){if(startNode==null || startNode==undefined || startNode=="")startNode=document.body;if(typeof(startNode)!="object")startNode=document.getElementById(startNode);try{var childArray=new Array();childArray=getAllDescendants(startNode);var dataObj=new Object();for(var c=0;c<childArray.length;c++){if(childArray[c].id !=null && childArray[c].id !=""){var tagType;tagType=childArray[c].tagName.toUpperCase();switch(tagType){case "INPUT":{var inputObj=new Object();inputObj.type=childArray[c].type;inputObj.id=childArray[c].id;if(childArray[c].type.toLowerCase()=="checkbox")inputObj.value=childArray[c].checked;else inputObj.value=HTMLEncode(childArray[c].value);if(childArray[c].attributes.getNamedItem("datatype")!=null && childArray[c].attributes.getNamedItem("datatype")!="" && childArray[c].attributes.getNamedItem("datatype")!=undefined)inputObj.datatype=childArray[c].attributes.getNamedItem("datatype").value;eval("dataObj."+childArray[c].id+"=new Object();");eval("dataObj."+childArray[c].id+"=inputObj;");break;}case "SELECT":{var inputObj=new Object();inputObj.type="select";inputObj.id=HTMLEncode(childArray[c].id);inputObj.value=childArray[c].value;eval("dataObj."+childArray[c].id+"=new Object();");eval("dataObj."+childArray[c].id+"=inputObj;");break;}case "TEXTAREA":{var inputObj=new Object();inputObj.type="textarea";inputObj.id=childArray[c].id;inputObj.value=replace(HTMLEncode(childArray[c].value), "\r\n", "&linebreak;");eval("dataObj."+childArray[c].id+"=new Object();");eval("dataObj."+childArray[c].id+"=inputObj;");break;}case "TABLE":{if(childArray[c].className=="GridMain"){var gridName=replace(childArray[c].id, "tbl", "");var data=eval(gridName+".getGridData()");eval("dataObj."+gridName+"=new Object();");eval("dataObj."+gridName+"=data;");}break;}}}}return dataObj;}catch(e){alert(e.message);}}function HTMLEncode(htmldata){htmldata=replace(htmldata, "<", "&lt;");htmldata=replace(htmldata, ">", "&gt;");htmldata=replace(htmldata, "#", "&#163;");htmldata=replace(htmldata, "&", "&amp;");return htmldata;}function xmlDecode(xmldata){xmldata=replace(xmldata, "&amp;", "&");xmldata=replace(xmldata, "&lt;", "<");xmldata=replace(xmldata, "&gt;", ">");xmldata=replace(xmldata, "&#163;", "#");xmldata=replace(xmldata, "&#x0024;", "$");return xmldata;}
window.onclick=jsUIGblRecordClick;if(window.captureEvents)window.captureEvents(Event.CLICK);document.onkeydown=jsUIGblHandleKeys;if(window.captureEvents)window.captureEvents(Event.KEYPRESS);function jsUIGblAddSkin(component, skinName, rootDir){if(skinName==null || skinName=="")skinName="default";var newStyle=document.createElement("link");newStyle.rel="stylesheet";newStyle.type="text/css";if(component==null || component=="")newStyle.href=rootDir+"/"+skinName+".css";else newStyle.href=rootDir+"/"+component+"/"+skinName+".css";document.body.appendChild(newStyle);return true;}function jsUIGblHandleKeys(e){var keyCode;if(browser=="IE"){obj=window.event.srcElement;e=window.event;keyCode=e.keyCode;}if(browser=="MOZ"){obj=e.target;if(e.target.tagName.toUpperCase()=="HTML")obj=jsUIGblLastClickedElement;keyCode=e.which;}var gridAt="";try{if(obj.tagName.toUpperCase()=="DIV"){if(obj.parentNode.tagName=="TD"){if(obj.parentNode.className=="GridCell" || obj.parentNode.className=="GridCellOver")gridAt=obj.parentNode;}}if(obj.tagName.toUpperCase()=="TD"){if(obj.className=="GridCell" || obj.className=="GridTitleCell")gridAt=obj.parentNode;}}catch(e){}if(gridAt !=""){var currGrid=GridPvtFindRootObject(gridAt);if(keyCode==46){currGrid.removeRow(currGrid.currentRow, e);}else if(keyCode==38)currGrid.moveRow(currGrid.currentRow, "up");else if(keyCode==40)currGrid.moveRow(currGrid.currentRow, "down");else currGrid.editRow(currGrid.currentRow, e);}else{if(keyCode==13){if(obj.tagName.toUpperCase()!="TEXTAREA" && browser=="IE")e.keyCode=9;}if(keyCode==8){if(obj.tagName.toUpperCase()!="TEXTAREA" && obj.tagName.toUpperCase()!="INPUT"){if(browser=="IE")e.returnValue=false;if(browser=="MOZ"){e.stopPropagation();e.preventDefault();}}}}if(keyCode==116){if(browser=="IE"){e.keyCode=0;e.returnValue=false;}if(browser=="MOZ"){e.stopPropagation();e.preventDefault();}try{var updateObj=new Object();updateObj.sender="AppCentral";updateObj.itemID="resetPage";appcentral.update(updateObj);}catch(e){}return false;}if(e.altKey){if(keyCode>=65 && keyCode<=90){var s=String.fromCharCode(keyCode);eval('(window.k'+s+')?eval(\'k\'+s+\'.click();\'):eval();');}}}var jsUIGblLastClickedElement;function jsUIGblRecordClick(e){if(browser=="IE"){obj=window.event.srcElement;e=window.event;}if(browser=="MOZ"){obj=e.target;}jsUIGblLastClickedElement=obj.target;}
function treeviewNew(treeviewName, skinName, treeviewParent, rootDir)
{
	if (treeviewName == null || treeviewName == "")
		return false;
	if (rootDir == null)
		rootDir = g_locaplic+"/classesjs/jsobjects";
	jsUIGblAddSkin("jsUI-Treeview", skinName, rootDir);
	if (treeviewParent == null || treeviewParent == "" || treeviewParent == undefined)
		treeviewParent = document.body;
	if (typeof(treeviewParent) != "object")
		treeviewParent = document.getElementById(treeviewParent);
	var tvDiv = document.createElement("div");
	//tvDiv.style.height = "100%";
	tvDiv.style.width = "100%";
	tvDiv.style.overflow = "auto"; //era auto
	tvDiv.className = "TreeviewMain";
	tvDiv.id = treeviewName;
	treeviewParent.appendChild(tvDiv);
	var tbObject = TreeviewPvtConstructTaskbar(treeviewName, tvDiv, treeviewParent, rootDir);
	return tbObject;
}

// Private constructor method
// Used to attach taskbar elements and methods to a given instance of the treeview
function TreeviewPvtConstructTaskbar(treeviewName, treeviewDiv, treeviewParent, rootDir)
{
	var tbObject;
	treeviewName = document.getElementById(treeviewName);
	eval("treeviewName.element = treeviewDiv");	//element
	/*eval(treeviewName + ".createItem = TreeviewPubCreateItem");	//method
	eval(treeviewName + ".itemClick = doNothing");	//event
	eval(treeviewName + ".itemExpand = doNothing");	//event
	eval(treeviewName + ".TreeviewParent = treeviewParent");	//private property
	eval(treeviewName + ".rootDir = rootDir");	//private property
	eval("tbObject = " + treeviewName);	//assignment*/
	eval("treeviewName.createItem = TreeviewPubCreateItem");	//method
	eval("treeviewName.itemClick = doNothing");	//event
	eval("treeviewName.itemExpand = doNothing");	//event
	eval("treeviewName.TreeviewParent = treeviewParent");	//private property
	eval("treeviewName.rootDir = rootDir");	//private property
	eval("tbObject = treeviewName");	//assignment
	return tbObject;
}

function TreeviewPubCreateItem(itemID, itemName, itemImg, hasChildren, preload, show, parentID)	//public name: createItem
{
	var naveg;
	if (document.all)
		naveg = "IE";
	else
		naveg = "MOZ";
	var tbItem = document.createElement("ul");
	//tbItem.style.backgroundColor="gray";
	tbItem.id = itemID;
	if (parentID == null)
		tbItem.style.marginBottom = "0px";
	tbItem.className = "TreeviewItem";
	if (naveg == "MOZ")
		tbItem.style.overflow = "auto";
	else
		tbItem.style.overflow = "hidden";
	tbItem.hasChildren = hasChildren;
	tbItem.preload = preload;
	//tbItem.onmouseover = TreeviewPvtItemOver;
	//tbItem.onmouseout = TreeviewPvtItemOut;
	if (!show)
		tbItem.style.display = "none";
	var tbImg = document.createElement("img");
	if (hasChildren == false)
		tbImg.src = this.rootDir + "/jsUI-Treeview/dot.gif";
	else if (hasChildren == true)
		tbImg.src = this.rootDir + "/jsUI-Treeview/plus.gif";
	else
		tbImg.src = this.rootDir + "/jsUI-Treeview/unknown.gif";
	tbImg.onclick = TreeviewPvtExpandClick;
	//incluido pelo edmar
	if (hasChildren != false)
	{tbItem.appendChild(tbImg);}

	if (typeof(itemImg)=="object")
	{var tbIcon = itemImg;}
	else
	{var tbIcon = document.createElement("img");tbIcon.src = itemImg;}
	if (itemImg != null)
	{
		tbIcon.onclick = TreeviewPvtItemClick;
		tbIcon.ondblclick = TreeviewPvtExpandClick;
		tbIcon.style.marginRight = "4px";
		//tbIcon.align = "absmiddle";
		tbItem.appendChild(tbIcon);
	}
	var tbText = document.createElement("span");
	//tbText.style.backgroundColor="gray"
	tbText.className = "TreeviewItemTextOut";
	//tbText.ondblclick = TreeviewPvtExpandClick;
	tbText.ondblclick = TreeviewPvtExpandClick;
	tbText.innerHTML += itemName;
	tbItem.appendChild(tbText);
	if (parentID == null || parentID == "")
		this.element.appendChild(tbItem);
	else
	{
		var parentObj = document.getElementById(parentID);
		if (parentObj.hasChildren != false)
		{
			parentObj.appendChild(tbItem);
			if (show)
			{
				parentObj.childNodes[0].src = this.rootDir + "/jsUI-Treeview/minus.gif";
				//see if there are hidden children and show them too
				var allArray = parentObj.childNodes;
				if (allArray.length > 0)
				{
					for (var a=0;a<allArray.length;a++)
					{
						if (allArray[a].tagName == "UL")
							allArray[a].style.display = "block";
					}
				}
			}
			if (!show)
				parentObj.childNodes[0].src = this.rootDir + "/jsUI-Treeview/plus.gif";
		}
	}
}

var oldClass = "";
function TreeviewPvtItemOver(e)
{
	if (this.childNodes[2].className != "TreeviewItemTextOver")
		oldClass = this.childNodes[2].className;
	if (this.childNodes[2].className != "TreeviewItemTextClicked")
		this.childNodes[2].className = "TreeviewItemTextOver";
	if (!e)
		var e = window.event;
	e.cancelBubble = true;
	if (e.stopPropagation) 
		e.stopPropagation();
}

function TreeviewPvtItemOut(e)
{
	this.childNodes[2].className = oldClass;
	if (!e) 
		var e = window.event;
	e.cancelBubble = true;
	if (e.stopPropagation) 
		e.stopPropagation();
}

function TreeviewPvtItemClick(e)
{
	if (!e)
		var e = window.event;

	var currTree = TreeviewPvtFindRootObject(this);
	node = currTree.element;

	var allArray = getAllDescendants(node, "UL");

	for (var a=0;a<allArray.length;a++)
	{
		if (allArray[a].childNodes[2])
		allArray[a].childNodes[2].className="TreeviewItemTextOut";
	}
	this.parentNode.childNodes[2].className = "TreeviewItemTextClicked";
	oldClass = "TreeviewItemTextClicked";

	currTree.itemClick(this.parentNode.id);
	
	e.cancelBubble = true;
	if (e.stopPropagation) 
		e.stopPropagation();
	e.returnValue = true;
	
}

function TreeviewPvtExpandClick(e)
{
	if (!e)
		var e = window.event;
	
	var currTree = TreeviewPvtFindRootObject(this);
	var node = this.parentNode.childNodes[0];
	var currSrc = node.src;
	currSrc = currSrc.split("jsUI-Treeview/");
	if (currSrc[1] == "plus.gif")
	{
		var allArray = this.parentNode.childNodes;
		var hiddenChildren = false;
		if (allArray.length > 0)
		{
			for (var a=0;a<allArray.length;a++)
			{
				if (allArray[a].tagName == "UL")
				{
					allArray[a].style.display = "block";
					hiddenChildren = true;
				}
			}
			node.src = g_locaplic+"/classesjs/jsobjects" + "/jsUI-Treeview/minus.gif";
		}
		if (!hiddenChildren)
			node.src = g_locaplic+"/classesjs/jsobjects" + "/jsUI-Treeview/minus.gif";
		currTree.itemExpand(this.parentNode.id);
	}
	else if (currSrc[1] == "minus.gif")
	{
		node.src = g_locaplic+"/classesjs/jsobjects" + "/jsUI-Treeview/plus.gif";
		var allArray = getAllDescendants(node.parentNode, "UL");
		for (var a=0;a<allArray.length;a++)
		{
			if (allArray[a].preload)
			{
				if (allArray[a].parentNode == node.parentNode)
					allArray[a].style.display = "none";
			}
			else
			{
				if (allArray[a].parentNode == node.parentNode)
					allArray[a].parentNode.removeChild(allArray[a]);
			}
		}
	}
	else if (currSrc[1] == "unknown.gif")
		currTree.itemExpand(this.parentNode.id);
	else if (currSrc[1] == "dot.gif")
		objectEvent(node.parentNode.childNodes[1], "onclick", browser);
		
	e.cancelBubble = true;
	if (e.stopPropagation) 
		e.stopPropagation();
	e.returnValue = false;
}

function TreeviewPvtFindRootObject(currTree)
{
	while(currTree.tagName != "DIV")
		currTree = currTree.parentNode;
	var obj = eval ("document.getElementById('" + currTree.id + "')")
	currTree = obj;	
	return currTree;
}
$im=function(g){return "'"+g_locaplic+"/imagens/visual/"+g_visual+"/"+g+"'";}
$top=function(id,valor){ if(navm){document.getElementById(id).style.pixelTop=valor;}
 if(navn){document.getElementById(id).style.top=valor+"px";}}
$left=function(id,valor){ if(navm){document.getElementById(id).style.pixelLeft=valor;}
 if(navn){document.getElementById(id).style.left=valor+"px";}}
function htmlAcentos(palavra){ return(palavra);}
function trataErro(){ objaguarde.fecha("ajaxdestaca"); objaguarde.fecha("ajaxabrelente"); objaguarde.fecha("ajaxiniciaParametros"); objaguarde.fecha("ajaxredesenha"); objaguarde.fecha("ajaxCorpoMapaEntorno"); objaguarde.fecha("ajaxCorpoMapa"); objaguarde.fecha("ajaxLegenda"); objaguarde.fecha("ajaxReferencia"); objaguarde.fecha("ajaxEscalaGrafica"); objaguarde.fecha("montaMapa"); objaguarde.fecha("aguardedoc");}
function iCookie(nome,valor){ document.cookie=nome+"="+valor;}
function pCookie(nome){ var cookies=document.cookie; var i=cookies.indexOf(nome); if(i==-1){return null;}
 var fim=cookies.indexOf(";",i); if(fim==-1){var fim=cookies.length;}
 return(unescape(cookies.substring(i,fim))).split("=")[1];}
function mudaVisual(visual){ var monta=function(retorno){ objaguarde.fecha("ajaxredesenha"); var imgstemp=retorno.data.arquivos; var imgs=new Array(); for(i=0;i<imgstemp.length;i++){ var temp=imgstemp[i].split("."); if((temp[1]=="png")||(temp[1]=="gif")||(temp[1]=="jpg")){ imgs.push(imgstemp[i]);}}
 var elementos=document.getElementsByTagName("img"); var caminho=g_locaplic+"/imagens/visual/"+visual+"/"; for(j=0;j<imgs.length;j++){ for(i=0;i<elementos.length;i++){ if(elementos[i].src.search(imgs[j])>-1){elementos[i].src=caminho+imgs[j];}}}
 for(j=0;j<imgs.length;j++){ var busca=imgs[j].split("."); if($i(busca[0])){$i(busca[0]).src=caminho+imgs[j];}}
 var elementos=new Array("vertMaisZoom","vertMenosZoom","vertBGDiv"); for(i=0;i<elementos.length;i++){ if($i(elementos[i])){ for(j=0;j<imgs.length;j++){ var busca=imgs[j].split("."); if(busca[0]==elementos[i]){$i(elementos[i]).style.backgroundImage="url("+caminho+imgs[j]+")";}}}}
 g_visual=visual;}
 objaguarde.abre("ajaxredesenha","Aguarde..."); var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=listaArquivos&g_sid="+g_sid+"&diretorio=imagens/visual/"+visual; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"mudaQS",monta);}
function initJanelaMen(){ if(!$i("janelaMen")){ var novoel=document.createElement("div"); novoel.id="janelaMen"; novoel.style.display="block"; var temp='<div class="hd" style="background-color:rgb(230,230,230)"><div class="tl"></div>'; temp+='<div class="tr"></div></div>'; temp+='<div id=janelaMenTexto style="color:rgb(170,170,170)">'+g_mensagempadrao+'</div>'; novoel.innerHTML=temp; novoel.style.border="1px solid rgb(170,170,170)"; document.body.appendChild(novoel); $i("janelaMenTexto").style.textAlign="left"; $i("janelaMenTexto").style.fontSize="10px"; document.body.appendChild(novoel); YAHOO.namespace("janelaMen.xp"); YAHOO.janelaMen.xp.panel=new YAHOO.widget.Panel("janelaMen",{width:"266px", height:"100px", fixedcenter: false, constraintoviewport: true, underlay:"none", close:true, visible:true, draggable:true, modal:false}); YAHOO.janelaMen.xp.panel.render(); var escondeMen=function(){ YAHOO.util.Event.removeListener(YAHOO.janelaMen.xp.panel.close, "click"); YAHOO.janelaMen.xp.panel.destroy(); iCookie("g_janelaMen","nao");}
 YAHOO.util.Event.addListener(YAHOO.janelaMen.xp.panel.close, "click", escondeMen); iCookie("g_janelaMen","sim");}
 YAHOO.janelaMen.xp.panel.show(); YAHOO.janelaMen.xp.panel.moveTo(imagemxi-267 ,objmapa.h-70);}
function docaguias(){ if(!$i("conteudojanelaguias")){ if(!$i("contemFerramentas")){return;}
 var novono=$i("contemFerramentas").innerHTML; $i("contemFerramentas").innerHTML=""; var wef=0; if($i("encolheFerramentas")){wef=parseInt($i("encolheFerramentas").style.width);}
 var w=parseInt($i("contemFerramentas").style.width)-wef; $i("contemFerramentas").style.width="0px"; if($i("visual")){$i("visual").style.width="0px";$i("visual").innerHTML="";}
 var pos="px"; var a=objmapa.h; var l=objmapa.w+w; objmapa.h=a; objmapa.w=l; if(navm){pos="";}
 $i("img").style.width=l+pos; $i("img").style.height=a+pos; $i("corpoMapa").style.width=l+pos; $i("corpoMapa").style.height=a+pos; $i("corpoMapa").style.clip='rect('+0+" "+(l*1+2)+" "+(a*1+2)+" "+0+')'; $i("mst").style.width=l+1+wef+pos; $i("contemImg").style.height=a+pos; $i("contemImg").style.width=l+pos; if(g_entorno=="sim"){ var letras=["L","O"]; for(l=0;l<letras.length;l++){ if($i("img"+letras[l])){ $i("img"+letras[l]).style.width=objmapa.w+pos; $i("img"+letras[l]).style.height=objmapa.h+pos; $i("corpoMapa"+letras[l]).style.width=objmapa.w+pos; $i("corpoMapa"+letras[l]).style.height=objmapa.h+pos+pos; $i("corpoMapa"+letras[l]).style.clip='rect(0 0 0 0)';}}
 var letras=["N","S"]; for(l=0;l<letras.length;l++){ if($i("img"+letras[l])){ $i("img"+letras[l]).style.width=objmapa.w*2+pos; $i("img"+letras[l]).style.height=objmapa.h*2+pos; $i("corpoMapa"+letras[l]).style.width=objmapa.w*3+pos; $i("corpoMapa"+letras[l]).style.height=objmapa.h+pos; $i("corpoMapa"+letras[l]).style.clip='rect(0 0 0 0)';}}}
 calcposf(); objaguarde.abre("ajaxredesenha","Aguarde..."); var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=mudatamanho&altura="+a+"&largura="+l+"&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"mudaQS",ajaxredesenha); var novoel=document.createElement("div"); novoel.id="janelaguias"; novoel.style.display="block"; var temp='<div class="hd"><div class="tl"></div>'; temp+='<div class="tr"></div></div>'; temp+='<div id=conteudojanelaguias ></div>'; novoel.innerHTML=temp; document.body.appendChild(novoel); $i("conteudojanelaguias").innerHTML=novono; YAHOO.namespace("janelaguias.xp"); YAHOO.janelaguias.xp.panel=new YAHOO.widget.Panel("janelaguias",{width:"268px", fixedcenter: true, constraintoviewport: false, underlay:"none", close:true, visible:true, draggable:true, modal:false}); YAHOO.janelaguias.xp.panel.render(); if($i(objmapa.guiaMenu+"obj")){ $i(objmapa.guiaMenu+"obj").innerHTML="";}
 ativaGuias();}
 else{ YAHOO.janelaguias.xp.panel.render(); YAHOO.janelaguias.xp.panel.show();}}
function ativaGuias(){ if($i(objmapa.guiaTemas)){ $i(objmapa.guiaTemas).onclick=function(){g_guiaativa=objmapa.guiaTemas;mostraguiaf(1);}}
 if($i(objmapa.guiaMenu)){ $i(objmapa.guiaMenu).onclick=function(){ g_guiaativa=objmapa.guiaMenu; mostraguiaf(2); if(!$i("buscatema")){ var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=pegalistadegrupos&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"pegaListaDeGrupos",processaGrupos);}}}
 if($i(objmapa.guiaLegenda)){ $i(objmapa.guiaLegenda).onclick=function(){g_guiaativa=objmapa.guiaLegenda;mostraguiaf(4);objmapa.atualizaLegendaHTML();}}
 if($i(objmapa.guiaListaMapas)){ $i(objmapa.guiaListaMapas).onclick=function(){ g_guiaativa=objmapa.guiaListaMapas; mostraguiaf(5); if($i("banners")){ $i("banners").innerHTML=="Aguarde..."; var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=pegaMapas&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"pegaMapas",pegaMapas);}
 else{alert("id banners nao encontrado");}}}
 for(i=0;i<10;i++){ if(document.getElementById("guia"+i)){ document.getElementById("guia"+i).style.borderBottom="1px solid rgb(210,210,210)"; document.getElementById("guia"+i).onmousedown=function(){ for(j=0;j<10;j++){ if(document.getElementById("guia"+j)){ document.getElementById("guia"+j+"obj").style.display="none"; document.getElementById("guia"+j).style.color="rgb(150,150,150)"; document.getElementById("guia"+j).style.textDecoration="none";}}
 this.style.color="black"; this.style.backgroundColor="rgb(230,230,230)";}
 document.getElementById("guia"+i).onmouseover=function(){ this.style.borderTop="2px solid orange"; if(this.value !=undefined){mostradicasf(this,this.value,"");}}
 document.getElementById("guia"+i).onmouseout=function(){ this.style.borderTop="1px solid rgb(230,230,230)";}}}}
function mensagemf(m){ if(!$i("mensagem")){ var novoel=document.createElement("div"); novoel.id='mensagem'; novoel.innerHTML='<table width=50 style="border: 1px solid #000000;"> <tr> <td onclick="mensagemf()" style="text-align:left;cursor:pointer" class="tdclara"> <img src='+$im("excluir.png")+'/> </td> <td style="text-align:left" class="tdclara"> <input style="text-align:left" class=textocb type=text id=mensagemt size=50 value=""/> </td></tr> </table>'; document.body.appendChild(novoel);}
 if(m==null){$i("mensagem").style.visibility="hidden";}
 else{ $i("mensagemt").value=m; $i("mensagem").style.visibility="visible";}
 eval('document.getElementById("mensagem").style.'+g_tipoleft+'=imagemxi+g_postpx'); eval('document.getElementById("mensagem").style.'+g_tipotop+'=imagemyi+g_postpx');}
function wdocaf(wlargura,waltura,wsrc,nx,ny,texto){ if($i("boxg")){$i("boxg").style.display="none";}
 var wlargura_=parseInt(wlargura)+0+"px"; YAHOO.namespace("janelaDoca.xp"); if(YAHOO.janelaDoca.xp.panel){ YAHOO.janelaDoca.xp.panel.destroy(); YAHOO.namespace("janelaDoca.xp");}
 if(!$i("wdoca")){ var novoel=document.createElement("div"); novoel.id="wdoca"; novoel.style.display="none"; var ins='<div class="hd"><div class="tl"></div>'; ins+='<div class="tr"></div></div><div class="bd" style="scrollbar-arrow-color:white;scrollbar-base-color:white;scrollbar-darkshadow-color:white;scrollbar-face-color:white;scrollbar-highlight-color:white;scrollbar-shadow-color:white;" >'; ins+='<iframe name=wdocai id=wdocai valign="top" style="border:0px white solid"></iframe></div>'; novoel.innerHTML=ins; document.body.appendChild(novoel);}
 $i("wdocai").src=""; YAHOO.janelaDoca.xp.panel=new YAHOO.widget.ResizePanel("wdoca",{width:wlargura_, fixedcenter: false, constraintoviewport: false, underlay:"none", close:true, visible:true, draggable:true, modal:false}); YAHOO.janelaDoca.xp.panel.moveTo(imagemxi,imagemyi+50); YAHOO.janelaDoca.xp.panel.render(); YAHOO.janelaDoca.xp.panel.show(); var escondeWdoca=function(){ $i("wdoca").style.display="none"; $i("wdocai").src=""; YAHOO.util.Event.removeListener(YAHOO.janelaDoca.xp.panel.close, "click"); YAHOO.janelaDoca.xp.panel.destroy(); if((g_tipoacao=="selecaobox")||(g_tipoacao=="inseregrafico")||(g_tipoacao=="selecao")||(g_tipoacao=="inserexy")||(g_tipoacao=="textofid")){mudaiconf("pan");}
 if($i("boxg")){$i("boxg").style.display="none";}}
 YAHOO.util.Event.addListener(YAHOO.janelaDoca.xp.panel.close, "click", escondeWdoca); with($i("wdocai").style){width="100%";height=waltura;}; if(navn){with($i("wdocai").style){width="100%";height=parseInt(waltura)-20+"px";overflow="-moz-scrollbars-vertical;overflow-x:scroll"};}
 $i("wdoca").style.display="block"; $i("wdocai").src=wsrc;}
function redimwdocaf(wlargura,waltura){ if($i("wdoca")){ $i("wdoca").style.width=wlargura; $i("wdoca").style.height=waltura;}
 }
function wdocaf2(wlargura,waltura,wsrc,nx,ny,texto){ if(!$i("wdoca2")){ var novoel=document.createElement("div"); novoel.id="wdoca2"; novoel.style.display="none"; var ins='<div class="hd"><div class="tl"></div>'; ins+='<div class="tr"></div></div><div class="bd">'; ins+='<iframe name=wdocai2 id=wdocai2 valign="top" ></iframe></div></div>'; novoel.innerHTML=ins; document.body.appendChild(novoel);}
 YAHOO.namespace("janelaDoca2.xp"); YAHOO.janelaDoca2.xp.panel=new YAHOO.widget.Panel("wdoca2",{width:wlargura, fixedcenter: false, constraintoviewport: true, underlay:"matte", close:true, visible:true, draggable:true, modal:true}); YAHOO.janelaDoca2.xp.panel.moveTo(imagemxi,imagemyi); YAHOO.janelaDoca2.xp.panel.render(); YAHOO.janelaDoca2.xp.panel.show(); with($i("wdocai2").style){width=wlargura;height=waltura;}
 $i("wdoca2").style.display="block"; $i("wdocai2").src=wsrc; var escondeWdoca2=function(){ $i("wdoca2").style.display="none"; $i("wdocai2").src=""; YAHOO.util.Event.removeListener(YAHOO.janelaDoca2.xp.panel.close, "click"); YAHOO.janelaDoca2.xp.panel.destroy();}
 YAHOO.util.Event.addListener(YAHOO.janelaDoca2.xp.panel.close, "click", escondeWdoca2);}
function wdocafechaf(odoca){ $i(odoca).style.display="none"; if((odoca !="wdocaref")&&(odoca !="wdocac")){ if($i("wdocain")){$i("wdocain").value="";}
 if($i("wdocadiv")){$i("wdocadiv").innerHTML="";$i("wdocadiv").display="none";}
 if($i("temp")){$i("temp").value=="";}
 $i("wdocai").src=""; $i("imgh").style.visibility="visible";}
 if((g_tipoacao=="selecaobox")||(g_tipoacao=="inseregrafico")||(g_tipoacao=="selecao")||(g_tipoacao=="inserexy")||(g_tipoacao=="textofid")){mudaiconf("pan");}}
function ajudaf(evt){ if(navn){ var tecla=evt.keyCode ? evt.keyCode : evt.charCode ? evt.charCode : evt.which ? evt.which : void 0;}
 if(navm){var tecla=evt.keyCode;}
 if(evt=="abre"){ s=g_locaplic+"/ajuda/"+g_hlpt+".htm"; wdocaf("400px","300px",s,"","","Ajuda"); return;}
 if($i("ajuda").innerHTML!="-"){ if(tecla==97){ s=g_locaplic+"/ajuda/"+g_hlpt+".htm"; wdocaf("300px","300px",s,"","","Ajuda");}}
 if(tecla==43){destacaTamanho+=10;}
 if(tecla==45){destacaTamanho-=10;}}
function mostradicasf(objeto,dica,hlpt){ if($i("ajuda")){ if(dica==""){$i("ajuda").innerHTML="-";}
 else{ g_hlpt=hlpt; $i("ajuda").innerHTML="<b>"+dica+" </b>";}}
 if($i("janelaMenTexto")){ if(dica==""){dica=g_mensagempadrao;}
 $i("janelaMenTexto").innerHTML="<b>"+dica+" </b>";}}
function mudaiconf(i){ for(ot=0;ot<objmapa.objtips.length;ot++){ if(objmapa.objtips[ot]){ objmapa.objtips[ot].innerHTML=""; objmapa.objtips[ot].style.display="none";}}
 objmapa.objtips=new Array(); limpacontainerf(); var objetos=["inseregrafico","textofid","zoomli","zoomlo","zoomiauto","zoomoauto","pan","identifica","mede","inserexy","selecao"]; for(ko=0;ko<objetos.length;ko++){ if($i(objetos[ko])) with($i(objetos[ko]).style){borderWidth=0;borderBottomWidth=1;borderLeftWidth=1;borderColor='rgb(50,50,50)';}}
 g_tipoacao=i; if($i(i)){ with($i(i).style){borderLeftWidth='0px';borderBottomWidth='0px';borderColor='black';}}
 $i("imgh").style.display="block"; switch(i){ case "zoomli": $i("imgh").src=g_localimg+"/"+"ic_zoom.png"; if($i("img")){$i("img").title="";}
 break; case "pan": $i("imgh").src=g_localimg+"/"+"icon_pan.gif"; if($i("img")){$i("img").title="";}
 break; case "mede": $i("imgh").src=g_localimg+"/"+"mede.gif"; break; case "inserexy": $i("imgh").src=g_localimg+"/"+"ic_xy.png"; if($i("img")){$i("img").title="clique para inserir um ponto";}
 break; case "textofid": $i("imgh").src=g_localimg+"/"+"ic_xy.png"; if($i("img")){$i("img").title="clique para inserir o texto";}
 break; case "selecao": $i("imgh").src=g_localimg+"/"+"ic_seleciona.png"; if($i("img")){$i("img").title="clique para selecionar";}
 break; case "inseregrafico": $i("imgh").src=g_localimg+"/"+"ic_seleciona.png"; if($i("img")){$i("img").title="clique para incluir o grfico";}
 break; case "identifica": $i("imgh").src=g_localimg+"/"+"ic_identifica.png"; if($i("img")){$i("img").title="";}
 break;}}
function ferramentasf(f){ if($i("ferramentas"+f)){ var fs=["1","2","3","4","5"]; for(i=0;i<fs.length;i++){ if($i("ferramentas"+fs[i])){ $i("ferramentas"+fs[i]).style.display="none"; $i("ferr"+fs[i]).style.backgroundColor="rgb(230,230,230)";}}
 $i("ferramentas"+f).style.display="block"; $i("ferr"+f).style.backgroundColor="rgb(255,255,255)";}}
function mostraguiaf(guia){ if($i("guia"+guia)){ var fs=[1,2,3,4,5,6,7,8,9,10]; for(j=0;j<fs.length;j++){ if($i("guia"+fs[j])){ jj=fs[j]; $i("guia"+jj).style.backgroundColor="rgb(240,240,240)"; if($i("guia"+jj+"obj")){$i("guia"+jj+"obj").style.display="none";}}}
 $i("guia"+guia).style.backgroundColor="rgb(210,210,210)"; if($i("guia"+guia+"obj")){$i("guia"+guia+"obj").style.display="block";}
 else{alert("O objeto guia"+guia+"obj nao existe.");}}}
function mostraferramenta(guia){ if($i("ferr"+guia)){ var fs=[1,2,3,4,5,6,7,8,9,10]; for(j=0;j<fs.length;j++){ if($i("ferr"+fs[j])){ jj=fs[j]; $i("ferr"+jj).style.backgroundColor="rgb(230,230,230)"; if($i("ferr"+jj+"obj")){$i("ferr"+jj+"obj").style.display="none";}}}
 $i("ferr"+guia).style.backgroundColor="rgb(255,255,255)"; if($i("ferr"+guia+"obj")){$i("ferr"+guia+"obj").style.display="block";}
 else{alert("O objeto ferr"+guia+"obj nao existe.");}}}
function borra(tipo){ }
function aguarde(){ this.abre=function(aguardeId,texto){ YAHOO.namespace("aguarde"); eval('YAHOO.aguarde.'+aguardeId+'=new YAHOO.widget.Panel("wait",{width:"240px",fixedcenter:false,underlay:"matte",close:false,draggable:false,modal:false})'); eval('YAHOO.aguarde.'+aguardeId+'.setBody("<span><img src=\'"+g_locaplic+"/imagens/aguarde.gif\'/></span><span style=font-size:10px >"+texto+"&nbsp;</span>")'); eval('YAHOO.aguarde.'+aguardeId+'.render(document.body)'); eval('YAHOO.aguarde.'+aguardeId+'.moveTo(0,0)'); eval('YAHOO.aguarde.'+aguardeId+'.show()');}
 this.fecha=function(aguardeId){ if(eval('YAHOO.aguarde.'+aguardeId)){ eval('YAHOO.aguarde.'+aguardeId+'.destroy()');}}
 }
function ativaClicks(docMapa){ docMapa.onmouseover=function(){ if($i("imgh")){$i("imgh").style.display="block";}
 if($i("janelaMenu")){$i("janelaMenu").style.display="none";}
 this.src=g_quadrooriginal; if(objmapa.parado!="cancela"){ objmapa.parado="nao"; verificaTip();}
 if($i("tip")){$i("tip").style.display="none";}
 this.onmousemove=function(exy){ if($i("tip")){$i("tip").style.display="none";}
 capturaposicao(exy); if(g_destaca !=""){$i("imgh").style.display="none";$i("div_d").style.clip='rect('+(objposicaocursor.imgy-destacaTamanho)+" "+(objposicaocursor.imgx-10)+" "+(objposicaocursor.imgy-10)+" "+(objposicaocursor.imgx-destacaTamanho)+')';}
 if(g_realca=="sim"){ $i("areaRealce").style.left=objposicaocursor.telax-destacaTamanho+10; $i("areaRealce").style.top=objposicaocursor.telay-destacaTamanho+10;}
 if($i("img")&&(g_panM=="sim")){ var nx=objposicaocursor.telax-leftinicial-clicinicialx; var ny=objposicaocursor.telay-topinicial-clicinicialy; if(g_entorno=="nao"){ $i("img").style.left=nx; $i("img").style.top=ny;}
 else{ $left("img",objmapa.w*-1+nx); $left("imgS",objmapa.w*-1+nx); $left("imgL",objmapa.w+nx); $left("imgO",objmapa.w*-3+nx); $left("imgN",objmapa.w*-1+nx); $top("img",objmapa.h*-1+ny); $top("imgS",objmapa.h*-1+ny); $top("imgL",objmapa.h*-1+ny); $top("imgN",objmapa.h*-1+ny); $top("imgO",objmapa.h*-1+ny);}}
 movecursor(); if($i("longlat")){$i("longlat").innerHTML=objposicaocursor.dmsx+" "+objposicaocursor.dmsy;}
 if(g_tipoacao=="mede"){ $i("mostradistancia").style.display="block"; var n=pontosdistobj.xpt.length; if(n > 0){ var d=calculadistancia(pontosdistobj.xpt[n-1],pontosdistobj.ypt[n-1],objposicaocursor.ddx,objposicaocursor.ddy); if(objmapa.scale > 500000){ var d=parseInt(d);}
 else{ d=d+""; d=d.split("."); var decimal=d[1].substr(0,3); d=d[0]+"."+decimal; d=d*1;}
 var da=d+pontosdistobj.dist[n-1]; if($i("mostradistancia")){$i("mostradistancia").innerHTML=" Dist acum.="+da+" atual="+d+" km";}}}
 movelentef(); if(((g_tipoacao=="zoomli")||(g_tipoacao=="selecaobox"))&&($i("box1").style.visibility=="visible")){zoomboxf("desloca");}}}
 docMapa.onmouseout=function(){ objmapa.parado="parar"; mostradicasf(this,''); if($i("imgh")){$i("imgh").style.display="none";}}
 docMapa.onmousedown=function(){ $i("imgh").style.display="none"; if((g_tipoacao=="zoomli")||(g_tipoacao=="selecaobox")){ $i("imgh").style.display="none"; with($i("box1").style){width=0;height=0;visibility="visible";}
 boxxini=objposicaocursor.telax; boxyini=objposicaocursor.telay; tamanhox=0; tamanhoy=0;}
 if($i("img")&&(g_tipoacao=="pan")){ g_panM="sim"; leftinicial=parseInt($i("corpoMapa").style.left); topinicial=parseInt($i("corpoMapa").style.top); clicinicialx=objposicaocursor.imgx; clicinicialy=objposicaocursor.imgy; ddinicialx=objposicaocursor.ddx; ddinicialy=objposicaocursor.ddy;}}
 docMapa.onclick=function(){ if(g_tipoacao=="identifica"){ wdocaf("450px","250px",g_locaplic+'/ferramentas/identifica/index.htm?&x='+objposicaocursor.ddx+'&y='+objposicaocursor.ddy+'&escala='+objmapa.scale,"","","Identifica");}
 if(g_tipoacao=="mede"){ var n=pontosdistobj.xpt.length; pontosdistobj.xpt[n]=objposicaocursor.ddx; pontosdistobj.ypt[n]=objposicaocursor.ddy; pontosdistobj.dist[n]=0; if(n > 0){ var d=parseInt(calculadistancia(pontosdistobj.xpt[n-1],pontosdistobj.ypt[n-1],objposicaocursor.ddx,objposicaocursor.ddy)); pontosdistobj.dist[n]=d+pontosdistobj.dist[n-1];}
 inseremarcaf(objposicaocursor.telax,objposicaocursor.telay);}
 if(g_tipoacao=="inserexy"){ var n=pontosdistobj.xpt.length; pontosdistobj.xpt[n]=objposicaocursor.ddx; pontosdistobj.ypt[n]=objposicaocursor.ddy; if($i("wdoca").style.display=="none"){wdocaf("270px","200px",g_locaplic+'/ferramentas/inserexy2/index.htm',"");}
 var doc=(navm)? document.frames("wdocai").document : $i("wdocai").contentDocument; var ins=doc.getElementById("resultado").innerHTML; ins=ins+"<div style='font-size:12px' >"+objposicaocursor.ddx+" "+objposicaocursor.ddy+"</div><br>"; doc.getElementById("resultado").innerHTML=ins; if(g_nomepin==""){alert("Nenhum tema definido para editar");}
 else{ objaguarde.abre("ajaxredesenha","Aguarde..."); var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=insereSHP&tema="+g_nomepin+"&xy="+objposicaocursor.ddx+" "+objposicaocursor.ddy+"&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"insereSHP",ajaxredesenha);}}
 if(g_tipoacao=="inseregrafico"){ if($i("wdoca").style.display=="none"){wdocaf("270px","200px",g_locaplic+'/ferramentas/inseregrafico/index.htm',"");}
 var doc=(navm)? document.frames("wdocai").document : $i("wdocai").contentDocument; var tema=doc.getElementById("temasLigados").value; var width=doc.getElementById("w").value; var inclinacao=doc.getElementById("inclinacao").value; var shadow_height=doc.getElementById("sombra").value; if(tema==""){alert("Nenhum tema definido para pegar os dados");}
 else{ var itens=doc.getElementById("listadeitens").value;; if(itens==""){alert("Nenhum item foi escolhido");}
 else{ objaguarde.abre("ajaxredesenha","Aguarde..."); var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=insereSHPgrafico&tipo=pizza&tema="+tema+"&x="+objposicaocursor.ddx+"&y="+objposicaocursor.ddy+"&itens="+itens+"&shadow_height="+shadow_height+"&width="+width+"&inclinacao="+inclinacao+"&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"insereSHPgrafico",ajaxredesenha);}}}
 if(g_tipoacao=="textofid"){ var n=pontosdistobj.xpt.length; pontosdistobj.xpt[n]=objposicaocursor.ddx; pontosdistobj.ypt[n]=objposicaocursor.ddy; if($i("wdoca").style.display=="none"){textofid();}
 var doc=(navm)? document.frames("wdocai").document : $i("wdocai").contentDocument; var texto=doc.getElementById("texto").value; texto=htmlAcentos(texto); var f=doc.getElementById("fonte").value; var t=doc.getElementById("tamanho").value; var a=doc.getElementById("angulo").value; var cf=doc.getElementById("fundoc").value; if(cf==""){cf="off";}
 var cs=doc.getElementById("sombra").value; if(cs==""){cs="off";}
 var xs=doc.getElementById("sombrax").value; var ys=doc.getElementById("sombray").value; var c=doc.getElementById("frente").value; var m=doc.getElementById("mascara").value; if(m==""){m="off";}
 var fcs=doc.getElementById("frentes").value; if(fcs==""){fcs="off";}
 var fxs=doc.getElementById("frentex").value; var fys=doc.getElementById("frentey").value; var forca=doc.getElementById("force").value; var md=doc.getElementById("mindistance").value; var mf=doc.getElementById("minfeaturesize").value; var ox=doc.getElementById("offsetx").value; var oy=doc.getElementById("offsety").value; var pl=doc.getElementById("partials").value; var pos=doc.getElementById("position").value; objaguarde.abre("ajaxredesenha","Aguarde..."); var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=inserefeature&pin="+g_nomepin+"topo&tipo=ANNOTATION&xy="+objposicaocursor.ddx+" "+objposicaocursor.ddy+"&texto="+texto+"&position="+pos+"&partials="+pl+"&offsetx="+ox+"&offsety="+oy+"&minfeaturesize="+mf+"&mindistance="+md+"&force="+forca+"&shadowcolor="+fcs+"&shadowsizex="+fxs+"&shadowsizey="+fys+"&outlinecolor="+m+"&cor="+c+"&sombray="+ys+"&sombrax="+xs+"&sombra="+cs+"&fundo="+cf+"&angulo="+a+"&tamanho="+t+"&fonte="+f+"&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"insereFeature",ajaxredesenha);}
 if(g_tipoacao=="selecao"){ var doc=(navm)? document.frames("wdocai").document : $i("wdocai").contentDocument; var tipo="adiciona"; if(doc.getElementById("tipoOperacao")){tipo=doc.getElementById("tipoOperacao").value;}
 if(objmapa.temaAtivo==""){alert("Nenhum tema ativo");return;}
 if((tipo !="limpa")&&(tipo !="inverte")){ objaguarde.abre("ajaxredesenha","Aguarde..."); var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=selecaopt&tema="+objmapa.temaAtivo+"&tipo="+tipo+"&xy="+objposicaocursor.ddx+" "+objposicaocursor.ddy+"&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"selecaoPT",ajaxredesenha);}}
 objmapa.verificaClickMapa();}
 docMapa.onmouseup=function(){ if(g_tipoacao=="zoomli"){zoomboxf("termina");}
 if(g_tipoacao=="selecaobox"){zoomboxf("termina");}
 if($i("img")&&(g_tipoacao=="pan")){ g_panM="nao"; var disty=(ddinicialy*-1)+objposicaocursor.ddy; var distx=(ddinicialx*-1)+objposicaocursor.ddx; var ex=objmapa.extent; var ex=ex.split(" "); var novoxi=(ex[0]*1)-distx; var novoxf=(ex[2]*1)-distx; var novoyi=(ex[1]*1)-disty; var novoyf=(ex[3]*1)-disty; if((distx==0)||(disty==0)){ objaguarde.abre("ajaxredesenha","Aguarde..."); var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=pan&x="+objposicaocursor.imgx+"&y="+objposicaocursor.imgy+"&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"pan",ajaxredesenha); return;}
 var nex=novoxi+" "+novoyi+" "+novoxf+" "+novoyf; objaguarde.abre("ajaxredesenha","Aguarde..."); var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=mudaext&ext="+nex+"&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"mudaExtensao",ajaxredesenha);}}}
function initJanelaZoom(qual){ if((qual==1)&&(!$i("maisBotoes1"))){ var novoel=document.createElement("div"); novoel.id="janelaBotoes1"; novoel.style.display="block"; if(navm){novoel.style.filter='alpha(opacity=90)';}
 else{novoel.style.opacity=.75;}
 novoel.style.borderColor="gray"; var temp='<div class="hd"><div class="tl"></div>'; temp+='<div class="tr"></div></div>'; if($i("zoomli")){ if(navn){temp+='<div style="text-align:center;position:relative;left:9px" >';}
 temp+='<div id=vertMaisZoom onmouseover="mostradicasf(this,\'Amplia o mapa mantendo o centro atual.\',\'\')" onclick="zoomiauto()" ></div><div id="vertBGDiv" name="vertBGDiv" tabindex="0" x2:role="role:slider" state:valuenow="0" state:valuemin="0" state:valuemax="200" title="Zoom" >'; temp+='<div id="vertHandleDiv" ><img alt="" src='+$im("slider.png")+'/></div></div>'; temp+='<div id=vertMenosZoom onmouseover="mostradicasf(this,\'Reduz o mapa mantendo o centro atual.\',\'\')" onclick="zoomoauto()" ></div></div></div>';}
 temp+='<div id=maisBotoes1 ></div>'; novoel.innerHTML=temp; document.body.appendChild(novoel); if($i("barraDeBotoes1")){ $i("maisBotoes1").innerHTML=$i("barraDeBotoes1").innerHTML; $i("barraDeBotoes1").innerHTML="";}
 YAHOO.namespace("janelaBotoes1.xp"); YAHOO.janelaBotoes1.xp.panel=new YAHOO.widget.Panel("janelaBotoes1",{width:"36px", fixedcenter: false, constraintoviewport: false, underlay:"none", close:true, visible:true, draggable:true, modal:false}); YAHOO.janelaBotoes1.xp.panel.render(); verticalSlider=YAHOO.widget.Slider.getVertSlider("vertBGDiv","vertHandleDiv", 0, 70); verticalSlider.onChange=function(offsetFromStart){g_fatordezoom=(offsetFromStart-35)/5;}; verticalSlider.setValue(35,true); if($i("vertBGDiv")){ $i("vertBGDiv").onmouseup=function(){ aplicaescala(); g_fatordezoom=0; verticalSlider.setValue(35,true);}}
 if($i("vertHandleDiv")){ $i("vertHandleDiv").onmousemove=function(){ var nw=objmapa.w; var nh=objmapa.h; var nt=0; var nl=0; var ns=parseInt(objmapa.scale); if((g_fatordezoom > 0)&&(g_fatordezoom < 7)){ g_fatordezoom=g_fatordezoom+1; var velhoh=parseInt($i("img").style.height); var velhow=parseInt($i("img").style.width); nh=objmapa.h/g_fatordezoom; nw=objmapa.w/g_fatordezoom; var t=parseInt($i("img").style.top); var l=parseInt($i("img").style.left); nt=t+((velhoh-nh)*.5); if(navm){nl=0;}
 else{nl=l+((velhow-nw)*.5);}
 var fatorEscala=nh/objmapa.h; ns=parseInt(objmapa.scale/fatorEscala);}
 if((g_fatordezoom < 0)&&(g_fatordezoom >-7)){ g_fatordezoom=g_fatordezoom-1; var velhoh=parseInt($i("img").style.height); var velhow=parseInt($i("img").style.width); nh=objmapa.h*g_fatordezoom*-1; nw=objmapa.w*g_fatordezoom*-1; var t=parseInt($i("img").style.top); var l=parseInt($i("img").style.left); nt=t-((nh-velhoh)*.5); nl=l-((nw-velhow)*.5); var fatorEscala=nh/objmapa.h; ns=parseInt(objmapa.scale/fatorEscala);}
 $i("img").style.width=nw; $i("img").style.height=nh; $top("img",nt); $left("img",nl); if($i("escalanum")){$i("escalanum").value=ns;}}}
 return;}
 if((qual==1)&&($i("maisBotoes1"))){YAHOO.janelaBotoes1.xp.panel.show();}
 if((qual==2)&&(!$i("maisBotoes2"))){ var novoel=document.createElement("div"); novoel.id="janelaBotoes2"; novoel.style.display="block"; if(navm){novoel.style.filter='alpha(opacity=90)';}
 else{novoel.style.opacity=.75;}
 novoel.style.borderColor="gray"; var temp='<div class="hd"><div class="tl"></div>'; temp+='<div class="tr"></div></div>'; temp+='<div id=maisBotoes2 ></div>'; novoel.innerHTML=temp; document.body.appendChild(novoel); if($i("barraDeBotoes2")){ $i("maisBotoes2").innerHTML=$i("barraDeBotoes2").innerHTML; $i("barraDeBotoes2").innerHTML="";}
 YAHOO.namespace("janelaBotoes2.xp"); YAHOO.janelaBotoes2.xp.panel=new YAHOO.widget.Panel("janelaBotoes2",{width:"36px", fixedcenter: false, constraintoviewport: false, underlay:"none", close:true, visible:true, draggable:true, modal:false}); YAHOO.janelaBotoes2.xp.panel.render(); return;}
 if((qual==2)&&($i("maisBotoes2"))){YAHOO.janelaBotoes2.xp.panel.show();}}
function initJanelaRef(){ if(!$i("winRef")){ var novoel=document.createElement("div"); novoel.id="winRef"; novoel.style.display="none"; var ins='<div class="hd"><div class="tl"></div>'; ins+='<div class="tr"></div></div><div class="bd" id="mapaReferencia" onmouseover="javascript:movimentoRef(this)" onclick="javascript:clicouRef()">'; ins+='<img style="cursor:pointer" id=imagemReferencia src=""/></div></div>'; ins+='<div style="text-align:left;font-size:0px" id=refmensagem ></div>'; novoel.innerHTML=ins; novoel.style.borderColor="gray"; document.body.appendChild(novoel);}
 $i("winRef").style.display="block"; YAHOO.namespace("janelaRef.xp"); YAHOO.janelaRef.xp.panel=new YAHOO.widget.Panel("winRef",{width:"160px", fixedcenter: false, constraintoviewport: true, underlay:"none", close:true, visible:true, draggable:true, modal:false}); YAHOO.janelaRef.xp.panel.render(); if(navm){YAHOO.janelaRef.xp.panel.moveTo((imagemxi+objmapa.w-160),imagemyi+4);}
 else{YAHOO.janelaRef.xp.panel.moveTo((imagemxi+objmapa.w-167),imagemyi+4);}
 var escondeRef=function(){ YAHOO.util.Event.removeListener(YAHOO.janelaRef.xp.panel.close, "click"); YAHOO.janelaRef.xp.panel.destroy(); iCookie("g_mapaRefDisplay","none");}
 YAHOO.util.Event.addListener(YAHOO.janelaRef.xp.panel.close, "click", escondeRef); iCookie("g_mapaRefDisplay","block"); objmapa.atualizaReferencia();}
function mudaboxnf(tipo){ g_operacao=tipo; clearTimeout(objmapa.tempo); objmapa.tempo=setTimeout('remapaf()',(4000)); autoRedesenho("reinicia"); if($i("aplicari")){ $i("aplicari").style.display="block"; if(navm){ mx=objposicaomouse.x-10; my=objposicaomouse.y-15; with($i("aplicari").style){ pixelLeft=mx+document.body.scrollLeft; pixelTop=my+document.body.scrollTop;}}
 if(navn){ with($i("aplicari").style){ left=objposicaomouse.x; top=objposicaomouse.y+document.body.scrollTop;}}}}
function movelentef(){ if($i("lente")){ if($i("lente").style.visibility=="visible"){ var esq=(objposicaocursor.telax-imagemxi)*2.25; var topo=(objposicaocursor.telay-imagemyi)*2.25; var clipt="rect("+(topo-40)+" "+(esq+40)+" "+(topo+40)+" "+(esq-40)+")"; with($i("lente").style){ clip=clipt; eval(g_tipotop+"=(imagemyi-(topo-40))+g_postpx"); eval(g_tipoleft+"=(imagemxi-(esq-40))+g_postpx");}}}}
function zoomiauto(){ objaguarde.abre("ajaxredesenha","Aguarde..."); g_fatordezoom=0; var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=aproxima&nivel=2&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); g_operacao="navega"; cp.call(p,"aproxima",ajaxredesenha);}
function zoomoauto(){ objaguarde.abre("ajaxredesenha","Aguarde..."); g_fatordezoom=0; var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=afasta&nivel=2&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); g_operacao="navega"; cp.call(p,"afasta",ajaxredesenha);}
function zoomboxf(tipo){ var bx=$i("box1"); switch(tipo){ case "desloca": ppx=objposicaocursor.telax; py=objposicaocursor.telay; if(navn){ if(ppx > boxxini){with(bx.style){width=ppx-boxxini-15+"px";}}
 if(py > boxyini){with(bx.style){height=py-boxyini-15+"px";}}
 if(ppx < boxxini){with(bx.style){left=ppx+"px";width=boxxini-ppx+15+"px";}}
 if(py < boxyini){with(bx.style){top=py+"px";height=boxyini-py+15+"px";}}}
 if(navm){ if(ppx > boxxini){with(bx.style){width=ppx-boxxini-2;}}
 if(py > boxyini){with(bx.style){height=py-boxyini-2;}}
 if(ppx < boxxini){with(bx.style){left=ppx;width=boxxini-ppx+2;}}
 if(py < boxyini){with(bx.style){top=py;height=boxyini-py+2;}}}
 break; case "termina": md=1; eval('pix=parseInt(document.getElementById("box1").style.'+g_tipoleft+")"); eval('piy=parseInt(document.getElementById("box1").style.'+g_tipotop+")"); xfig0=parseInt(bx.style.width)-imagemxi; yfig0=parseInt(bx.style.height)-imagemyi; xfig=pix+(parseInt(bx.style.width))-imagemxi; yfig=piy+(parseInt(bx.style.height))-imagemyi; amext=objmapa.extent.split(" "); dx=((amext[0]*-1)-(amext[2]*-1))/(tamanhox-1); dy=((amext[1]*1)-(amext[3]*1))/(tamanhoy-1); if(dy < 0)dy=dy*-1; nx=g_celula*xfig; ny=g_celula*yfig; x1=(amext[0]*1)+nx; y1=(amext[3]*1)-ny; xfig=pix-imagemxi; yfig=piy-imagemyi; if(dy < 0)dy=dy*-1; nx=g_celula*xfig; ny=g_celula*yfig; x2=(amext[0]*1)+nx; y2=(amext[3]*1)-ny; v=x2+" "+y2+" "+x1+" "+y1; if(g_tipoacao !="selecaobox"){ if(x1 !=x2){ objmapa.extent=v; objaguarde.abre("ajaxredesenha","Aguarde..."); var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=mudaext&ext="+v+"&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"mudaExtensao",ajaxredesenha);}}
 else{ if(x1 !=x2){ var doc=(navm)? document.frames("wdocai").document : $i("wdocai").contentDocument; var tipo="adiciona"; if(doc.getElementById("tipoOperacao")){tipo=doc.getElementById("tipoOperacao").value;}
 if(objmapa.temaAtivo==""){alert("Nenhum tema ativo");return;}
 if((tipo !="limpa")&&(tipo !="inverte")){ objaguarde.abre("ajaxredesenha","Aguarde..."); var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=selecaobox&ext="+v+"&g_sid="+g_sid+"&tipo="+tipo+"&tema="+objmapa.temaAtivo; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"selecaobox",ajaxredesenha);}}}
 with(bx.style){visibility="hidden";width=0;height=0;}
 document.getElementById("imgh").style.display="block"; break;}}
function zoomPonto(){ if($i("xg")){ var xxx=convdmsddf($i("xg").value,$i("xm").value,$i("xs").value); var yyy=convdmsddf($i("yg").value,$i("ym").value,$i("ys").value); objaguarde.abre("ajaxredesenha","Aguarde..."); var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=zoomponto&pin=pin&xy="+xxx+" "+yyy+"&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"zoomPonto",ajaxredesenha);}}
function clicouRef(){ objposicaocursor.refx=objposicaocursor.refx-parseInt(YAHOO.janelaRef.xp.panel.element.style.left)-5; objposicaocursor.refy=objposicaocursor.refy-parseInt(YAHOO.janelaRef.xp.panel.element.style.top)-25; var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=pan&escala="+objmapa.scale+"&tipo=ref&x="+objposicaocursor.refx+"&y="+objposicaocursor.refy+"&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"pan",ajaxredesenha);}
function movimentoRef(obj){ obj.onmousemove=function(exy){ if(navm){capturaposicao(obj);}
 else{capturaposicao(exy);}}}
function aplicaescala(){ if($i("escalanum")){var nova=$i("escalanum").value;}
 else{var nova=objmapa.scale;}
 objaguarde.abre("ajaxredesenha","Aguarde..."); var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=mudaescala&escala="+nova+"&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); g_operacao="outras"; cp.call(p,"mudaEscala",ajaxredesenha);}
function zoomtot(){ objaguarde.abre("ajaxredesenha","Aguarde..."); var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=mudaext&ext="+objmapa.extentTotal+"&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); g_operacao="navega"; cp.call(p,"mudaExtensao",ajaxredesenha);}
function panFixo(direcao){ if(direcao=="norte"){ var y=objmapa.h/6; var x=objmapa.w/2;}
 if(direcao=="sul"){ var y=objmapa.h-(objmapa.h/6); var x=objmapa.w/2;}
 if(direcao=="leste"){ var x=objmapa.w-(objmapa.w/6); var y=objmapa.h/2;}
 if(direcao=="oeste"){ var x=objmapa.w/6; var y=objmapa.h/2;}
 objaguarde.abre("ajaxredesenha","Aguarde..."); var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=pan&escala="+objmapa.scale+"&x="+x+"&y="+y+"&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); g_operacao="navega"; cp.call(p,"pan",ajaxredesenha);}
function ativaEntorno(){ if(g_entorno=="sim"){ var letras=["L","O","N","S"]; for(l=0;l<letras.length;l++){ if($i("img"+letras[l])){ $i("img"+letras[l]).style.display="none"; $i("img"+letras[l]).src="";}}
 $left("img",0); $top("img",0); g_entorno="nao"; alert("Entorno desativado"); $i("img").style.visibility="visible"; $i("img").style.display="block";}
 else{ geraURLentorno(); var letras=["L","O","N","S"]; for(l=0;l<letras.length;l++){ if($i("img"+letras[l])){ $i("img"+letras[l]).style.width=objmapa.w; $i("img"+letras[l]).style.height=objmapa.h; $i("img"+letras[l]).style.display="block";}}
 g_entorno="sim"; ajustaEntorno(); alert("Entorno ativado. o desenho do mapa pode demorar mais.");}}
function geraURLentorno(){ var nny=(objmapa.h/2)*-1; var nnx=objmapa.w/2; var sy=objmapa.h+(objmapa.h/2); var sx=objmapa.w/2; var lx=objmapa.w+(objmapa.w/2); var ly=objmapa.h/2; var ox=(parseInt(objmapa.w/2))*-1; var oy=objmapa.h/2; var u=window.location.protocol+"\/\/"+window.location.host+objmapa.cgi+"?map="+objmapa.mapfile; u+="&mode=map&imgext="+objmapa.extent+"&mapsize="+nnx+" "+oy+"&map_scalebar_status=off"; var sul=u+"&imgxy="+sx/2+" "+sy/2; var norte=u+"&imgxy="+nnx/2+" "+nny/2; var leste=u+"&imgxy="+lx/2+" "+ly/2; var oeste=u+"&imgxy="+ox/2+" "+oy/2; $i("imgS").src=sul; $i("imgN").src=norte; $i("imgL").src=leste; $i("imgO").src=oeste;}
function ajustaEntorno(){ $left("img",objmapa.w*-1); $left("imgS",objmapa.w*-1); $left("imgL",objmapa.w); $left("imgO",objmapa.w*-3); $left("imgN",objmapa.w*-1); $top("img",objmapa.h*-1); $top("imgS",objmapa.h*-1); $top("imgL",objmapa.h*-1); $top("imgN",objmapa.h*-1); $top("imgO",objmapa.h*-1);}
function buscaRapida(){ if(!$i("boxg")){ var novoel=document.createElement("div"); novoel.id="boxg"; novoel.style.zIndex=5000; novoel.innerHTML='<font face="Arial" size=0></font>'; document.body.appendChild(novoel);}
 if($i("buscaRapida")){ if($i("valorBuscaRapida").value==""){alert("Digite uma palavra para busca!");return;}
 wdocaf("300px","280px",g_locaplic+"/ferramentas/buscarapida/index.htm","","","Busca rapida");}}
function verificaTip(){ if(!$i("tip")){ var novoel=document.createElement("div"); novoel.id="tip"; novoel.style.position="absolute"; if(navm){novoel.style.filter="alpha(opacity=90)";}
 document.body.appendChild(novoel);}
 if((objmapa.parado=="parar")||(objmapa.parado=="cancela")){return;}
 if((objmapa.parado=="sim")&&(g_operacao=="identifica")&&($i("tip").style.display!="block")){ $i("tip").style.top=objposicaocursor.telay+20; $i("tip").style.left=objposicaocursor.telax; $i("tip").innerHTML="<table style='text-align:left'><tr><td style='text-align:left'>Pesquisando...</td></tr></table>"; $i("tip").style.display="block"; eval(g_funcaoTip);}
 if(($i("box1"))&&(objmapa.parado=="sim")&&(document.getElementById("imgh").style.display=="block")&&($i("box1").style.visibility !="visible")){ if((g_tipoacao=="zoomli")||(g_tipoacao=="zoomlo")||(g_tipoacao=="pan")){ if(g_mostraRosa=="sim"){ if(navm){$i("tip").style.filter="alpha(opacity=0)";}
 else{$i("tip").style.opacity="5";}
 var setas="<table id=rosaV ><tr>"; if(navm){var s=" style=filter:'alpha(opacity=0)' ";}
 if(navn){var s=" style=opacity:0' ";}
 setas+="<td "+s+" ></td>"; setas+="<td><img title=norte src="+$im("rosanorte.png")+" onclick=\"panFixo('norte')\"/></td>"; setas+="<td "+s+" ></td></tr>"; setas+="<tr><td><img title=oeste src="+$im("rosaoeste.png")+" onclick=\"panFixo('oeste')\"/></td>"; setas+="<td><table><tr>"; setas+="<td><img title=aproxima onclick='zoomiauto()' src="+$im("rosacentrol.png")+" </td>"; setas+="<td><img title=afasta onclick='zoomoauto()' src="+$im("rosacentroo.png")+" </td>"; setas+="</tr></table></td>"; setas+="<td><img title=leste src="+$im("rosaleste.png")+" onclick=\"panFixo('leste')\"/></td></tr>"; setas+="<tr><td "+s+" ></td><td><img title=sul src="+$im("rosasul.png")+" onclick=\"panFixo('sul')\"/></td><td "+s+" ></td></tr></table>"; $i("tip").innerHTML=setas; $i("tip").style.top=objposicaocursor.telay-27; $i("tip").style.left=objposicaocursor.telax-27; $i("tip").style.display="block"; mostradicasf('','Clique nas pontas da rosa para navegar no mapa. Clique em x para parar de mostrar essa opo.',''); return;}}}
 if((objmapa.parado!="cancela")&&($i("tip").style.display!="block")){objmapa.parado="sim";}
 setTimeout('verificaTip()',g_tempotip);}
function verificaTipDefault(){ var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=identifica&opcao=tip&xy="+objposicaocursor.ddx+","+objposicaocursor.ddy+"&resolucao=5&g_sid="+g_sid; var cp=new cpaint(); cp.set_persistent_connection(true); cp.set_response_type("JSON"); cp.call(p,"identifica",mostraTip);}
function mostraTip(retorno){ var retorno=retorno.data; if((retorno !="erro")&&(retorno !=undefined)){ if($i("img")){$i("img").title="";}
 if(retorno !=""){ var res="<div id='cabecatip' style='text-align:left;background-color:rgb(240,240,240)'><span style='color:navy;cursor:pointer;text-align:left' onclick='javascript:objmapa.parado=\"cancela\"'>parar&nbsp;&nbsp;</span>"; res+="<span style='color:navy;cursor:pointer;text-align:left' onclick='javascript:objmapa.objtips.push($i(\"tip\"));$i(\"tip\").id=\"\";$i(\"cabecatip\").innerHTML=\"\";$i(\"cabecatip\").id=\"\"' >fixar</span></div>"; var temas=retorno.split("!"); for(tema=0;tema<temas.length;tema++){ var titulo=temas[tema].split("@"); if(g_tipotip=="completo"){ res+="<span style='text-align:left;font-size:9pt'><b>"+titulo[0]+"</b></span><br>";}
 var ocorrencias=titulo[1].split("*"); for(ocorrencia=0;ocorrencia<ocorrencias.length;ocorrencia++){ if(ocorrencias[ocorrencia] !=""){ var pares=ocorrencias[ocorrencia].split("##"); for(par=0;par<pares.length;par++){ var valores=pares[par].split("#"); if(g_tipotip=="completo"){ res=res+"<span class=tiptexto style='text-align:left;font-size:9pt'>"+valores[0]+" <i>"+valores[1]+"</i></span><br>";}
 else{ res=res+"<span class=tiptexto style='text-align:left;font-size:9pt'><i>"+valores[1]+"</i></span><br>";}}}}}
 if($i("janelaMen")){ $i("janelaMenTexto").innerHTML=res;}
 else{ $i("tip").innerHTML="<table style='text-align:left'><tr><td style='text-align:left'>"+res+"</td></tr></table>"; with($i("tip").style){top=objposicaocursor.telay-10;left=objposicaocursor.telax-20;display="block";}}}}}
function legendaGrafico(par){ var temp=par.split("*"); var par="<table>"; for(i=0;i<temp.length;i++){ var t=temp[i]; var t=t.split(","); par+="<tr style='text-align:left'><td style='background-color:rgb("+t[1]+","+t[2]+","+t[3]+")'>&nbsp;&nbsp;</td><td style='text-align:left'>"+t[0]+"</td></tr>";}
 par+="</table>"; if(!$i("legendagr")){ var novoel=document.createElement("div"); var temp='<div class="hd"><div class="tl"></div>'; temp+='<div class="tr"></div></div>'; temp+='<div id=contemleggr ></div>'; novoel.id="legendagr"; novoel.style.display="block"; novoel.style.textAlign="left"; novoel.innerHTML=temp; document.body.appendChild(novoel); YAHOO.namespace("legendagr.xp"); YAHOO.legendagr.xp.panel=new YAHOO.widget.Panel("legendagr",{width:"250px", fixedcenter: true, constraintoviewport: false, underlay:"none", close:true, visible:true, draggable:true, modal:false});}
 $i("contemleggr").innerHTML=par; YAHOO.legendagr.xp.panel.render(); YAHOO.legendagr.xp.panel.show();}
function inverteStatusClasse(leg){ var classe=leg.value; var layer=leg.name; var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=inverteStatusClasse&g_sid="+g_sid+"&tema="+layer+"&classe="+classe; var cp=new cpaint(); cp.set_response_type("json"); cp.call(p,"inverteStatusClasse",ajaxredesenha);}
function atualizagoogle(){ if(parent.frames["wdocai"]){ var doc=(navm)? document.frames("wdocai").document : $i("wdocai").contentDocument; if(doc.getElementById("map")){ parent.frames["wdocai"].panTogoogle();}}}
function atualizascielo(){ if(parent.frames["wdocai"]){ var docel=(navm)? document.frames("wdocai").document : $i("wdocai").contentDocument; if(docel.getElementById("resultadoscielo")){ parent.frames["wdocai"].buscascielo();}}}
function atualizaconfluence(){ if(parent.frames["wdocai"]){ var docel=(navm)? document.frames("wdocai").document : $i("wdocai").contentDocument; if(docel.getElementById("resultadoconfluence")){ parent.frames["wdocai"].buscaconfluence();}}}
function atualizawiki(){ if(parent.frames["wdocai"]){ var docel=(navm)? document.frames("wdocai").document : $i("wdocai").contentDocument; if(docel.getElementById("resultadowiki")){ parent.frames["wdocai"].buscawiki();}}}
function procurartemas(){ var procurar=document.getElementById("buscatema").value; var resultadoProcurar=function(retorno){ var retorno=retorno.data; if((retorno !="erro")&&(retorno !=undefined)){ var ins=""; for(ig=0;ig<retorno.length;ig++){ var ngSgrupo=retorno[ig].subgrupos; for(sg=0;sg<ngSgrupo.length;sg++){ var nomeSgrupo=ngSgrupo[sg].subgrupo; var ngTema=ngSgrupo[sg].temas; for(st=0;st<ngTema.length;st++){ if(ngTema[st].link !=" "){var lk="<a href="+ngTema[st].link+" target=blank>&nbsp;fonte</a>";}
 var tid=ngTema[st].tid; var inp="<input style='text-align:left;cursor:pointer;' onclick='mudaboxnf(\"adiciona\")' class=inputsb style='cursor:pointer' type=\"checkbox\" value="+tid+" onmouseover=\"javascript:mostradicasf(this,'Clique para ligar ou desligar esse tema, mostrando-o ou no no mapa. Aps alterar o estado do tema, aguarde alguns instantes para o mapa ser redesenhado, ou clique no boto aplicar que ser mostrado.','ligadesliga')\" onmouseout=\"javascript:mostradicasf(this,'')\"/>("+nomeSgrupo+")"; var nomeTema=inp+(ngTema[st].nome)+lk+"<br>"; ins+=nomeTema;}}}
 if(ins !=""){ $i("achados").innerHTML=ins+"<br>";}
 else{$i("achados").innerHTML="<span style='color:red'>Nada encontrado<br><br></span>";}}}
 var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=procurartemas&procurar="+procurar+"&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("json"); cp.call(p,"procurartemas",resultadoProcurar);}
function expandeTema(itemID){ var lista=(objmapa.temas).split(";"); if(!document.getElementById("idx"+itemID)){ for(l=0;l<lista.length;l++){ var ltema=lista[l].split("*"); if(ltema[0]==itemID){ var farol="maisamarelo.png"; if(ltema[8]==undefined){ltema[8]="nao";}
 if(ltema[6]*1 < objmapa.scale*1){ var farol="maisverde.png"; var mfarol="A escala do tema &eacute;compat&iacute;vel com a escala do mapa";}
 if(ltema[6]*1 > objmapa.scale*1){ var farol="maisvermelho.png"; var mfarol="A escala do tema &eacute incompat&iacute;vel com a escala do mapa";}
 if(ltema[6]==0){ var farol="maisamarelo.png"; var mfarol="A escala do tema n&atilde;o &eacute conhecida";}
 tnome="&nbsp;<img id=farol"+ltema[0]+" src="+$im(farol)+" title='"+mfarol+"' \>"; tnome+="&nbsp;<img id='idx"+ltema[0]+"' src="+$im("x.gif")+" title='excluir' onclick='excluitemaf(\""+ltema[0]+"\")' onmouseover=\"javascript:mostradicasf(this,'Clique para excluir esse tema do mapa.','exclui')\" onmouseout=\"javascript:mostradicasf(this,'')\" \>"; tnome+="&nbsp;<img src="+$im("sobe.gif")+" title='sobe' onclick='sobetemaf(\""+ltema[0]+"\")' onmouseover=\"javascript:mostradicasf(this,'Clique para subir esse tema na ordem de desenho','sobe')\" onmouseout=\"javascript:mostradicasf(this,'')\" \>"; tnome+="&nbsp;<img src="+$im("desce.gif")+" title='desce' onclick='descetemaf(\""+ltema[0]+"\")' onmouseover=\"javascript:mostradicasf(this,'Clique para ligar ou descer esse tema na ordem de desenho','desce')\" onmouseout=\"javascript:mostradicasf(this,'')\" \>"; tnome+="&nbsp;<img src="+$im("extent.gif")+" title='zoom para o tema' onclick='zoomtemaf(\""+ltema[0]+"\")' onmouseover=\"javascript:mostradicasf(this,'Clique para ajustar o mapa de forma a mostrar todo o tema','')\" onmouseout=\"javascript:mostradicasf(this,'')\" \>"; mytreeview1.createItem("temap0"+ltema[0], tnome, imgBranco, false, true, true, ltema[0]); if(g_opcoesTemas=="sim"){mytreeview1.createItem("opc"+ltema[0], "Opes", imgBranco, true, true, true, ltema[0]);}
 mytreeview1.createItem("legenda"+ltema[0], "Legenda", imgBranco, true, true, true, ltema[0]); if(g_opcoesTemas=="sim"){ var im=""; if(navn){var im="<img src='"+g_locaplic+"/imagens/branco.gif' width=0 height=13/>";}
 if((ltema[4] !=0)||(ltema[8]=="sim")){ tnome="<span onclick='mudatranspf(\""+ltema[0]+"\")'>"+im+"<img src="+$im("tic.png")+" onmouseover=\"javascript:mostradicasf(this,'Altera a transparncia do tema, possibilitando que as camadas inferiores possam ser vistas.','')\" onmouseout=\"javascript:mostradicasf(this,'')\"/>&nbsp;opacidade: </span><input onchange='mudatranspf(\""+ltema[0]+"\")' class=digitar type=text size=3 value="+ltema[3]+" id='tr"+ltema[0]+"'/>"; mytreeview1.createItem("temap1"+ltema[0], tnome, imgBranco, false, true, false, "opc"+ltema[0]);}
 tnome="<span onclick='mudanomef(\""+ltema[0]+"\")'>"+im+"<img src="+$im("tic.png")+" onmouseover=\"javascript:mostradicasf(this,'Muda o nome atual do tema, utilize para melhorar a leganda do mapa.','')\" onmouseout=\"javascript:mostradicasf(this,'')\"/>&nbsp;novo nome: </span><input onchange='mudanomef(\""+ltema[0]+"\")' class=digitar type=text size=10 value='' id='nn"+ltema[0]+"'/>"; mytreeview1.createItem("temap2"+ltema[0], tnome, imgBranco, false, true, false, "opc"+ltema[0]); if((ltema[4] < 3)&&(ltema[9] !=7)){ tnome="<span onclick='procuraratribf(\""+ltema[0]+"\")'>"+im+"<img src="+$im("tic.png")+" onmouseover=\"javascript:mostradicasf(this,'Localize elementos no tema com base em seus atributos descritivos.','')\" onmouseout=\"javascript:mostradicasf(this,'')\"/>&nbsp;procurar... </span>"; mytreeview1.createItem("temap3"+ltema[0], tnome, imgBranco, false, true, false, "opc"+ltema[0]); tnome="<span onclick='toponimiaf(\""+ltema[0]+"\")'>"+im+"<img src="+$im("tic.png")+" onmouseover=\"javascript:mostradicasf(this,'Crie uma nova camada no mapa para apresentar textos descritivos sobre esse tema, tendo como base a tabela de atributos.','')\" onmouseout=\"javascript:mostradicasf(this,'')\"/>&nbsp;texto... </span>"; mytreeview1.createItem("temap4"+ltema[0], tnome, imgBranco, false, true, false, "opc"+ltema[0]); tnome="<span onclick='etiquetas(\""+ltema[0]+"\")'>"+im+"<img src="+$im("tic.png")+" onmouseover=\"javascript:mostradicasf(this,'Defina as etiquetas que sero mostradas quando o mouse  estacionado sobre um elemento desse tema.','')\" onmouseout=\"javascript:mostradicasf(this,'')\"/>&nbsp;etiquetas... </span>"; mytreeview1.createItem("temap7"+ltema[0], tnome, imgBranco, false, true, false, "opc"+ltema[0]); tnome="<span onclick='filtrof(\""+ltema[0]+"\")'>"+im+"<img src="+$im("tic.png")+" onmouseover=\"javascript:mostradicasf(this,'Insira um filtro nesse tema para mostrar apenas determinadas informaes, com base na tabela de atributos.','')\" onmouseout=\"javascript:mostradicasf(this,'')\"/>&nbsp;filtro... </span>"; mytreeview1.createItem("temap5"+ltema[0], tnome, imgBranco, false, true, false, "opc"+ltema[0]); tnome="<span onclick='tabelaf(\""+ltema[0]+"\")'>"+im+"<img src="+$im("tic.png")+" onmouseover=\"javascript:mostradicasf(this,'Veja a tabela de atributos relacionada a esse tema.','')\" onmouseout=\"javascript:mostradicasf(this,'')\"/>&nbsp;tabela... </span>"; mytreeview1.createItem("temap6"+ltema[0], tnome, imgBranco, false, true, false, "opc"+ltema[0]);}
 if(ltema[4] < 4){ tnome="<span onclick='editaLegenda(\""+ltema[0]+"\")'>"+im+"<img src="+$im("tic.png")+" onmouseover=\"javascript:mostradicasf(this,'Abre o editor de legenda, permitindo a alterao da forma de representao desse tema.','')\" onmouseout=\"javascript:mostradicasf(this,'')\"/>&nbsp;editar legenda... </span>"; mytreeview1.createItem("temap7"+ltema[0], tnome, imgBranco, false, true, false, "opc"+ltema[0]);}
 tnome="<span onclick='destacaTema(\""+ltema[0]+"\")'>"+im+"<img src="+$im("tic.png")+" onmouseover=\"javascript:mostradicasf(this,'Mostra os dados desse tema em uma janela que acompanha o mouse.','')\" onmouseout=\"javascript:mostradicasf(this,'')\"/>&nbsp;mostra em janela... </span>"; mytreeview1.createItem("temap8"+ltema[0], tnome, imgBranco, false, true, false, "opc"+ltema[0]);}
 mytreeview1.createItem("","", imgBranco, false, true, true, ltema[0]); break;}}}
 var tema=itemID.split("legenda"); if(tema.length==2){ var expandeLegendaVer=function(retorno){ if(retorno.data !=undefined){ var retorno=retorno.data; if(retorno[0]){ if((navn)&&(!retorno[0].imagem)){tabela=retorno;}
 else{ var i=retorno[0].imagem; var re=new RegExp("tiff", "g"); var i=i.replace(re,'png'); var tabela="<img src='"+i+"'/>";}
 retorno="";}
 else{ var linhas=retorno.split("#"); if(linhas.length > 1){ var linhas=retorno.split("|"); var tabela="<table >"; for(linha=0;linha<linhas.length;linha++){ var colunas=linhas[linha].split("#"); var id=colunas[0]+"-"+colunas[1]; var re=new RegExp("'", "g"); var exp=colunas[3].replace(re,'"'); tabela+="<tr style='border-top:1px solid rgb(240,240,240);'><td><img src='"+colunas[4]+"' </td><td style='text-align:left'>"+colunas[2]+"</td></tr>";}
 tabela+="</table><br>";}
 else{tabela=retorno;}}
 if(!$i(g_arvoreClick+"verdiv")){ incluir="<div style='text-align:left' id='"+g_arvoreClick+"verdiv"+"'>"+tabela+"</div>"; mytreeview1.createItem(g_arvoreClick+"ver", incluir, imgBranco, false, true, true, g_arvoreClick);}
 else{ $i(g_arvoreClick+"verdiv").innerHTML=tabela;}}}
 g_arvoreClick=itemID; tema=tema[1]; var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=criaLegendaHTML&template=legenda2.htm&tema="+tema+"&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"criaLegenda",expandeLegendaVer);}}
function expandeGrupo(itemID){ g_arvoreClick=itemID; if((itemID.search("sgrupo")>-1)&&(g_arvoreClicks.search(itemID)==-1)){ var codigos=itemID.split("_"); var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=pegalistadetemas&grupo="+codigos[1]+"&subgrupo="+codigos[2]+"&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("json"); cp.call(p,"pegaListaDeTemas",processaTemas);}}
function processaGrupos(retorno){ if((retorno.data !="erro")&&(retorno.data !=undefined)){ if($i("buscatema")){var busca=$i("buscatema").value;}
 $i(objmapa.guiaMenu+"obj").innerHTML=""; if(!document.getElementById("buscatema")){ var insp="<div style='text-align:left;'><table cellspacing=0 cellpadding=0 ><tr><td style='text-align:left;font-size:10px;'>"; insp=insp+"<img src='"+g_locaplic+"/imagens/branco.gif' height=0/>"; insp=insp+"<p>&nbsp;procurar:<input class=digitar type=text id=buscatema size=15 value=''/><img title='procurar' src="+$im("tic.png")+" onclick='procurartemas()' style='cursor:pointer'/></td></tr></table><br>"; $i(objmapa.guiaMenu+"obj").innerHTML=insp+"<div style='text-align:left;font-size:10px;' id=achados ></div></div>";}
 var upload=""; if(g_uploadlocal=="sim"){upload+="<div style='width:98%;left:5px;cursor:pointer;text-align:left;font-size:11px;' onclick='upload()'><img src="+$im("upload.gif")+" style='cursor:pointer;text-align:left'/>&nbsp;Upload de arquivo local</div>";}
 if(g_downloadbase=="sim"){upload+="<div style='width:98%;left:5px;cursor:pointer;text-align:left;font-size:11px;' onclick='downloadbase()'><img src="+$im("connected-s.gif")+" style='cursor:pointer;text-align:left'/>&nbsp;Download de dados</div>";}
 if(g_conectarwms=="sim"){upload+="<div style='width:98%;left:5px;cursor:pointer;text-align:left;font-size:11px;' onclick='conectarwms()'><img src="+$im("cmdLink.gif")+" style='cursor:pointer;text-align:left'/>&nbsp;Conectar com servidor WMS</div>";}
 if(g_conectargeorss=="sim"){upload+="<div style='width:98%;left:5px;cursor:pointer;text-align:left;font-size:11px;' onclick='conectargeorss()'><img src="+g_locaplic+"/imagens/georss-1.png style='cursor:pointer;text-align:left'/>&nbsp;Conectar com GeoRss</div>";}
 $i(objmapa.guiaMenu+"obj").innerHTML+=upload; mytreeview2=new Object(); mytreeview2=treeviewNew("mytreeview2", "default", objmapa.guiaMenu+"obj", null); mytreeview2.createItem("item1", "<b>Temas</b>", g_locaplic+"/imagens/visual/"+g_visual+"/temas.png", true, true, true, null); mytreeview2.itemExpand=expandeGrupo; for(i=0;i<retorno.data.grupos.length;i++){ if(retorno.data.grupos[i].nome){ mytreeview2.createItem("grupo"+i, retorno.data.grupos[i].nome, g_locaplic+"/imagens/visual/"+g_visual+"/folder-s.gif", true, true, true, "item1"); var ngSgrupo=retorno.data.grupos[i].subgrupos; var cor="rgb(230,230,230)"; for(sg=0;sg<ngSgrupo.length;sg++){ if(navm) var nomeSgrupo="<span style='background-color:"+cor+"' >"+ngSgrupo[sg].nome+"</span>"; else var nomeSgrupo="<span style='background-color:"+cor+"' ><img src='"+g_locaplic+"/imagens/branco.gif' width=0 height=15/>"+ngSgrupo[sg].nome+"</span>"; mytreeview2.createItem("sgrupo_"+i+"_"+sg, nomeSgrupo, imgBranco, true, true, false, "grupo"+i); if(cor=="rgb(230,230,230)"){var cor="rgb(255,255,255)";}
 else{var cor="rgb(230,230,230)";}}
 var ngtSgrupo=retorno.data.grupos[i].temasgrupo; for(sgt=0;sgt<ngtSgrupo.length;sgt++){ var no=ngtSgrupo[sgt]; var nome=no.nome; var lk=no.link; if(lk !=" "){var lk="<a href="+lk+" target=blank>&nbsp;fonte</a>";}
 var tid=no.tid; var inp="<input style='text-align:left;cursor:pointer;' onclick='mudaboxnf(\"adiciona\")' class=inputsb style='cursor:pointer' type=\"checkbox\" value="+tid+" onmouseover=\"javascript:mostradicasf(this,'Clique para ligar ou desligar esse tema, mostrando-o ou no no mapa. Aps alterar o estado do tema, aguarde alguns instantes para o mapa ser redesenhado, ou clique no boto aplicar que ser mostrado.','ligadesliga')\" onmouseout=\"javascript:mostradicasf(this,'')\"/>"; if(navm) nomeTema="&nbsp;"+inp+nome+lk; else nomeTema="<span><img src='"+g_locaplic+"/imagens/branco.gif' width=0 height=15/>"+inp+nome+lk+"</span>"; mytreeview2.createItem("sgrupo_"+i+"_"+sg+"_"+sgt, nomeTema, imgBranco, false, true, false, "grupo"+i);}}
 if(retorno.data.grupos[i].temasraiz){ for(st=0;st<retorno.data.grupos[i].temasraiz.length;st++){ var no=retorno.data.grupos[i].temasraiz[st]; var nome=no.nome; var lk=no.link; if(lk !=" "){var lk="<a href="+lk+" target=blank>&nbsp;fonte</a>";}
 var tid=no.tid; var inp="<input style='text-align:left;cursor:pointer;' onclick='mudaboxnf(\"adiciona\")' class=inputsb style='cursor:pointer' type=\"checkbox\" value="+tid+" onmouseover=\"javascript:mostradicasf(this,'Clique para ligar ou desligar esse tema, mostrando-o ou no no mapa. Aps alterar o estado do tema, aguarde alguns instantes para o mapa ser redesenhado, ou clique no boto aplicar que ser mostrado.','ligadesliga')\" onmouseout=\"javascript:mostradicasf(this,'')\"/>"; if(navm) nomeTema="&nbsp;"+inp+nome+lk; else nomeTema="<span><img src='"+g_locaplic+"/imagens/branco.gif' width=0 height=15/>"+inp+nome+lk+"</span>"; mytreeview2.createItem("tema"+i+""+st, nomeTema, imgBranco, false, true, true, "item1");}
 mytreeview2.createItem("", "", imgBranco, false, true, true, "item1");}}
 if(g_locsistemas !=""){pegavalSistemas(retorno.data.grupos[retorno.data.grupos.length-1].sistemas);}}}
function processaTemas(retorno){ if((retorno.data !="erro")&&(retorno.data !=undefined)){ var cor="rgb(251,246,184)"; for(st=0;st<retorno.data.temas.length;st++){ var nome=retorno.data.temas[st].nome; var lk=retorno.data.temas[st].link; if(lk !=" "){var lk="<a href="+lk+" target=blank>&nbsp;fonte</a>";}
 var tid=retorno.data.temas[st].tid; var inp="<input style='text-align:left;cursor:pointer;' onclick='mudaboxnf(\"adiciona\")' class=inputsb style='cursor:pointer' type=\"checkbox\" value="+tid+" onmouseover=\"javascript:mostradicasf(this,'Clique para ligar ou desligar esse tema, mostrando-o ou no no mapa. Aps alterar o estado do tema, aguarde alguns instantes para o mapa ser redesenhado, ou clique no boto aplicar que ser mostrado.','ligadesliga')\" onmouseout=\"javascript:mostradicasf(this,'')\"/>"; if(navm) nomeTema="<span style='background-color:"+cor+"' title='c&oacute;digo: "+tid+"'>"+inp+nome+lk+"</span>"; else nomeTema="<span style='background-color:"+cor+"' title='c&oacute;digo: "+tid+"'><img src='"+g_locaplic+"/imagens/branco.gif' width=0 height=15/>"+inp+nome+lk+"</span>"; mytreeview2.createItem("tema"+sg+""+st, nomeTema, imgBranco, false, true, true, g_arvoreClick); if(cor=="rgb(251,246,184)"){var cor="rgb(255,255,255)";}
 else{var cor="rgb(251,246,184)";}}
 mytreeview2.createItem("vazio", "", imgBranco, false, true, true, g_arvoreClick); g_arvoreClicks+=","+g_arvoreClick;}}
function pegavalSistemas(sis){ mytreeviewS=new Object(); mytreeviewS=treeviewNew("mytreeviewS", "default", objmapa.guiaMenu+"obj", null); mytreeviewS.createItem("Sitem1", "<b>Sistemas</b>", g_locaplic+"/imagens/temas.png", true, true, true, null); for(ig=0;ig<sis.length;ig++){ var nomeSis=sis[ig].NOME; mytreeviewS.createItem("sis"+ig, nomeSis, g_locaplic+"/imagens/folder-s.gif", true, true, true, "Sitem1"); var funcoes=sis[ig].FUNCOES; for(ig2=0;ig2<funcoes.length;ig2++){ var nomeFunc=funcoes[ig2].NOME; var executar=funcoes[ig2].ABRIR; var w=funcoes[ig2].W; var h=funcoes[ig2].H; var inp="<img title='Abrir sistema' src="+$im("open.gif")+" style='cursor:pointer;text-align:left' onclick='abreSistema(\""+executar+"\",\""+w+"\",\""+h+"\")'/>&nbsp;"; mytreeviewS.createItem("sis"+ig+"func"+ig2, inp+nomeFunc, imgBranco, false, true, false, "sis"+ig);}}}
function pegaMapas(retorno){ var ins="<br>"; var mapa=retorno.data.mapas; for(ig1=0;ig1<mapa.length;ig1++){ var nome=mapa[ig1].NOME; var descricao=mapa[ig1].DESCRICAO; var imagem=mapa[ig1].IMAGEM; var temas=mapa[ig1].TEMAS; var ligados=mapa[ig1].LIGADOS; var extensao=mapa[ig1].EXTENSAO; var outros=mapa[ig1].OUTROS; var lkd=mapa[ig1].LINK; var link=g_locaplic+"/ms_criamapa.php?temasa="+temas+"&layers="+ligados; if(extensao !=""){link+="&mapext="+extensao;}
 if(outros !=""){link+="&"+outros;}
 if(lkd !=""){var link=lkd;}
 ins+="<div><a href='"+link+"'><img src='"+imagem+"'></a></div><br>"; ins+="<div><p>"+nome+"</p></div><br>";}
 $i("banners").innerHTML=ins;}
function arvoreclick(itemID){ if(itemID.search("tema")==0){ if($i(itemID).checked==true){$i(itemID).checked=false;}
 else{$i(itemID).checked=true;}}}
function pegaTema(celula){ var nos=celula.parentNode.childNodes; for(no=0;no<nos.length;no++){if(nos[no].type=="checkbox"){return nos[no].value;}}}
function autoRedesenho(opcao){ if(opcao=="desativa"){ g_autoRedesenho=0; clearTimeout(objmapa.tempoRedesenho); clearTimeout(objmapa.contaTempoRedesenho); objmapa.tempoRedesenho=""; objmapa.contaTempoRedesenho=""; objmapa.tempoRedesenho=""; if($i("tempoRedesenho")){$i("tempoRedesenho").style.display="none";}}
 if(opcao=="ativa"){ if(($i("tempoRedesenho"))&&(g_autoRedesenho > 0)){$i("tempoRedesenho").style.display="block";}
 if(g_autoRedesenho > 0){objmapa.tempoRedesenho=setTimeout('autoRedesenho("redesenha")',g_autoRedesenho);}
 if(($i("tempoRedesenho"))&&(g_autoRedesenho > 0)){ $i("tempoRedesenho").innerHTML=g_autoRedesenho/1000; objmapa.contaTempoRedesenho=setTimeout('autoRedesenho("contagem")',1000);}}
 if(opcao=="redesenha"){ clearTimeout(objmapa.tempoRedesenho); clearTimeout(objmapa.contaTempoRedesenho); remapaf(); autoRedesenho("ativa");}
 if(opcao=="contagem"){ if($i("tempoRedesenho")){ $i("tempoRedesenho").innerHTML=parseInt($i("tempoRedesenho").innerHTML)-1; objmapa.contaTempoRedesenho=setTimeout('autoRedesenho("contagem")',1000);}}}
function remapaf(){ clearTimeout(objmapa.tempo); objmapa.tempo=""; objmapa.temaAtivo=""; if($i(objmapa.guiaTemas+"obj")){ var iguias=$i(objmapa.guiaTemas+"obj").getElementsByTagName("input"); var tsl=new Array(); var tsd=new Array(); for(i=0;i<iguias.length;i++){ if(iguias[i].type=="checkbox"){ if(iguias[i].checked==false){tsd.push(iguias[i].value);}
 if(iguias[i].checked==true){tsl.push(iguias[i].value);}}}
 var remapaAdicNovos=function remapaAdicNovos(retorno){ if($i("buscatema")){ var g=$i(objmapa.guiaMenu+"obj"); var iguias=g.getElementsByTagName("input"); var ta=new Array(); for(i=0;i<iguias.length;i++){ if(iguias[i].type=="checkbox"){ if(iguias[i].checked==true){ ta.push(iguias[i].value); iguias[i].checked=false;}}}
 if(ta.length > 0){ objaguarde.abre("ajaxredesenha","Aguarde..."); var temp=function(){ajaxredesenha("");}
 var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=adtema&temas="+(ta.toString())+"&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"adicionaTema",temp);}
 else{ objaguarde.abre("ajaxredesenha","Aguarde..."); ajaxredesenha("");}}
 else{ objaguarde.abre("ajaxredesenha","Aguarde..."); ajaxredesenha("");}
 objaguarde.fecha("remapa");}
 if((tsd.length > 0)||(tsl.length > 0)){ objaguarde.abre("remapa","Aguarde...refazendo o mapa"); var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=ligatemas&desligar="+(tsd.toString())+"&ligar="+(tsl.toString())+"&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"ligaDesligaTemas",remapaAdicNovos);}
 else{remapaAdicNovos();}}
 else{remapaAdicNovos();}}
function processevent1(exy1){ navm=false; navn=false; var app=navigator.appName.substring(0,1); if(app=='N')navn=true;else navm=true; if($i("img")){calcposf();}
 if(navn){ objposicaomouse.x=exy1.clientX; objposicaomouse.y=exy1.clientY;}
 if(navm){ objposicaomouse.x=window.event.clientX; objposicaomouse.y=window.event.clientY;}}
function calcposf(){ imagemxi=0; imagemyi=0; imagemxref=0; imagemyref=0; if(!$i("corpo")){return;}
 var dc=$i("corpo"); if($i("img")){var dc=$i("contemImg");}
 if($i("openlayers_OpenLayers_Container")){var dc=$i("openlayers_OpenLayers_Container");}
 while(dc.offsetParent){ dc=dc.offsetParent; imagemxi=imagemxi+dc.offsetLeft; imagemyi=imagemyi+dc.offsetTop;}
 if($i("img")){ $left("corpoMapa",imagemxi); $top("corpoMapa",imagemyi);}
 if($i("mostradistancia")){ $left("mostradistancia",imagemxi); $top("mostradistancia",imagemyi);}
 if($i("ref")){ var dc=$i("ref"); while(dc.offsetParent.id !="corpo"){ dc=dc.offsetParent; imagemxref=imagemxref+dc.offsetLeft; imagemyref=imagemyref+dc.offsetTop;}}
 if($i("aguarde")){ $top("aguarde",imagemyi); $left("aguarde",imagemxi);}}
function movecursor(){ var obje=$i("obj").style; if($i("img")){ eval("obje."+g_tipotop+"=objposicaocursor.telay+5+g_postpx"); eval("obje."+g_tipoleft+"=objposicaocursor.telax+5+g_postpx");}
 else{ eval("obje."+g_tipotop+"=objposicaocursor.telay-15+g_postpx"); eval("obje."+g_tipoleft+"=objposicaocursor.telax+15+g_postpx");}
 if($i("box1")){ var bx=$i("box1"); if(bx.style.visibility !="visible"){ with(bx.style){ left=objposicaocursor.telax+g_postpx; top=objposicaocursor.telay+g_postpx;}}}}
function capturaposicao(exy){ var e=(navn)? exy : window.event; if(navn){ var storage=e.clientY+window.pageYOffset; var storage1=e.clientX+window.pageXOffset; calcposf(); var xfig=e.clientX-imagemxi+pageXOffset; var yfig=e.clientY-imagemyi+pageYOffset; var xreffig=e.clientX-imagemxref+pageXOffset; var yreffig=e.clientY-imagemyref+pageYOffset;}
 if(navm){ var storage=e.clientY+document.body.scrollTop; var storage1=e.clientX+document.body.scrollLeft; calcposf(); var xfig=e.clientX-imagemxi+document.body.scrollLeft; var yfig=e.clientY-imagemyi+document.body.scrollTop; var xreffig=e.clientX-imagemxref+document.body.scrollLeft; var yreffig=e.clientY-imagemyref+document.body.scrollTop;}
 var teladd=calcddf(xfig,yfig,g_celula,objmapa.extent); var teladms=convdmsf(teladd[0],teladd[1]); with(objposicaocursor){ ddx=teladd[0]; ddy=teladd[1]; dmsx=teladms[0]; dmsy=teladms[1]; telax=storage1; telay=storage; imgx=xfig; imgy=yfig; refx=xreffig; refy=yreffig;}
 if(objmapa.parado!="cancela"){objmapa.parado="nao";}
 ajaxTip="";}
function gerafilmef(qs){ if($i("lugarquadros")){ var q="<table class=tablefilme ><tr><td><img src=\""+g_localimg+"/icon_menuarrow.gif\" title='op&ccedil;&otilde;es' onclick='opcoesQuadros()' style='cursor:pointer'/></td>"; for(i=0;i < qs;i++){ q=q+"<td><img src=\""+g_localimg+"/quadro.png\" id=f"+i+" onmouseover='filmef(this);mostradicasf(this,\"Quadro-clique para restaurar\",\"quadro\")' onmouseout=\"javascript:mostradicasf(this,'')\" onclick='filmezf(this)'/></td>"; var qu=new quadrofilme(); quadrosfilme[i]=qu;}
 var finalq="</tr></table>"; document.getElementById("lugarquadros").innerHTML=q+finalq;}}
function gravaQuadro(variavel,valor){ var muda=-1; if($i("lugarquadros")){ var nquadros=quadrosfilme.length; if(quadrosfilme[nquadros-1].imagem !=" "){rebobinaf();}
 for(i=0;i < nquadros;i++){ if((eval("quadrosfilme["+i+"]."+variavel+"==' '"))&&(muda < 0)){muda=i;}}
 eval("quadrosfilme["+(muda)+"]."+variavel+"='"+valor+"'");}}
function avancaQuadro(){ var muda=-1; if($i("lugarquadros")){ var nquadros=quadrosfilme.length; if(quadrosfilme[nquadros-1].imagem !=" "){rebobinaf();}
 for(i=0;i < nquadros;i++){ if((quadrosfilme[i].imagem==" ")&&(muda < 0)){muda=i;}}
 $i("f"+muda).src=g_localimg+"/quadro1.png";}}
function filmef(o){ if($i("lugarquadros")){ var v=(o.id).replace("f",""); if(quadrosfilme[v].imagem !=" "){$i("img").src=quadrosfilme[v].imagem;}}}
function rebobinaf(){ janima=0; var nquadros=quadrosfilme.length; for(i=0;i < nquadros;i++){ $i("f"+i).src=g_localimg+"/quadro.png"; with(quadrosfilme[i]){imagem=" ";escala=" ";legenda=" ";extensao=" ";referencia=" ";}}}
function filmezf(o){ var quadro=(o.id).replace("f",""); if(quadrosfilme[quadro].extensao !=" "){ ext=quadrosfilme[quadro].extensao; var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=mudaext&ext="+ext+"&g_sid="+g_sid; objaguarde.abre("ajaxredesenha","Aguarde..."); var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"mudaExtensao",ajaxredesenha);}}
function filmeanimaf(){ preLoad=new Array(); for(i=0;i < quadrosfilme.length;i++){ $i("f"+i).src=g_localimg+"/quadro.png"; if(quadrosfilme[i].imagem !=" "){ preLoad[i]=new Image(); preLoad[i].src=quadrosfilme[i].imagem }}
 filmeanimarodaf(0);}
function filmeanimarodaf(janima){ if(janima < quadrosfilme.length){ $i("img").src=preLoad[janima].src; $i("f"+janima).src=g_localimg+"/quadro1.png"; janima=janima+1; var doc=(navm)? document.frames("wdocai").document : $i("wdocai").contentDocument; var ti=doc.getElementById("tempoanima").value; t=setTimeout('filmeanimarodaf('+janima+')',ti);}}
function quadrofilme(){ this.imagem=" "; this.escala=" "; this.legenda=" "; this.extensao=" "; this.referencia=" ";}
function calculadistancia(lga,lta,lgb,ltb){ var er=6366.707; var radlat1=Math.PI*lta/180; var radlat2=Math.PI*ltb/180; var radlong1=Math.PI*lga/180; var radlong2=Math.PI*lgb/180; if(lta > 0){radlat1=Math.PI/2-radlat1;}
 if(lta < 0){radlat1=Math.PI/2+radlat1;}
 if(lga < 0){radlong1=Math.PI*2-radlong1;}
 if(ltb > 0){radlat2=Math.PI/2-radlat2;}
 if(ltb < 0){radlat2=Math.PI/2+radlat2;}
 if(lgb < 0){radlong2=Math.PI*2-radlong2;}
 var x1=er*Math.cos(radlong1)*Math.sin(radlat1); var y1=er*Math.sin(radlong1)*Math.sin(radlat1); var z1=er*Math.cos(radlat1); var x2=er*Math.cos(radlong2)*Math.sin(radlat2); var y2=er*Math.sin(radlong2)*Math.sin(radlat2); var z2=er*Math.cos(radlat2); var d=Math.sqrt((x1-x2)*(x1-x2)+(y1-y2)*(y1-y2)+(z1-z2)*(z1-z2)); var theta=Math.acos((er*er+er*er-d*d)/(2*er*er)); return theta*er;}
function convdmsddf(cd,cm,cs){ var sinal='positivo'; if(cd < 0){ cd=cd*-1; sinal='negativo';}
 spm=cs/3600; mpg=cm/60; var dd=(cd*1)+(mpg*1)+(spm*1); if(sinal=='negativo'){dd=dd*-1;}
 return(dd);}
function calcddf(xfign,yfign,g_celula,imgext){ if(navm){ xfign=xfign-2.2; yfign=yfign-2.7;}
 if(navn){ xfign=xfign-0.12; yfign=yfign-1.05;}
 var nx=g_celula*xfign; var ny=g_celula*yfign; var amext=imgext.split(" "); var longdd=(amext[0]*1)+nx; var latdd=(amext[3]*1)-ny; var res=new Array(); res[0]=longdd; res[1]=latdd; return(res);}
function convdmsf(x,y){ var m=0; var s=0; var dx=parseInt(x); if(dx > 0){var restod=x-dx;}
 if(dx < 0){restod=(x*-1)-(dx*-1);}
 dx=dx; if(restod !=0){ var mm=restod*60; var m=parseInt(restod*60); var restos=mm-m; var mx=m; if(restos !=0){ var s=restos*60; var s=(s+"_").substring(0,5); var sx=s;}
 else{s="00.00"}}
 else{ var mx="00"; var sx="00.00";}
 if(m.length==2){m="0"+m+"";}
 if(s*1 < 10){s="0"+s;}
 var xv=dx+" "+mx+" "+sx; var m=0; var s=0; var dy=parseInt(y); if(dy > 0){var restod=y-dy;}
 if(dy < 0){var restod=(y*-1)-(dy*-1);}
 dy=dy; if(restod !=0){ var mm=restod*60; var m=parseInt(restod*60); var restos=mm-m; var my=m; if(restos !=0){ var s=restos*60; s=(s+"_").substring(0,5); var sy=s;}
 else{var s="00.00";}}
 else{ var my="00"; var sy="00.00";}
 if(m.length==2){m="0"+m;}
 if(s*1 < 10){s="0"+s;}
 var yv=dy+" "+my+" "+sy; var res=new Array(); res[0]=xv; res[1]=yv; if($i("localizarxy")){ $i("xg").value=dx; $i("xm").value=mx; $i("xs").value=sx; $i("yg").value=dy; $i("ym").value=my; $i("ys").value=sy; }
 return res;}
function convddtela(vx,vy,docmapa){ if(!docmapa){var docmapa=window.document;}
 var dc=docmapa.getElementById("img"); imgext=objmapa.extent; varimgext=imgext.split(" "); vx=(varimgext[0]*-1)-(vx*-1); vy=(vy*-1)+(varimgext[3]*1); c=objmapa.cellsize*1; xy=new Array(); xy[0]=(vx/c)+imagemxi; xy[1]=(vy/c)+imagemyi; return(xy);}
function posicaomouse(){ this.x=0; this.y=0;}
function posicaocursor(){ this.ddx=0; this.ddy=0; this.dmsx=''; this.dmsy=''; this.telax=0; this.telay=0; this.imgx=0; this.imgy=0; this.refx=0; this.refy=0;}
function pontosdist(){ this.xpt=new Array(); this.ypt=new Array(); this.dist=new Array();}
function inseremarcaf(xi,yi){ if(!$i("pontosins")){ var novoel=document.createElement("div"); novoel.id="pontosins"; with(novoel.style){position="absolute";top=parseInt($i("img").style.top);left=parseInt($i("img").style.left);}
 document.body.appendChild(novoel);}
 var container=$i("pontosins"); var novoel=document.createElement("div"); with(novoel.style){position="absolute";zIndex=2000;top=(yi-2)+"px";left=(xi-2)+"px";width="4px";height="4px";}
 var novoimg=document.createElement("img"); novoimg.src=g_locaplic+"/imagens/dot1.gif"; with(novoimg.style){width="4px";height="4px";zIndex=2000;}
 novoel.appendChild(novoimg); container.appendChild(novoel);}
function limpacontainerf(){ if($i("pontosins")){$i("pontosins").innerHTML="";}
 if($i("mostradistancia")){$i("mostradistancia").style.display="none";}}
 function testafuncoes(){}

function autoredesenha(){wdocaf("300px","180px",g_locaplic+"/ferramentas/opcoes_autoredesenha/index.htm","","","");}
function salvaMapa(){wdocaf("300px","180px",g_locaplic+"/ferramentas/salvamapa/index.htm","","","Salva mapa");}
function carregaMapa(){wdocaf("300px","150px",g_locaplic+"/ferramentas/carregamapa/index.htm?urlatual="+window.location,"","","Carrega mapa");}
function convertews(){wdocaf("440px","280px",g_locaplic+"/ferramentas/convertews/index.htm","","","Web service");}
function queryMap(){wdocaf("210px","170px",g_locaplic+"/ferramentas/opcoes_querymap/index.htm","","","Querymap");}
function template(){wdocaf("300px","400px",g_locaplic+"/ferramentas/template/index.htm","","","Template");}
function ativaLogo(){ var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=ativalogo&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"ativalogo",ajaxredesenha);}
function tamanho(){wdocaf("150px","170px",g_locaplic+"/ferramentas/opcoes_tamanho/index.htm","","","Tamanho");}
function tipoimagem(){wdocaf("300px","200px",g_locaplic+"/ferramentas/tipoimagem/index.htm","","","Tipo de imagem");}
function corFundo(){wdocaf("210px","170px",g_locaplic+"/ferramentas/opcoes_fundo/index.htm","","","Fundo");}
function destacaTema(tema){ if($i("img_d")){$i("img_d").src="";}
 if($i(objmapa.guiaTemas+"obj")){ var iguias=$i(objmapa.guiaTemas+"obj").getElementsByTagName("input"); for(i=0;i<iguias.length;i++){ if((iguias[i].type=="checkbox")&&(iguias[i].value==tema)&&(iguias[i].checked==true)){alert("Desligue o tema antes de destacar");return;}}}
 objaguarde.abre("ajaxdestaca","Aguarde...gerando imagem"); g_destaca=tema; var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=geradestaque&tema="+tema+"&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"geraDestaque",ajaxdestaca); if($i("img")){$i("img").title="utilize as teclas+-para mudar o tamanho do destaque";}}
function excluitemaf(tema){ g_operacao="excluitema"; var p=document.getElementById("idx"+tema).parentNode.parentNode.parentNode; do{ p.removeChild(p.childNodes[0]);}while(p.childNodes.length > 0); p.parentNode.removeChild(p); objaguarde.abre("ajaxredesenha","Aguarde..."); var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=excluitema&temas="+tema+"&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"excluiTemas",ajaxredesenha); objmapa.temaAtivo="";}
function sobetemaf(tema){ objaguarde.abre("ajaxredesenha","Aguarde..."); var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=sobetema&tema="+tema+"&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"sobeTema",ajaxredesenha);}
function descetemaf(tema){ objaguarde.abre("ajaxredesenha","Aguarde..."); var p=g_locaplic+"/classesphp/mapa_controle.php?&funcao=descetema&tema="+tema+"&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"desceTema",ajaxredesenha);}
function zoomtemaf(tema){ objaguarde.abre("ajaxredesenha","Aguarde..."); var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=zoomtema&tema="+tema+"&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"zoomTema",ajaxredesenha);}
function limpaseltemaf(celula){ g_operacao="limpasel"; objaguarde.abre("ajaxredesenha","Aguarde..."); var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=limpasel&tema="+pegaTema(celula)+"&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"selecaoLimpa",ajaxredesenha);}
function mudatranspf(idtema){ g_operacao="transparencia"; if($i("tr"+idtema)){var valor=$i("tr"+idtema).value;}
 else{alert("Ocorreu um erro");}
 if(valor !=""){ objaguarde.abre("ajaxredesenha","Aguarde..."); var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=mudatransp&tema="+idtema+"&valor="+valor+"&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"mudaTransparencia",ajaxredesenha);}
 else{alert("Valor no definido.");}}
function mudanomef(idtema){ g_operacao="mudanome"; if($i("nn"+idtema)){var valor=$i("nn"+idtema).value;}
 else{alert("Ocorreu um erro");}
 if(valor !=""){ var p=$i("nometema"+idtema); $i("nometema"+idtema).innerHTML=valor; objaguarde.abre("ajaxredesenha","Aguarde..."); var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=mudanome&tema="+idtema+"&valor="+valor+"&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"mudaNome",ajaxredesenha);}
 else{alert("Nome no definido");}}
function toponimiaf(idtema){wdocaf("350px","340px",g_locaplic+"/ferramentas/toponimia/index.htm?tema="+idtema,"","","Topon&iacute;mia");}
function filtrof(idtema){wdocaf("480px","250px",g_locaplic+"/ferramentas/filtro/index.htm?tema="+idtema,"","","Filtro");}
function pontosdistri(){ if(g_r=="nao"){alert("Opo no disponvel");}
 else{wdocaf("400px","250px",g_locaplic+"/ferramentas/pontosdistri/index.htm","","","Distribuio de pontos");}}
function pontoempoligono(){wdocaf("400px","250px",g_locaplic+"/ferramentas/pontoempoligono/index.htm","","","Ponto em pol&iacute;gono");}
function nptPol(){wdocaf("400px","200px",g_locaplic+"/ferramentas/nptpol/index.htm","","","Pontos por pol&iacute;gono");}
function buffer(){wdocaf("400px","180px",g_locaplic+"/ferramentas/buffer/index.htm","","","Entorno");}
function centroide(){wdocaf("400px","180px",g_locaplic+"/ferramentas/centroide/index.htm","","","Centride");}
function analisaGeometrias(){ g_tipoacao="selecao"; mudaiconf("selecao"); pontosdistobj=new pontosdist(); objmapa.temaAtivo=""; wdocaf("500px","400px",g_locaplic+'/ferramentas/analisageometrias/index.htm',"","","Sele&ccedil;&atilde;o");}
function gradePontos(){wdocaf("400px","250px",g_locaplic+"/ferramentas/gradepontos/index.htm","","","Grade de pontos");}
function gradePol(){wdocaf("400px","250px",g_locaplic+"/ferramentas/gradepol/index.htm","","","Grade de pol&iacute;gonos");}
function gradeHex(){wdocaf("400px","250px",g_locaplic+"/ferramentas/gradehex/index.htm","","","Grade de hex&aacute;gonos");}
function gradeCoord(){wdocaf("300px","180px",g_locaplic+"/ferramentas/gradecoord/index.htm","","","Grade de coordenadas");}
function procuraratribf(idtema){wdocaf("550px","340px",g_locaplic+"/ferramentas/busca/index.htm?tema="+idtema,"","","Procurar");}
function tabelaf(idtema){wdocaf("500px","400px",g_locaplic+"/ferramentas/tabela/index.htm?tema="+idtema,"","","Tabela");}
function etiquetas(idtema){wdocaf("400px","300px",g_locaplic+"/ferramentas/etiqueta/index.htm?tema="+idtema,"","","Etiquetas");}
function opcoesLegenda(){wdocaf("300px","280px",g_locaplic+"/ferramentas/opcoes_legenda/index.htm","","","Legenda");}
function abreCor(janela,elemento){wdocaf2("385px","280px",g_locaplic+"/ferramentas/colorpicker/index.htm?doc="+janela+"&elemento="+elemento,"","","Cor");}
function editaLegenda(idtema){wdocaf("490px","340px",g_locaplic+"/ferramentas/legenda/index.htm?tema="+idtema,"","","Legenda");}
function conectarwms(){wdocaf("400px","300px",g_locaplic+"/ferramentas/conectarwms/index.htm","","","WMS");}
function conectarwfs(){wdocaf("400px","300px",g_locaplic+"/ferramentas/conectarwfs/index.htm","","","WFS");}
function conectargeorss(){wdocaf("400px","300px",g_locaplic+"/ferramentas/conectargeorss/index.htm","","","GeoRSS");}
function abreSistema(endereco,w,h){ if(endereco !=""){wdocaf(w+"px",h+"px",endereco,"","","Sistemas");}
 else{alert("Endereo no definido");}}
function upload(){wdocaf("300px","200px",g_locaplic+"/ferramentas/upload/index.htm","","","Upload");}
function pegaimagens(){ if($i("lugarquadros")){ if(navm){var wi=window.open("",null,"width=550,height=650,resizable=yes,scrollbars=yes");}
 if(navn){var wi=window.open("","Cor","width=550,height=650,resizable,scrollbars");}
 wi.document.write("<p style='font-size: 12px;font-family: verdana, arial, helvetica, sans-serif;'>Click com o bot&atilde;o da direita do mouse sobre a imagem para fazer o download<br>"); var mensagem="<br><b>N&atilde;o existem imagens guardadas."; for(i=1;i <(quadrosfilme.length);i++){ if(quadrosfilme[i].imagem !=" "){ wi.document.write("<p style='font-size: 12px;font-family: verdana, arial, helvetica, sans-serif;'>Imagem: "+i+"<br>"); wi.document.write("<p style='font-size: 12px;font-family: verdana, arial, helvetica, sans-serif;'>Abrang&eacute;ncia: "+quadrosfilme[i].extensao+"<br>"); wi.document.write("<img src="+quadrosfilme[i].imagem+">"); wi.document.write("<img src="+quadrosfilme[i].referencia+">"); mensagem="<br>Fim" }}
 wi.document.write(mensagem);}}
function abreDoc(){window.open(g_locaplic+"/documentacao/index.html");}
function downloadbase(){window.open(g_locaplic+"/datadownload.htm");}
function download(idtema){wdocaf("300px","150px",g_locaplic+"/ferramentas/download/index.htm?tema="+idtema,"","","Download");}
function opcoesQuadros(){wdocaf("150px","150px",g_locaplic+"/ferramentas/opcoes_quadros/index.htm",objposicaomouse.x-75,objposicaomouse.y-160,"Quadros");}
function opcoesEscala(){wdocaf("250px","300px",g_locaplic+"/ferramentas/opcoes_escala/index.htm",objposicaomouse.x-75,objposicaomouse.y-260,"Escala");}
 function testaferramentas(){}


function ajaxhttp(){ try{var objhttp1=new XMLHttpRequest();}
 catch(ee){ try{var objhttp1=new ActiveXObject("Msxml2.XMLHTTP");}
 catch(e){ try{var objhttp1=new ActiveXObject("Microsoft.XMLHTTP");}
 catch(E){var objhttp1=false;}}}
 return(objhttp1);}
function ajaxexecAS(programa,funcao){ var ohttp=ajaxhttp(); ohttp.open("POST",programa,true); var retorno=""; ohttp.onreadystatechange=function(){ if(ohttp.readyState==4){ retorno=ohttp.responseText; var reg=/Warning/gi; if(retorno.search(reg)!=-1){ alert("OOps! Ocorreu um erro\n"+retorno); return;}
 var reg=/erro/gi; if(retorno.search(reg)!=-1){ alert("OOps! Ocorreu um erro\n"+retorno); return;}
 if(funcao !="volta"){eval(funcao+'("'+retorno+'")');}}}
 ohttp.send(null);}
function ajaxexec(programa,funcao){ var objhttp=ajaxhttp(); objhttp.open('GET', programa, false); objhttp.send(null); if(objhttp.status==200){ if(funcao !="volta"){eval(funcao+'("'+objhttp.responseText+'")');}
 else{return objhttp.responseText;}}}
function ajaxexecASXml(programa,funcao){ if(programa.search("http")==0){ var h=window.location.host; if(programa.search(h)< 0){ alert("OOps! Nao e possivel chamar um XML de outro host.\nContacte o administrador do sistema.\nConfigure corretamente o ms_configura.php"); return;}}
 var ohttp=ajaxhttp(); ohttp.open("GET",programa,true); var retorno=""; ohttp.onreadystatechange=function(){ if(ohttp.readyState==4){ var retorno=ohttp.responseText; if(retorno !=undefined){ if(document.implementation.createDocument){ var parser=new DOMParser(); var dom=parser.parseFromString(retorno, "text/xml");}
 else{ var dom=new ActiveXObject("Microsoft.XMLDOM"); dom.async="false"; dom.load(programa);}}
 else{var dom="erro";}
 if(funcao !="volta"){eval(funcao+'(dom)');}
 else{return dom;}}}
 ohttp.send(null);}
function ajaxEscalaGrafica(retorno){ if((retorno.data !="erro")&&(retorno.data !=undefined)){ eval(retorno.data); if($i("imagemEscalaGrafica")){ var m=new Image(); m.src=scaimagem; $i("imagemEscalaGrafica").src=m.src; gravaQuadro("escala",scaimagem);}}}
function ajaxReferencia(retorno){ if((retorno.data !="erro")&&(retorno.data !=undefined)){ eval(retorno.data); if($i("imagemReferencia")){ var m=new Image(); m.src=refimagem; $i("imagemReferencia").src=m.src; if((objmapa.scale < 15000000)&&(objmapa.scale > 10000000)){ $i("refmensagem").innerHTML="Para navegar no mapa principal, voc&ecirc;pode clicar em um ponto no mapa de refer&ecirc;ncia."; $i("refmensagem").style.fontSize="10px";}
 else{ $i("refmensagem").innerHTML=""; $i("refmensagem").style.fontSize="0px";}}
 gravaQuadro("referencia",refimagem);}}
function ajaxLegendaHTML(retorno){ if((retorno.data !="erro")&&(retorno.data !=undefined)){ var s=g_locaplic+"/imagens/solta.gif"; $i("legenda").innerHTML="<img src="+s+" title='clique para liberar'/><div id=corpoLegi >"+retorno.data+"</div>"; g_legendaHTML=retorno.data; if($i("moveLegi")){$i("wlegenda").innerHTML=g_legendaHTML;}
 $i("legenda").onclick=function(){ if(!$i("moveLegi")){ var novoel=document.createElement("div"); novoel.id="moveLegi"; novoel.style.display="block"; var temp='<div class="hd"><div class="tl"></div>'; temp+='<div class="tr"></div></div><div id=wlegenda style=text-align:left >'; temp+=g_legendaHTML+"</div>"; novoel.innerHTML=temp; document.body.appendChild(novoel); YAHOO.namespace("moveLegi.xp"); YAHOO.moveLegi.xp.panel=new YAHOO.widget.Panel("moveLegi",{width:"300px", fixedcenter: true, constraintoviewport: false, underlay:"none", close:true, visible:true, draggable:true, modal:false}); var escondeLeg=function(){ YAHOO.util.Event.removeListener(YAHOO.moveLegi.xp.panel.close, "click"); YAHOO.moveLegi.xp.panel.destroy();}
 YAHOO.moveLegi.xp.panel.render(); YAHOO.moveLegi.xp.panel.show(); YAHOO.util.Event.addListener(YAHOO.moveLegi.xp.panel.close, "click", escondeLeg);}}}}
function ajaxLegendaImagem(retorno){ if((retorno.data !="erro")&&(retorno.data !=undefined)){ eval(retorno.data); if($i("lugarquadros")){gravaQuadro("legenda",legimagem);}}}
function ajaxCorpoMapa(retorno){ $i("mst").style.display="block"; if(!$i("img")){return;}
 objaguarde.abre("ajaxCorpoMapa1","Lendo imagem..."); if(retorno.data){retorno=retorno.data;}
 if((retorno !="erro")&&(retorno !=undefined)){ eval(retorno); $i("img").onload=function(){ avancaQuadro(); gravaQuadro("imagem",mapimagem); g_quadrooriginal=mapimagem; if($i("banners")){$i("banners").style.height=objmapa.h;}
 if($i("legenda")){$i("legenda").style.height=objmapa.h;}
 borra("nao"); $i("img").style.width=objmapa.w; $i("img").style.height=objmapa.h; calcposf(); objaguarde.fecha("ajaxCorpoMapa1"); if($i("imgtemp")){$i("imgtemp").style.display="none";}
 $i("img").onload="";}
 $i("img").src=mapimagem;}
 else{ borra("nao"); calcposf(); trataErro(); alert("Erro no mapa");}}
function ajaxredesenha(retorno){ var original=retorno; if(retorno.data){var retorno=retorno.data;}
 else{retorno="";}
 if((retorno !="erro")&&(retorno !=undefined)){ if(retorno.search("var mapimagem=")>-1){ajaxIniciaParametros(original);}
 else{ var legimagem=""; if($i("img")){ objaguarde.abre("ajaxiniciaParametros","Aguarde..."); var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=corpo&tipoimagem="+g_tipoimagem+"&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"redesenhaCorpo",ajaxIniciaParametros);}
 objaguarde.fecha("ajaxredesenha"); if($i("img_d")){$i("img_d").style.display="none";}
 g_destaca=""; if($i("openlayers")){ $i("openlayers").innerHTML=""; var b=objmapa.OL.getExtent(); criaOL(Math.random()+Math.random()+Math.random()+Math.random()); objmapa.OL.zoomToExtent(b);}}}
 borra("nao");}
function ajaxIniciaParametros(retorno){ borra("nao"); try{ if($i("openlayers")){ $i("openlayers").innerHTML=""; var b=objmapa.OL.getExtent(); criaOL(Math.random()+Math.random()+Math.random()+Math.random()); objmapa.OL.zoomToExtent(b);}
 for(ot=0;ot<objmapa.objtips.length;ot++){ if(objmapa.objtips[ot]){ objmapa.objtips[ot].innerHTML=""; objmapa.objtips[ot].style.display="none";}}
 objmapa.objtips=new Array(); limpacontainerf(); if($i("imgh")){$i("imgh").style.display="block";}
 var retorno=retorno.data; if((retorno !="erro")&&(retorno !=undefined)){ if($i("imgL")){ var letras=["N","S","L","O"]; for(l=0;l<letras.length;l++){$i("img"+letras[l]).src="";}}
 temas=""; mapscale=""; mapexten=""; if(retorno !=""){eval(retorno);}
 if($i("img")){ if(!$i("imgtemp")){ var ndiv=document.createElement("div"); ndiv.id="imgtemp"; ndiv.style.position="absolute"; ndiv.style.border="1px solid blue"; document.getElementById("corpoMapa").appendChild(ndiv);}
 if(g_tipoacao=="pan"){ $i("imgtemp").style.left=parseInt($i("img").style.left); $i("imgtemp").style.top=parseInt($i("img").style.top); $i("imgtemp").style.width=objmapa.w; $i("imgtemp").style.height=objmapa.h; $i("imgtemp").style.display="block"; $i("imgtemp").style.backgroundImage='url("'+$i("img").src+'")';}
 $i("img").style.width=0; $i("img").style.height=0; $i("img").src=""; $i("img").style.left=0; $i("img").style.top=0; ajaxCorpoMapa(retorno);}
 objmapa.atualizaLegendaHTML(); objmapa.atualizaListaTemas(temas); objmapa.atualizaFarol(mapscale); objmapa.atualizaReferencia(mapexten); objmapa.scale=mapscale; g_operacao=""; objmapa.temas=temas; objmapa.cellsize=g_celula; objmapa.extent=mapexten; objmapa.temas=temas; if($i("escalanum")){$i("escalanum").value=parseInt(mapscale);}
 if($i("mensagemt")){$i("mensagemt").value=mapexten;}
 gravaQuadro("extensao",mapexten); objaguarde.fecha("ajaxiniciaParametros"); objaguarde.fecha("aguardedoc"); objaguarde.fecha("ajaxredesenha"); if(g_lenteaberta=="sim"){ objaguarde.abre("ajaxabrelente","Aguarde...abrindo lente"); var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=crialente&resolucao=1.5&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"lente",ajaxabrelente);}
 atualizagoogle(); atualizascielo(); atualizawiki(); atualizaconfluence(); if(g_entorno=="sim"){ geraURLentorno(); ajustaEntorno();}}}
 catch(e){trataErro();}}
function ajaxabrelente(retorno){ try{ var retorno=retorno.data; if(retorno=="erro"){alert("A lente nao pode ser criada");return;}
 var volta=retorno.split(","); var nimg=volta[2]; var olente=$i('lente'); var oboxlente=$i('boxlente'); var olenteimg=$i('lenteimg'); olenteimg.src=nimg; olenteimg.style.width=volta[0]*1.5; olenteimg.style.height=volta[1]*1.5; olente.style.zIndex=1000; olenteimg.style.zIndex=1000; oboxlente.style.zIndex=1000; eval("olente.style."+g_tipoleft+"=imagemxi+g_postpx"); eval("olente.style."+g_tipotop+"=imagemyi+g_postpx"); eval("oboxlente.style."+g_tipoleft+"=imagemxi+g_postpx"); eval("oboxlente.style."+g_tipotop+"=imagemyi+g_postpx"); oboxlente.style.display='block'; oboxlente.style.visibility='visible'; olente.style.display='block'; olente.style.visibility='visible'; objaguarde.fecha("ajaxabrelente");}
 catch(e){trataErro();}}
function ajaxdestaca(retorno){ var retorno=retorno.data; var m=new Image(); m.src=retorno; if(!$i("img_d")){ var novoel=document.createElement("div"); novoel.id="div_d"; document.body.appendChild(novoel); $i("div_d").innerHTML="<input style='position:relative;top:0px;left:0px'' type=image src='' id='img_d'/>"; $i("div_d").style.left=parseInt($i("corpoMapa").style.left); $i("div_d").style.top=parseInt($i("corpoMapa").style.top); $i("img_d").style.left=0; $i("img_d").style.top=0; $i("img_d").style.width=objmapa.w; $i("img_d").style.height=objmapa.h; $i("div_d").style.clip='rect(0 75 75 0)'; $i("img_d").src=retorno; var novoeli=document.createElement("div"); novoeli.id="div_di"; novoel.appendChild(novoeli); $i("div_di").innerHTML="<p style='position:absolute;top:0px;left:0px'>+-</p>";}
 $i("div_d").innerHTML=""; var novoel=document.createElement("input"); novoel.id="img_d"; novoel.style.position="relative"; novoel.style.top="0px"; novoel.style.left="0px"; novoel.type="image"; novoel.src=m.src; novoel.style.display="block"; $i("div_d").appendChild(novoel); objaguarde.fecha("ajaxdestaca");}function testaajax(){}

g_autoRedesenha=0;g_sid=window.location.href.split("?")[1];atuaLeg="nao";g_operacao="";g_nomepin="";g_arvoreClick="";g_arvoreClicks="";g_movedoca=0;g_movedocac=0;g_movedocar=0;g_tipoacao="zoomli";g_realca="nao";g_destaca="";g_lenteaberta="nao";g_hlpt="";g_panM="nao";quadrosfilme=new Array();g_quadrooriginal="";wd=0;navm=false;navn=false;g_r="nao";g_embedLegenda="nao";oMenuData="";g_3dmap="";g_opcoesTemas="sim";g_mostraRosa="sim";g_visual="default";g_janelaMen="sim";g_downloadbase="sim";g_conectargeorss="sim";g_uploadlocal="sim";g_conectarwms="sim";g_docaguias="nao";g_barraFerramentas1="sim";g_barraFerramentas2="sim";g_fatordezoom=0;g_diminuixM=20;g_diminuixN=25;g_diminuiyM=106;g_diminuiyN=103;g_mapaRefDisplay="block";g_funcaoTip="verificaTipDefault()";g_tempotip=4500;g_tipotip="completo";g_tipoimagem="nenhum";g_sistemas="";destacaTamanho=75;g_mensagempadrao="O I3Geo  software livre! Para download clique <a href='http://mapas.mma.gov.br/download' target=blanck >aqui</a>";g_entorno="nao";g_guiaativa="guia1";var app=navigator.appName.substring(0,1);if(app=='N')navn=true;else navm=true;if(navm){ g_postpx=""; g_tipotop="pixelTop"; g_tipoleft="pixelLeft";}
else{ g_postpx="px"; g_tipotop="top"; g_tipoleft="left";}window.onresize=function(){window.status="Aps alterar o tamanho da janela, clique no boto de refresh do navegador";}
function Mapa(e,m){ objaguarde=new aguarde(); objposicaocursor=new posicaocursor(); objposicaomouse=new posicaomouse(); imgBranco=new Image(); imgBranco.src=g_locaplic+"/imagens/branco.gif"; var icache=new Array("foldermapa.gif","extent.gif","tic.png","maisvermelho.png","maisverde.png","maisamarelo.png","temas.png","x.gif","sobe.gif","desce.gif","quadro.png","quadro1.png","excluir.png"); for(i=0;icache.lenght;i++){ var temp=new Image(); temp.src=g_locaplic+"/imagens/"+icache[i];}
 var temp=new Image(); temp.src=g_locaplic+"/classesjs/jsobjects/jsUI-Treeview/plus.gif"; temp.src=g_locaplic+"/classesjs/jsobjects/jsUI-Treeview/minus.gif"; var diminuix=(navm)? g_diminuixM : g_diminuixN; var diminuiy=(navm)? g_diminuiyM : g_diminuiyN; if(e==undefined){ var menos=0; if($i("contemFerramentas")){menos=menos+parseInt($i("contemFerramentas").style.width);}
 if($i("encolheFerramentas")){menos=menos+parseInt($i("encolheFerramentas").style.width);}
 if($i("ferramentas")){menos=menos+parseInt($i("ferramentas").style.width);}
 var novow=screen.availWidth-diminuix; var novoh=screen.availHeight-diminuiy; if(novow >=1024){ novow=1000;}
 if(novoh >=700){ novoh=700;}
 if(document.body.style.width < 400){ var novow=screen.availWidth-diminuix; var novoh=screen.availHeight-diminuiy; window.resizeTo(screen.availWidth,screen.availHeight); window.moveTo(0,0);}
 document.body.style.width=novow; document.body.style.height=novoh; this.w=parseInt(document.body.style.width)-menos-diminuix; this.h=parseInt(document.body.style.height)-diminuiy; if(document.getElementById("corpoMapa")){ if(document.getElementById("corpoMapa").style.width){ this.w=parseInt(document.getElementById("corpoMapa").style.width); this.h=parseInt(document.getElementById("corpoMapa").style.height);}}}
 else{ this.w=document.body.offsetWidth-parseInt($i("contemFerramentas").style.width)-diminuix; this.h=document.body.offsetHeight-diminuiy;}
 if($i("openlayers")){ $i("openlayers").style.width=this.w; $i("openlayers").style.height=this.h;}
 this.listavisual=""; this.visualatual="default"; this.funcoesClickMapa=new Array(); this.objtips=new Array(); this.tempo=""; this.tempoRedesenho=""; this.contaTempoRedesenho=""; this.temaAtivo=""; this.pinmarca="marca"; this.pintamanho="5"; this.scale=50000; this.temas=""; this.legenda=""; this.finaliza=""; this.guiaTemas="guia1"; this.guiaMenu="guia2"; this.guiaLegenda="guia4"; this.guiaListaMapas="guia5"; this.inicializa=function(){ if(!window.testafuncoes){alert("funcoes.js com problemas");}
 if(!window.testamenususpenso){alert("menususpenso.js com problemas");}
 if(!window.testaferramentas){alert("ferramentas.js com problemas");}
 if(!window.testaajax){alert("redesenho.js com problemas");}
 objaguarde.abre("montaMapa","Aguarde...iniciando o mapa"); var cp=new cpaint(); cp.set_response_type("JSON"); var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=inicia&embedLegenda="+g_embedLegenda+"&w="+this.w+"&h="+this.h+"&g_sid="+g_sid; cp.call(p,"iniciaMapa",this.montaMapa);}
 this.montaMapa=function(retorno){ if(retorno.data.search("erro.")>-1){ alert(retorno.data);}
 if(retorno.data=="linkquebrado"){ objaguarde.fecha("montaMapa"); document.body.style.backgroundColor="white"; document.body.innerHTML="<br>Para abrir o mapa utilize o link:<br><a href="+g_locaplic+"/ms_criamapa.php >"+g_locaplic+"/ms_criamapa.php</a>"; return("linkquebrado");}
 else{ if((retorno.data !="erro")&&(retorno.data !=undefined)){ eval(retorno.data); if(oMenuData==""){ oMenuData={ "ajudas": [{text: "Sobre o I3Geo", url: "javascript:g_hlpt='sobrei3geo';ajudaf('abre')"},{text: "Sistema", url: "javascript:abreDoc()"},{text: "WikiBook", url: "http://pt.wikibooks.org/wiki/I3geo"},{text: "Tutoriais", url: "http://mapas.mma.gov.br/wikibooki3geo"},{text: "Blog", url: "http://sistemas.mma.gov.br/blogs/index.php?blog=6"}, ], "analise": [{text: "Geometrias", url: "javascript:analisaGeometrias()"},{text: "Grade de poligonos", url: "javascript:gradePol()"},{text: "Grade de pontos", url: "javascript:gradePontos()"},{text: "Grade de hexgonos", url: "javascript:gradeHex()"},{text: "Entorno(buffer)", url: "javascript:buffer()"},{text: "Centride", url: "javascript:centroide()"},{text: "N pontos em poligono", url: "javascript:nptPol()"},{text: "Ponto em poligono/raster", url: "javascript:pontoempoligono()"},{text: "Distribuio de pontos", url: "javascript:pontosdistri()"}
 ] }; if(!$i("listaPropriedades")){ oMenuData.propriedades=[{text: "Tipo de imagem", url: "javascript:tipoimagem()"},{text: "Legenda", url: "javascript:opcoesLegenda()"},{text: "Escala", url: "javascript:opcoesEscala()"},{text: "Tamanho", url: "javascript:tamanho()"},{text: "Ativa/desativa entorno", url: "javascript:ativaEntorno()"},{text: "Ativa/desativa logo", url: "javascript:ativaLogo()"},{text: "Cor da selecao", url: "javascript:queryMap()"},{text: "Cor do fundo", url: "javascript:corFundo()"},{text: "Grade de coordenadas", url: "javascript:gradeCoord()"}
 ];}
 oMenuData.janelas=[{text: "Barras de ferramentas", url: "javascript:initJanelaZoom('1');initJanelaZoom('2')"},{text: "Janela de mensagens", url: "javascript:initJanelaMen()"}
 ]; oMenuData.arquivo=[{text: "Salvar mapa", url: "javascript:salvaMapa()"},{text: "Carregar mapa", url: "javascript:carregaMapa()"},{text: "Pegar imagens", url: "javascript:pegaimagens()"},{text: "Converter em WMS", url: "javascript:convertews()"},{text: "Gerador de links", url: "../geradordelinks.htm"}
 ];}
 if($i("menus")){YAHOO.example.onWindowLoadMenu();}
 if(!$i("aplicari")){ var novoel=document.createElement("input"); novoel.id='aplicari'; novoel.type='button'; novoel.value='Aplicar'; novoel.style.cursor="pointer"; novoel.style.fontSize="10px"; novoel.style.zIndex=15000; novoel.style.position="absolute"; novoel.style.display="none"; novoel.onclick=function(){ remapaf(); this.style.display="none" }
 novoel.onmouseover=function(){this.style.display="block";}
 novoel.onmouseout=function(){this.style.display="none";}
 document.body.appendChild(novoel);}
 gerafilmef(10); if(g_barraFerramentas1=="sim"){initJanelaZoom(1);}
 if(g_barraFerramentas2=="sim"){initJanelaZoom(2);}
 objmapa.atualizaListaTemas(temas); objmapa.atualizaReferencia(mapexten); objmapa.scale=parseInt(mapscale); objmapa.temas=temas; objmapa.cellsize=g_celula; objmapa.extent=mapexten; objmapa.extentTotal=mapexten; objmapa.criaCorpoMapa(); ajaxCorpoMapa(retorno); objmapa.criaEscalaGrafica(); objmapa.atualizaEscalaGrafica(); objmapa.ativaLocallizarXY("localizarxy"); objmapa.ativaBuscaRapida("buscaRapida"); objmapa.ativaListaPropriedades("listaPropriedades"); objmapa.ativaRealce("realca"); objmapa.ativaGoogle("google"); objmapa.ativaScielo("scielo"); objmapa.ativaConfluence("confluence"); objmapa.ativaZoomtot("zoomtot"); objmapa.ativaZoomli("zoomli"); objmapa.ativaPan("pan"); objmapa.ativaZoomiauto("zoomiauto"); objmapa.ativaZoomoauto("zoomoauto"); objmapa.ativaIdentifica("identifica"); objmapa.ativaLente("lentei"); objmapa.ativaExten("exten"); objmapa.ativaReferencia("referencia"); objmapa.ativaEscalanum("escala"); objmapa.ativaWiki("wiki"); objmapa.ativaReinicia("reinicia"); objmapa.ativaMede("mede"); objmapa.ativaInserexy("inserexy"); objmapa.ativaInsereGrafico("inseregrafico"); objmapa.ativaSelecao("selecao"); objmapa.ativaTextofid("textofid"); objmapa.ativa3D("v3d"); objmapa.ativaImpressao("imprimir"); objmapa.ativaVisual("visual"); ativaGuias(); if(($i("encolheFerramentas"))&&($i("contemFerramentas"))){ $i("encolheFerramentas").onclick=function(){docaguias();}}
 calcposf(); g_leftinicial=imagemxi; if($i("corpoMapa")){ $i("img").style.width=objmapa.w+"px"; $i("img").style.height=objmapa.h+"px"; $i("corpoMapa").style.width=objmapa.w+"px"; $i("corpoMapa").style.height=objmapa.h+"px"; $i("corpoMapa").style.clip='rect('+0+" "+(objmapa.w)+" "+(objmapa.h)+" "+0+')';}
 var temp=0; if($i("contemFerramentas")){temp=temp+parseInt($i("contemFerramentas").style.width);}
 if($i("encolheFerramentas")){temp=temp+parseInt($i("encolheFerramentas").style.width);}
 if($i("ferramentas")){temp=temp+parseInt($i("ferramentas").style.width);}
 $i("mst").style.width=objmapa.w+temp+"px"; $i("contemImg").style.height=objmapa.h+"px"; $i("contemImg").style.width=objmapa.w+"px"; calcposf(); if($i("maisBotoes1")){YAHOO.janelaBotoes1.xp.panel.moveTo(imagemxi+40,imagemyi+10);}
 if($i("maisBotoes2")){YAHOO.janelaBotoes2.xp.panel.moveTo(imagemxi,imagemyi+10);}
 mudaiconf("pan"); if(g_entorno=="sim"){ geraURLentorno(); var letras=["L","O","N","S"]; for(l=0;l<letras.length;l++){ if($i("img"+letras[l])){ $i("img"+letras[l]).style.width=objmapa.w; $i("img"+letras[l]).style.height=objmapa.h; $i("img"+letras[l]).style.display="block";}}
 ajustaEntorno();}
 autoRedesenho("ativa");}
 else{alert("Erro. Impossivel criar o mapa "+retorno.data);return;}
 var temp=g_guiaativa.split("guia"); mostraguiaf(temp[1]); if($i(objmapa.guiaListaMapas)){ if(g_locmapas==""){$i(objmapa.guiaListaMapas).style.display="none"}}
 if(pCookie("g_janelaMen")){g_janelaMen=pCookie("g_janelaMen");}
 if(g_janelaMen=="sim"){initJanelaMen();}
 if(pCookie("g_mapaRefDisplay")){g_mapaRefDisplay=pCookie("g_mapaRefDisplay");}
 if(g_mapaRefDisplay=="block"){initJanelaRef();}
 if($i("img")){g_quadrooriginal=$i("img").src;}
 objaguarde.fecha("montaMapa"); if(g_docaguias=="sim"){docaguias();}
 if(document.getElementById("botao3d")){ if(g_3dmap==""){document.getElementById("botao3d").style.display="none";}}}
 rebobinaf();}
 this.ativaVisual=function(visual){ if($i(visual)){ if(objmapa.listavisual !=""){ var l=objmapa.listavisual.split(","); var visuais=""; for(li=0;li<l.length;li++){ visuais+="<img title='muda visual-"+l[li]+"' style=cursor:pointer onclick='mudaVisual(\""+l[li]+"\")' src='"+g_locaplic+"/imagens/visual/"+l[li]+".png'/>&nbsp;";}
 $i(visual).innerHTML=visuais;}}}
 this.ativaLocallizarXY=function(id){ if($i(id)){ $i(id).innerHTML="localiza X:<input class=digitar id='xg' title='grau' type=text size=5 value='-00'/>&nbsp;<input class=digitar id='xm' title='minuto' type=text size=3 value='00'/>&nbsp;<input class=digitar id='xs' title='segundo' type=text size=5 value='00.00'/>&nbsp;&nbsp;Y:<input class=digitar id='yg' title='grau' type=text size=3 value='-00'/>&nbsp;<input class=digitar id='ym' title='minuto' type=text size=3 value='00'/>&nbsp;<input class=digitar id='ys' title='segundo' type=text size=5 value='00.00'/><img title='zoom' onclick='zoomPonto()' src="+$im("tic.png")+" id=procurarxy/>"; $i(id).onmouseover=function(){mostradicasf(this,'Digite as coordenadas de um ponto(X=longitude e Y=latitude)para localiz-lo no mapa. O centro do mapa ser deslocado para o ponto digitado.','');}
 $i(id).onmouseout=function(){mostradicasf(this,'');}}}
 this.ativaBuscaRapida=function(id){ if($i(id)){ var ins="<input onclick='javascript:this.value=\"\"' id=valorBuscaRapida title='digite o texto para busca' type=text size=30 class=digitar value='busca rpida...'/>"; ins+="<img src='"+g_locaplic+"/imagens/tic.png' onclick='buscaRapida()'/>"; $i(id).innerHTML=ins;}}
 this.ativaListaPropriedades=function(id){ if($i(id)){ var lista={ "propriedades": [{text: "Tipo de imagem", url: "javascript:tipoimagem()"},{text: "Legenda", url: "javascript:opcoesLegenda()"},{text: "Escala", url: "javascript:opcoesEscala()"},{text: "Tamanho", url: "javascript:tamanho()"},{text: "Ativa/desativa entorno", url: "javascript:ativaEntorno()"},{text: "Ativa/desativa logo", url: "javascript:ativaLogo()"},{text: "Cor da selecao", url: "javascript:queryMap()"},{text: "Cor do fundo", url: "javascript:corFundo()"},{text: "Grade de coordenadas", url: "javascript:gradeCoord()"},{text: "Template", url: "javascript:template()"},{text: "Temporizador", url: "javascript:autoredesenha()"}
 ]}; listaPr=new Object(); listaPr=treeviewNew("listaPr", "default", id, null); listaPr.createItem("propriedadesRaiz", "<b>Propriedades do mapa</b>", g_locaplic+"/imagens/visual/"+g_visual+"/foldermapa1.gif", true, false, true, null); var im=""; if(navn){var im="<img src='"+g_locaplic+"/imagens/branco.gif' width=0 height=13/>";}
 for(l=0;l<lista.propriedades.length;l++){ tnome="<span onclick='"+lista.propriedades[l].url+"'>"+im+"<img src='"+g_locaplic+"/imagens/visual/"+g_visual+"/tic.png'/>&nbsp;"+lista.propriedades[l].text+" </span>"; listaPr.createItem("propriedadesMapa"+l, tnome, imgBranco, false, true, false, "propriedadesRaiz");}
 listaPr.createItem("","", imgBranco, false, true, false, "propriedadesRaiz");}}
 this.ativaRealce=function(id){ if($i(id)){ $i(id).onclick=function realcaAtiva(){ if(!$i("areaRealce")){ var novoel=document.createElement("div"); novoel.id='areaRealce'; novoel.style.display="none"; document.body.appendChild(novoel); if(navm){ $i("areaRealce").style.filter="alpha(opacity=20)";}}
 if(g_realca=="sim"){ g_realca="nao"; $i("areaRealce").style.display="none"; $i(id).style.borderWidth=0; $i(id).style.borderColor='red';}
 else{ g_realca="sim"; $i("areaRealce").style.display="block"; $i(id).style.borderWidth=1; $i(id).style.borderColor='red';}}
 $i(id).onmouseover=function(){mostradicasf(this,'Ativa/desativa &aacute;rea de destaque no mapa','');}
 $i(id).onmouseout=function(){mostradicasf(this,'');}}}
 this.ativaGoogle=function(id){ if($i(id)){ $i(id).onclick=function google(){ if(!$i("boxg")){ var novoel=document.createElement("div"); novoel.id="boxg"; novoel.style.zIndex=1; novoel.innerHTML='<font face="Arial" size=0></font>'; novoel.onmouseover=function(){$i("boxg").style.display="none";}
 document.body.appendChild(novoel);}
 g_operacao="navega"; wdocaf("340px","340px",g_locaplic+"/ferramentas/googlemaps/index.htm","","","Google maps");}
 $i(id).onmouseover=function(){mostradicasf(this,'Abre o Google Maps, mostrando uma imagem de satlite da regio vista no mapa principal.','google');}
 $i(id).onmouseout=function(){mostradicasf(this,'');}}}
 this.ativaScielo=function(id){ if($i(id)){ $i(id).onclick=function scielo(){ g_operacao="navega"; wdocaf("450px","190px",g_locaplic+"/ferramentas/scielo/index.htm","","","Scielo");}
 $i(id).onmouseover=function(){mostradicasf(this,'Pesquisa documentos na base de dados Scielo(dados preliminares)','scielo');}
 $i(id).onmouseout=function(){mostradicasf(this,'');}}}
 this.ativaConfluence=function(id){ if($i(id)){ $i(id).onclick=function confluence(){ g_operacao="navega"; wdocaf("250px","190px",g_locaplic+"/ferramentas/confluence/index.htm","","","confluence"); if(!$i("boxg")){ var novoel=document.createElement("div"); novoel.id="boxg"; novoel.style.zIndex=5000; novoel.innerHTML='<font face="Arial" size=0></font>'; document.body.appendChild(novoel);}}
 $i(id).onmouseover=function(){mostradicasf(this,'Projeto Confluence. Pontos de interseco de coordenadas observadas em campo.','confluence');}
 $i(id).onmouseout=function(){mostradicasf(this,'');}}}
 this.ativaZoomtot=function(id){ if($i(id)){ $i(id).onclick=function(){zoomtot();}
 $i(id).onmouseover=function(){mostradicasf(this,'Altera a escala do mapa ajustando-a para mostrar a mesma abrangncia geogrfica da inicializao.','geral');}
 $i(id).onmouseout=function(){mostradicasf(this,'');}}}
 this.ativaZoomli=function(id){ if($i(id)){ $i(id).onclick=function(){mudaiconf("zoomli");g_operacao="navega";}
 $i(id).onmouseover=function(){mostradicasf(this,'Amplia o mapa-coloca o ponto clicado no centro da tela ou amplia a regi&atilde;o indicada por um ret&acirc;ngulo.Aps ativada, clique e arraste o mouse sobre o mapa na rea de zoom desejada.','zoomli');}
 $i(id).onmouseout=function(){mostradicasf(this,'');}}}
 this.ativaPan=function(id){ if($i(id)){ $i(id).onclick=function(){mudaiconf("pan");g_tipoacao="pan";g_operacao="navega";}
 $i(id).onmouseover=function(){mostradicasf(this,'Desloca a regio visvel no mapa. Aps ativada, clique e arraste o mouse sobre o mapa para deslocar a regio visvel.','pan');}
 $i(id).onmouseout=function(){mostradicasf(this,'');}}}
 this.ativaZoomiauto=function(id){ if($i(id)){ $i(id).onclick=function(){zoomiauto();}; $i(id).onmouseover=function(){mostradicasf(this,'Amplia o mapa tendo como refer&ecirc;cia o centro atual.','zoomiauto');}
 $i(id).onmouseout=function(){mostradicasf(this,'');}}}
 this.ativaZoomoauto=function(id){ if($i(id)){ $i(id).onclick=function(){zoomoauto();}; $i(id).onmouseover=function(){mostradicasf(this,'Reduz o mapa tendo como refer&ecirccia o centro atual.','zoomoauto');}
 $i(id).onmouseout=function(){mostradicasf(this,'');}}}
 this.ativaIdentifica=function(id){ if($i(id)){ $i(id).onclick=function(){ mudaiconf("identifica"); g_operacao="identifica";}
 $i(id).onmouseover=function(){mostradicasf(this,'Mostra informa&ccedil;&otilde;es sobre um ponto no mapa. Aps ativada, pare o mouse por alguns instantes no ponto desejado ou clique sobre o mesmo.','identifica');}
 $i(id).onmouseout=function(){mostradicasf(this,'');}}}
 this.ativaLente=function(id){ if($i(id)){ $i(id).onclick=function lentei(){ if(!$i("lente")){ var novoel=document.createElement("div"); novoel.id='lente'; novoel.style.clip='rect(0px,0px,0px,0px)'; var novoimg=document.createElement("img"); novoimg.src=""; novoimg.id='lenteimg'; novoel.appendChild(novoimg); document.body.appendChild(novoel); var novoel=document.createElement("div"); novoel.id='boxlente'; document.body.appendChild(novoel);}
 with($i(id).style){borderWidth='1'+g_postpx;borderColor="red";}
 if(g_lenteaberta=="sim"){ $i("lente").style.display="none"; $i("boxlente").style.display="none"; $i(id).style.borderWidth=0; g_lenteaberta="nao";}
 else{ g_lenteaberta="sim"; objaguarde.abre("ajaxabrelente","Aguarde..."); var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=crialente&resolucao=1.5&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"lente",ajaxabrelente);}}
 $i(id).onmouseover=function(){mostradicasf(this,'Abre lente de amplia&ccedil;&atilde;o','lente');}
 $i(id).onmouseout=function(){mostradicasf(this,'');}}}
 this.ativaExten=function(id){ if($i(id)){ $i(id).onclick=function(){mensagemf(objmapa.extent);}
 $i(id).onmouseover=function(){mostradicasf(this,'Mostra a extens&atilde;o geogr&aacute;fica atual em coordenadas geogrficas.','extensao');}
 $i(id).onmouseout=function(){mostradicasf(this,'');}}}
 this.ativaReferencia=function(id){ if($i(id)){ $i(id).onclick=function(){initJanelaRef();}
 $i(id).onmouseover=function(){mostradicasf(this,'Abre/fecha o mapa de refer&ecirc;ncia','');}
 $i(id).onmouseout=function(){mostradicasf(this,'');}}}
 this.ativaEscalanum=function(id){ if($i(id)){ $i(id).innerHTML="1:<input class='digitar' type='text' onchange='javascript:aplicaescala()' id=escalanum size=19 value=''/><img src=\""+g_localimg+"/tic.png\" onclick='javascript:aplicaescala()'/>"; $i("escalanum").onmouseover=function(){mostradicasf(this,'Digite o novo valor de escala e clique no boto aplicar para alterar a escala do mapa.','escala');}
 $i("escalanum").onmouseout=function(){mostradicasf(this,'');}
 if($i("escalanum")){$i("escalanum").value=this.scale;}}}
 this.ativaWiki=function(id){ if($i(id)){ $i(id).onclick=function wiki(){ g_operacao="navega"; wdocaf("450px","190px",g_locaplic+"/ferramentas/wiki/index.htm","","","Wiki");}
 $i(id).onmouseover=function(){mostradicasf(this,'Busca dados na Wikipedia na abrang&ecirc;ncia atual do mapa. Faa um zoom no mapa antes de abrir essa opo. Regies muito extensas podem tornar a busca muito demorada.','');}
 $i(id).onmouseout=function(){mostradicasf(this,'');}}}
 this.ativaReinicia=function(id){ if($i(id)){ $i(id).onclick=function(){ objaguarde.abre("ajaxredesenha","Aguarde..."); var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=reiniciaMapa&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"reiniciaMapa",ajaxredesenha);}
 $i(id).onmouseover=function(){mostradicasf(this,'Redesenha o mapa com as configuraes iniciais.','redesenha');}
 $i(id).onmouseout=function(){mostradicasf(this,'');}}}
 this.ativaMede=function(id){ if($i(id)){ $i(id).onclick=function mede(){ if(!$i("mostradistancia")){ var novoel=document.createElement("div"); novoel.id="mostradistancia"; novoel.style.display="none"; novoel.style.position="absolute"; document.body.appendChild(novoel);}
 if(g_tipoacao !="mede"){ mudaiconf("mede"); pontosdistobj=new pontosdist(); $i("mostradistancia").style.display="block";}
 else{ mudaiconf("pan"); limpacontainerf(); $i("mostradistancia").style.display="none";}}
 $i(id).onmouseover=function(){mostradicasf(this,'Mede a dist&acirc;ncia entre dois ou mais pontos clicados no mapa(menor dist&acirc;ncia). O clculo de distncia  aproximado e sua preciso depende da escala do mapa.','mede');}
 $i(id).onmouseout=function(){mostradicasf(this,'');}}}
 this.ativaInserexy=function(id){ if($i(id)){ $i(id).onclick=function inserexy(){ if(g_tipoacao !="inserexy"){ var temp=Math.random()+"a"; temp=temp.split("."); g_nomepin="pin"+temp[1]; mudaiconf("inserexy"); pontosdistobj=new pontosdist(); wdocaf("400px","300px",g_locaplic+'/ferramentas/inserexy2/index.htm',"","","Insere");}
 else{mudaiconf("pan");}}
 $i(id).onmouseover=function(){mostradicasf(this,'Insere pontos no mapa em coordenadas geogr&aacute;ficas. Os pontos includos podem ser transformados em linhas ou polgonos. Os pontos so armazenados em um tema temporrio, podendo-se fazer o download do arquivo shapefile.','inserexy');}
 $i(id).onmouseout=function(){mostradicasf(this,'');}}}
 this.ativaInsereGrafico=function(id){ if($i(id)){ $i(id).onclick=function inseregrafico(){ if(g_tipoacao !="inseregrafico"){ var temp=Math.random()+"gr"; temp=temp.split("."); g_nomepin="pin"+temp[1]; mudaiconf("inseregrafico"); wdocaf("400px","300px",g_locaplic+'/ferramentas/inseregrafico/index.htm',"","","Insere");}
 else{mudaiconf("pan");}}
 $i(id).onmouseover=function(){mostradicasf(this,'Insere um gr&aacute;fico no ponto clicado conforme os atributos existentes no tema escolhido. O tema deve possuir itens com valores numricos na tabela de atributos.','inseregrafico');}
 $i(id).onmouseout=function(){mostradicasf(this,'');}}}
 this.ativaSelecao=function(id){ if($i(id)){ $i(id).onclick=function selecao(){ if(g_tipoacao !="selecao"){ g_tipoacao="selecao"; mudaiconf("selecao"); pontosdistobj=new pontosdist(); objmapa.temaAtivo=""; wdocaf("360px","320px",g_locaplic+'/ferramentas/selecao/index.htm',"","","Sele&ccedil;&atilde;o");}
 else{mudaiconf("pan");}}
 $i(id).onmouseover=function(){mostradicasf(this,'Abre as ferramentas para sele&ccedil;&atilde;o de elementos de um tema. Os elementos selecionados podem ser utilizados em outras operaes, como buffer e seleo por tema.','selecao');}
 $i(id).onmouseout=function(){mostradicasf(this,'');}}}
 this.ativaTextofid=function(id){ if($i("textofid")){ $i("textofid").onclick=function textofid(){ if(g_tipoacao !="textofid"){ var temp=Math.random()+"b"; temp=temp.split("."); g_nomepin="pin"+temp[1]; mudaiconf("textofid"); pontosdistobj=new pontosdist(); g_tipoacao="textofid"; wdocaf("350px","200px",g_locaplic+"/ferramentas/inseretxt/index.htm","","","Texto");}
 else{mudaiconf("pan");}}
 $i("textofid").onmouseover=function(){mostradicasf(this,'Insere um texto no mapa clicando no ponto desejado no mapa. Utilize essa opo para adicionar informaes ao mapa.','inseretxt');}
 $i("textofid").onmouseout=function(){mostradicasf(this,'');}}}
 this.ativa3D=function(id){ if($i(id)){ $i(id).onclick=function v3d(){wdocaf("400px","200px",g_locaplic+"/ferramentas/3d/index.htm","","","3d");}
 $i(id).onmouseover=function(){mostradicasf(this,'Gera arquivo para 3d','3d');}
 $i(id).onmouseout=function(){mostradicasf(this,'');}}}
 this.ativaImpressao=function(id){ if($i(id)){ $i(id).onclick=function imprimir(){wdocaf("320px","180px",g_locaplic+"/ferramentas/imprimir/index.htm","","","Imprimir");}
 $i(id).onmouseover=function(){mostradicasf(this,'Imprime o mapa','imprimir');}
 $i(id).onmouseout=function(){mostradicasf(this,'');}}}
 this.criaEscalaGrafica=function(){ if(($i("escalaGrafica"))&&(!$i("imagemEscalaGrafica"))){$i("escalaGrafica").innerHTML="<img src=\""+g_localimg+"/icon_menuarrow.gif\" title='op&ccedil;&otilde;es' onclick='opcoesEscala()' style='cursor:pointer'/><img id=imagemEscalaGrafica src=''/>";}}
 this.atualizaEscalaGrafica=function(){ if($i("escalaGrafica")){ var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=escalagrafica&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"retornaBarraEscala",ajaxEscalaGrafica);}}
 this.atualizaReferencia=function(mapexten){ if($i("mapaReferencia")&& objmapa.extent !=mapexten){ var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=referencia&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"retornaReferencia",ajaxReferencia);}
 else{ if($i("imagemReferencia")) gravaQuadro("referencia",$i("imagemReferencia").src);}}
 this.atualizaLegendaHTML=function(){ if(($i("moveLegi"))||($i("legenda")&& $i(objmapa.guiaLegenda+"obj")&& $i(objmapa.guiaLegenda+"obj").style.display=="block")){ var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=criaLegendaHTML&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"criaLegenda",ajaxLegendaHTML);}}
 this.atualizaLegendaImagem=function(){ if($i("legenda")){ var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=criaLegendaImagem&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"legendaGrafica",ajaxLegendaImagem);}}
 this.atualizaListaTemas=function(temas){ if(($i("listaTemas"))&&(objmapa.temas !=temas)){ $i("listaTemas").innerHTML=""; var lista=temas.split(";"); mytreeview1=new Object(); mytreeview1=treeviewNew("mytreeview1", "default", "listaTemas", null); mytreeview1.createItem("g1", "<b>Camadas</b>", g_locaplic+"/imagens/foldermapa.gif", true, true, true, null); mytreeview1.itemExpand=expandeTema; var cor="rgb(250,250,250)"; for(l=0;l<lista.length;l++){ var ltema=lista[l].split("*"); var ck=""; if(ltema[1]==2){ck='CHECKED';}
 if(ltema[8]==undefined){ltema[8]="nao";}
 tnome="<input class=inputsb style='cursor:pointer' onmouseover=\"javascript:mostradicasf(this,'Clique para ligar ou desligar esse tema, mostrando-o ou no no mapa. Aps alterar o estado do tema, aguarde alguns instantes para o mapa ser redesenhado, ou clique no boto aplicar que ser mostrado.','ligadesliga')\" onmouseout=\"javascript:mostradicasf(this,'')\" type='checkbox' name=\"layer\" value='"+ltema[0]+"' "+ck+" onclick='mudaboxnf(\"ligadesliga\")'/>"; if(ltema[5]=="sim"){tnome+="&nbsp;<img src="+$im("estasel.png")+" title='limpa sele&ccedil;&atilde;o' onclick='limpaseltemaf(this)' onmouseover=\"javascript:mostradicasf(this,'Limpa sele&ccedil;&atilde;o existente nesse tema','limpasel')\" onmouseout=\"javascript:mostradicasf(this,'')\" \>";}
 if((ltema[10]=="sim")||(ltema[10]=="SIM")){tnome+="&nbsp;<img src="+$im("down1.gif")+" title='download' onclick='download(\""+ltema[0]+"\")' onmouseover=\"javascript:mostradicasf(this,'Clique para fazer o download desse tema no formato shapefile','download')\" onmouseout=\"javascript:mostradicasf(this,'')\" \>";}
 if((ltema[7]=="sim")||(ltema[7]=="SIM")){tnome+="&nbsp;<img src="+$im("down1.gif")+" title='download' onclick='download(\""+ltema[0]+"\")' onmouseover=\"javascript:mostradicasf(this,'Clique para fazer o download desse tema no formato shapefile','download')\" onmouseout=\"javascript:mostradicasf(this,'')\" \>";}
 if(navm){tnome+="<span style='background-color:"+cor+"' id=nometema"+ltema[0]+">&nbsp;"+ltema[2]+"</span>";}
 else{tnome+="<span style='background-color:"+cor+"' id=nometema"+ltema[0]+">&nbsp;"+"<img src='"+g_locaplic+"/imagens/branco.gif' width=0 height=15/>"+ltema[2]+"</span>";}
 mytreeview1.createItem(ltema[0], tnome, null, true, true, true, "g1"); tnome="<img width=0px src="+$im("branco.gif")+"/>"; mytreeview1.createItem("", tnome, imgBranco, false, true, false, ltema[0]); if(cor=="rgb(250,250,250)"){var cor="rgb(255,255,255)";}
 else{var cor="rgb(250,250,250)";}}}}
 this.atualizaFarol=function(mapscale){ if(objmapa.scale !=mapscale){ var lista=(objmapa.temas).split(";"); var farol="maisamarelo.png"; for(l=0;l<lista.length;l++){ var ltema=lista[l].split("*"); if(ltema[6]*1 < mapscale*1){var farol="maisverde.png";}
 if(ltema[6]*1 > mapscale*1){var farol="maisvermelho.png";}
 if(ltema[6]*1==0){var farol="maisamarelo.png";}
 if($i("farol"+ltema[0])){ $i("farol"+ltema[0]).src=g_locaplic+"/imagens/"+farol;}}}}
 this.criaCorpoMapa=function(){ if($i("corpoMapa")){ var ins="<table>"; ins+="<tr><td class=verdeclaro ></td><td class=verdeclaro ><input style='display:none;position:relative' type=image src='' id='imgN'/></td><td class=verdeclaro ></td></tr>"; ins+="<tr><td class=verdeclaro ><input style='display:none;position:relative' type=image src='' id='imgL'/></td><td class=verdeclaro ><input style='position:relative;top:0px;left:0px'' type=image src='' id='img'/></td><td class=verdeclaro ><input style='display:none;position:relative' type=image src='' id='imgO'/></td></tr>"; ins+="<tr><td class=verdeclaro ></td><td class=verdeclaro ><input style='display:none;position:relative' type=image src='' id='imgS'/></td><td class=verdeclaro ></td></tr>"; ins+="</table>"; $i("corpoMapa").innerHTML=ins;}
 var novoel=document.createElement("div"); novoel.style.zIndex=1000; novoel.id="obj"; var novoimg=document.createElement("img"); novoimg.src=g_locaplic+"/imagens/pan.gif"; novoimg.name="imgh"; novoimg.id='imgh'; novoimg.style.width="15px"; novoimg.style.height="15px"; novoel.appendChild(novoimg); novoel.onmouseover=function(){this.style.display="none";}
 novoel.onmouseout=function(){this.style.display="block";}
 document.body.appendChild(novoel); var docMapa=""; if(document.getElementById("openlayers_OpenLayers_Container")){ var docMapa=$i("openlayers_OpenLayers_Container");}
 if(document.getElementById("img")){ var docMapa=$i("img"); var novoel=document.createElement("div"); novoel.style.width="0px"; novoel.style.height="0px"; novoel.id="box1"; document.body.appendChild(novoel); if(navm){ $i("box1").style.filter="alpha(opacity=25)";}
 $i("box1").onmousemove=function(){ var wb=parseInt($i("box1").style.width); var hb=parseInt($i("box1").style.height); if(navn){ with(this.style){width=wb-10+"px";}
 with(this.style){height=hb-10+"px";}}
 if(navm){ $i("box1").style.width=wb-2; $i("box1").style.height=hb-2;}}; $i("box1").onmouseup=function(){zoomboxf("termina")}; this.parado="nao";}
 if(docMapa !=""){ ativaClicks(docMapa);}
 this.atualizaCorpoMapa=function(){ objaguarde.abre("ajaxCorpoMapa","Aguarde..."); var p=g_locaplic+"/classesphp/mapa_controle.php?funcao=corpo&g_sid="+g_sid; var cp=new cpaint(); cp.set_response_type("JSON"); cp.call(p,"redesenhaCorpo",ajaxCorpoMapa);}
 if(objmapa.finaliza){eval(objmapa.finaliza);}
 if($i(objmapa.guiaTemas+"obj")){ $i(objmapa.guiaTemas+"obj").style.overflow="auto"; $i(objmapa.guiaTemas+"obj").style.height=objmapa.h-13;}
 if($i(objmapa.guiaMenu+"obj")){ $i(objmapa.guiaMenu+"obj").style.overflow="auto"; $i(objmapa.guiaMenu+"obj").style.height=objmapa.h-13; $i(objmapa.guiaMenu+"obj").style.width="100%";}
 if($i(objmapa.guiaLegenda+"obj")){ $i(objmapa.guiaLegenda+"obj").style.overflow="auto"; $i(objmapa.guiaLegenda+"obj").style.height=objmapa.h-13; $i(objmapa.guiaLegenda+"obj").style.width="100%";}}
 this.verificaClickMapa=function(){ if(this.funcoesClickMapa.length > 0){ for(f=0;f<this.funcoesClickMapa.length;f++){ eval(this.funcoesClickMapa[f]);}}}}


 YAHOO.example.onWindowLoadMenu=function(p_oEvent){ if($i("menus")){ if(oMenuData.ajudas){ var ins='<div class="bd" style=z-index:2000 >'; ins+='<ul class="first-of-type" style="text-align:center;">'; ins+='<li class="yuimenubaritem">Ajuda?</li>'; ins+='<li class="yuimenubaritem">An&aacute;lise</li>'; if(!$i("listaPropriedades")){ins+='<li class="yuimenubaritem">Propriedades</li>';}
 ins+='<li class="yuimenubaritem">Janelas</li>'; ins+='<li class="yuimenubaritem">Arquivo</li>'; ins+='</ul>'; ins+='<a href=http://mapas.mma.gov.br target=blank ><p style=text-align:left;><img id=banneri3geo src=\''+g_locaplic+'/imagens/banneri3geo.png\'/></a>'; ins+='</div>'; $i("menus").innerHTML=ins;}}
 else{return;}
 function hideSubmenus(){ if(oMenuBar.activeItem){ var oSubmenu=oMenuBar.activeItem.cfg.getProperty("submenu"); if(oSubmenu){oSubmenu.hide();}}}
 function cancelTimer(){ if(nTimeoutId){window.clearTimeout(nTimeoutId);}}
 function onSubmenuMouseOut(p_sType, p_aArguments, p_oMenu){ cancelTimer(); nTimeoutId=window.setTimeout(hideSubmenus, 750);}
 function onMenuBarItemMouseOver(p_sType, p_aArguments, p_oMenuItem){ var oActiveItem=this.parent.activeItem; if(oActiveItem && oActiveItem !=this){ this.parent.clearActiveItem();}
 this.cfg.setProperty("selected", true); this.focus(); var oSubmenu=this.cfg.getProperty("submenu"); if(oSubmenu){ oSubmenu.show();}}
 function onMenuBarItemMouseOut(p_sType, p_aArguments, p_oMenuItem){ this.cfg.setProperty("selected", false); var oSubmenu=this.cfg.getProperty("submenu"); if(oSubmenu){ var oDOMEvent=p_aArguments[0], oRelatedTarget=YAHOO.util.Event.getRelatedTarget(oDOMEvent); if(
 !(
 oRelatedTarget==oSubmenu.element || this._oDom.isAncestor(oSubmenu.element, oRelatedTarget))){ oSubmenu.hide();}}}
 function onMenuBeforeShow(p_sType, p_sArgs){ if(this.getItemGroups().length==0){ var aItemsData=this.itemsData, nItems=aItemsData.length, oItemData, oItemConfig, oSubmenu; for(var i=0;i<nItems;i++){ oItemData=aItemsData[i]; if(oItemData){ oItemConfig={}; if(oItemData.url){ oItemConfig.url=oItemData.url;}
 if(oItemData.submenuItems){ oSubmenu=new YAHOO.widget.Menu(oItemData.submenuId); oSubmenu.itemsData=oItemData.submenuItems; oSubmenu.beforeShowEvent.subscribe(onMenuBeforeShow, oSubmenu, true); oSubmenu.mouseOverEvent.subscribe(cancelTimer); oSubmenu.mouseOutEvent.subscribe(onSubmenuMouseOut, oSubmenu, true); oItemConfig.submenu=oSubmenu;}
 this.addItem(new YAHOO.widget.MenuItem(oItemData.text, oItemConfig));}}
 this.render(this.parent.element);}}
 var nTimeoutId; var oMenuBar=new YAHOO.widget.MenuBar("menus"); for(nomeMenu in oMenuData){eval("var "+nomeMenu+"=new YAHOO.widget.Menu('"+nomeMenu+"')");}
 for(nomeMenu in oMenuData){eval(nomeMenu+".itemsData=oMenuData['"+nomeMenu+"']");}
 oMenuBar.mouseOverEvent.subscribe(cancelTimer); for(nomeMenu in oMenuData){eval(nomeMenu+".beforeShowEvent.subscribe(onMenuBeforeShow, "+nomeMenu+", true)");}
 for(nomeMenu in oMenuData){eval(nomeMenu+".mouseOverEvent.subscribe(cancelTimer)");}
 for(nomeMenu in oMenuData){eval(nomeMenu+".mouseOutEvent.subscribe(onSubmenuMouseOut, "+nomeMenu+", true)");}
 var conta=0; for(nomeMenu in oMenuData){ eval("oMenuBar.getItem("+conta+").cfg.setProperty('submenu',"+nomeMenu+")"); conta=conta+1;}
 YAHOO.util.Event.addListener(document, "click", hideSubmenus); var aMenuBarItems=oMenuBar.getItemGroups()[0], oMenuItem, i=aMenuBarItems.length-1; do{ oMenuItem=aMenuBarItems[i]; oMenuItem.mouseOverEvent.subscribe(onMenuBarItemMouseOver, oMenuItem, true); oMenuItem.mouseOutEvent.subscribe(onMenuBarItemMouseOut, oMenuItem, true);}
 while(i--); oMenuBar.render();};function testamenususpenso(){}

